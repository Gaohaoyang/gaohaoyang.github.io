---
layout: post
title:  "è®¡ç®—æœºç»å…¸åŸºç¡€ç®—æ³•æ€»ç»“-Classical Algorithm"
categories: è®¡ç®—æœºåŸºç¡€
tags:  æ•°æ®ç»“æ„ ç®—æ³• KMP Morris äºŒå‰æ ‘ å­—ç¬¦ä¸² leetcode é¢è¯• å›¾ åŒ¹é… åŒˆç‰™åˆ© ç‰›é¡¿æ³• äºŒåˆ†æ³• å­—èŠ‚
author: é£ä¹‹ç­
excerpt: æœ‰å“ªäº›ç»å…¸ç®—æ³•è®©äººæ‹æ‰‹ç§°å¿«ã€èµå¹ä¸å·²ï¼Ÿ
mathjax: true
permalink: /algorithm
---

* content
{:toc}

- æœ¬æ ç›®æ±‡æ€»å„ç±»ç»å…¸çš„åŸºç¡€ç®—æ³•

# æ€»ç»“

- ã€2022-5-24ã€‘[è„‰è„‰å¸–å­](https://maimai.cn/web/gossip_detail/30456623): è¿‘æœŸé¢è¯•äº†100å¤šäººï¼Œå¤§éƒ¨åˆ†äººèƒ½åŠ›éƒ½æ¯”è¾ƒå·®ã€‚
  - å‡¸åŒ…ç®—æ³•ï¼Œç»æç¤ºèƒ½å†™å‡ºæ¥çš„2ä¸ªã€‚
  - äºŒå‰æ ‘çš„ morris éå†ï¼Œèƒ½å†™å‡ºæ¥çš„5ä¸ªã€‚
  - å­¤å²›é—®é¢˜ï¼Œ10æ¥ä¸ªäººã€‚
  - æ¥é›¨æ°´ï¼Œèƒ½æƒ³åˆ°åŒæŒ‡é’ˆæ³•çš„10ä¸ªä¸åˆ°ï¼ŒåŠ¨è§„æˆ–å•è°ƒæ ˆçš„10æ¥ä¸ªï¼Œå“ªæ€•æœ€èµ·ç æš´åŠ›è§£ä¹Ÿä¸åˆ°ä¸€åŠäººã€‚
  - æœ€ç®€å•çš„äºŒåˆ†ï¼Œä¾ç„¶æœ‰30ï¼…ä»¥ä¸Šåšä¸å‡ºæ¥ã€‚
  - æ˜¯æˆ‘æ”¶åˆ°ç®€å†çš„è´¨é‡å¤ªå·®äº†å—ï¼Ÿçœ‹è„‰è„‰ï¼Œå‡ ä¹äººå‡ç§’ medium , hard ä¹Ÿä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼›
  - æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘å‘å¤§å®¶é€éœ²äº†ç¤¾æ‹›çœŸå®ç¯å¢ƒé‡Œè¿™äº›é¢˜ç›®çš„èƒ½å†™å‡ºæ¥çš„æ¯”ä¾‹ï¼Œè¿™å¯æ¯” lc ä¸Šçš„ ac ç‡çœŸå®å¤šäº†ï¼Œè¢«ä¸€é¡¿ç‹‚å–·ã€‚é‚£äº›å–·æˆ‘çš„äººï¼Œä»–ä»¬ä¸‹æ¬¡å½“é¢è¯•å®˜æ—¶ï¼Œç…§æ ·å» Ic ä¸Šæ‰¾å‡ é“ medium ç”šè‡³ hard ï¼Œç¨å¾®æ”¹æ”¹è€ƒé¢è¯•è€…ã€‚
- ã€2022-2-28ã€‘[labuladong çš„ç®—æ³•å°æŠ„](https://mp.weixin.qq.com/s/yN4cHQRsFa5SWlacopHXYQ)ï¼Œ[fucking-algorithm](https://github.com/labuladong/fucking-algorithm)ï¼Œ[GitHub Pages](https://labuladong.github.io/algo/)ï¼Œæ€»å…± 60 å¤šç¯‡åŸåˆ›æ–‡ç« ï¼Œéƒ½æ˜¯åŸºäº LeetCode çš„é¢˜ç›®ï¼Œæ¶µç›–äº†æ‰€æœ‰é¢˜å‹å’ŒæŠ€å·§ï¼Œè€Œä¸”ä¸€å®šè¦åšåˆ°ä¸¾ä¸€åä¸‰ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œç»ä¸æ˜¯ç®€å•çš„ä»£ç å †ç Œï¼Œåé¢æœ‰ç›®å½•ã€‚åˆ·é¢˜åˆ·é¢˜ï¼Œåˆ·çš„æ˜¯é¢˜ï¼ŒåŸ¹å…»çš„æ˜¯æ€ç»´ï¼Œæœ¬ä»“åº“çš„ç›®çš„å°±æ˜¯ä¼ é€’è¿™ç§ç®—æ³•æ€ç»´ã€‚
- ã€2021-11-7ã€‘[The Algorithms](https://the-algorithms.com/#aboutUs)ï¼Œ[é¡¹ç›®åœ°å€](https://github.com/TheAlgorithms), åˆ†åˆ«æä¾›äº†ç”¨ Pythonã€Javaã€Cã€C++ ç­‰æ•°åç§ç¼–ç¨‹è¯­è¨€å®ç°çš„ç®—æ³•ï¼Œæ¯ç§è¯­è¨€éƒ½æœ‰è‡ªå·±çš„ GitHub ç®—æ³•ä»£ç åº“ã€‚å¦‚ä¸‹é¢†åŸŸçš„ç®—æ³•ï¼š
  - æ’åºï¼ˆSortsï¼‰ç®—æ³•
  - æœç´¢ï¼ˆSearchesï¼‰ç®—æ³•
  - åŠ¨æ€è§„åˆ’ï¼ˆDynamic Programmingï¼‰ç®—æ³•: ç¼–è¾‘è·ç¦»ï¼ˆEdit Distanceï¼‰ã€å­é›†å’Œé—®é¢˜ï¼ˆSum of Sunsetï¼‰ã€æœ€å°åˆ†åŒºï¼ˆMinimum Partitionï¼‰ç­‰å­ç®—æ³•ã€‚
  - åŠ å¯†ï¼ˆCiphersï¼‰ç®—æ³•
  - æ•°æ®ç»“æ„ï¼ˆData Structuresï¼‰ç®—æ³•
  - æ•°å­¦ï¼ˆMathï¼‰ç®—æ³•
  - æ•°å­—å›¾åƒå¤„ç†ï¼ˆDigital Image Processingï¼‰ç®—æ³•
- ã€2022-5-24ã€‘[è®¡ç®—æœºåŸºç¡€ç¬”è®°](https://note.youdao.com/s/bN1i6C7J)ï¼Œæœ‰é“äº‘


## è§‚ç‚¹

ã€2012-8-22ã€‘é™ˆçš“ï¼š[ä¸ºä»€ä¹ˆæˆ‘åå¯¹çº¯ç®—æ³•é¢è¯•é¢˜](https://coolshell.cn/articles/8138.html)
- é—®éš¾çš„ç®—æ³•é¢˜å¹¶æ²¡æœ‰é”™ï¼Œé”™çš„å¾ˆå¤šé¢è¯•å®˜åªæ˜¯åœ¨è‚¤æµ…ç”šè‡³é”™è¯¯åœ°ç†è§£ç€é¢è¯•ç®—æ³•é¢˜çš„ç›®çš„ã€‚
- èƒ½è§£ç®—æ³•é¢˜å¹¶ä¸æ„å‘³ç€è¿™ä¸ªäººå°±æœ‰èƒ½åŠ›å°±èƒ½åœ¨å·¥ä½œä¸­è§£å†³é—®é¢˜ï¼Œä½ å¯ä»¥æƒ³æƒ³ï¼Œå°å­¦å¥¥æ•°é¢˜å¯èƒ½æ¯”è¿™äº›é¢˜æ›´éš¾ï¼Œä½†å¹¶ä¸æ„å‘³ç€é‚£äº›å¥¥æ•°èƒ½æ‰‹å°±èƒ½è§£å†³å®é™…é—®é¢˜ã€‚
- **çº¯ç®—æ³•é¢˜æ ¹æœ¬ä¸èƒ½åæ˜ ä¸€ä¸ªç¨‹åºå‘˜çš„ç»¼åˆèƒ½åŠ›**
- è¦è€ƒé‡ç¨‹åºå‘˜çš„é‚£äº›ç»¼åˆç´ è´¨å‘¢ï¼Ÿ
	- ä¼šä¸ä¼šåšéœ€æ±‚åˆ†æï¼Ÿæ€ä¹ˆç†è§£é—®é¢˜çš„ï¼Ÿ
	- è§£å†³é—®é¢˜çš„æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿæƒ³æ³•å¦‚ä½•ï¼Ÿ
	- ä¼šä¸ä¼šå¯¹åŸºç¡€çš„ç®—æ³•å’Œæ•°æ®ç»“æ„çµæ´»è¿ç”¨ï¼Ÿ
- å·¥ç¨‹ä¸Šï¼Œéš¾æ˜¯çš„æ˜¯è¿™äº›æŒ‘æˆ˜ï¼š
	- è½¯ä»¶çš„ç»´æŠ¤æˆæœ¬è¿œè¿œå¤§äºè½¯ä»¶çš„å¼€å‘æˆæœ¬ã€‚
	- è½¯ä»¶çš„è´¨é‡å˜å¾—è¶Šæ¥è¶Šé‡è¦ï¼Œæ‰€ä»¥ï¼Œæµ‹è¯•å·¥ä½œä¹Ÿå˜å¾—è¶Šæ¥è¶Šé‡è¦ã€‚
	- è½¯ä»¶çš„éœ€æ±‚æ€»æ˜¯åœ¨å˜çš„ï¼Œè½¯ä»¶çš„éœ€æ±‚æ€»æ˜¯ä¸€ç‚¹ä¸€ç‚¹å¾€ä¸ŠåŠ çš„ã€‚
	- ç¨‹åºä¸­å¤§é‡çš„ä»£ç éƒ½æ˜¯åœ¨å¤„ç†ä¸€äº›é”™è¯¯çš„æˆ–æ˜¯ä¸æ­£å¸¸çš„æµç¨‹ã€‚
- å¯¹äºç¼–ç¨‹èƒ½åŠ›ä¸Šï¼Œåº”è¯¥ä¸»è¦è€ƒé‡ç¨‹åºå‘˜å¦‚ä¸‹èƒ½åŠ›ï¼š
	- è®¾è®¡æ˜¯å¦æ»¡è¶³å¯¹éœ€æ±‚çš„ç†è§£ï¼Œå¹¶å¯ä»¥åº”å¯¹å¯èƒ½å‡ºç°çš„éœ€æ±‚å˜åŒ–ã€‚
	- ç¨‹åºæ˜¯å¦æ˜“è¯»ï¼Œæ˜“ç»´æŠ¤ï¼Ÿ
	- é‡æ„ä»£ç çš„èƒ½åŠ›å¦‚ä½•ï¼Ÿ
	- ä¼šä¸ä¼šæµ‹è¯•è‡ªå·±å†™å¥½çš„ç¨‹åºï¼Ÿ

## ä»£ç å®æˆ˜

ã€2022-5-20ã€‘[wqw547243068/DS_Algorithm](https://github.com/wqw547243068/DS_Algorithm/blob/master/LeetCode%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.ipynb)
- crack the coding interviewï¼š C++ ç¼–å†™
- å‰‘æŒ‡offer


## è§£é¢˜æŠ€å·§

ã€2022-6-19ã€‘Question List Tips Acknowledgements 

|æ¡ä»¶|é¦–é€‰æ€è·¯|å…¶ä»–|
|---|---|---|
|æ•°ç»„å·²æ’åº input array is sorted|äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary searchï¼‰ã€åŒæŒ‡é’ˆï¼ˆTwo pointersï¼‰||
|å…¨æ’åˆ—/å­é›† asked for all permutations/subsets|å›æº¯ Backtracking||
|æ ‘ given a tree|DFSï¼ŒBFS||
|å›¾ graph|DFSï¼ŒBFS||
|é“¾è¡¨  given a linked lis|åŒæŒ‡é’ˆï¼ˆTwo pointersï¼‰||
|ç¦æ­¢é€’å½’ recursion is banned| æ ˆ stack||
|ç©ºé—´é™åˆ¶ must solve in-place|äº¤æ¢æ•°å€¼ Swap corresponding valuesï¼ŒæŒ‡é’ˆå­˜æ”¾å¤šä¸ªå€¼ Store one or more different values in the same pointer ||
|æœ€å¤§/æœ€å° åºåˆ—/å­é›†/é€‰é¡¹ asked for maximum/minimum subarray/subset/options|åŠ¨æ€è§„åˆ’ Dynamic programming ||
|æœ€å¤§æœ€å°kä¸ª asked for top/least k items|å † Heap||
|å…¬å…±å­ä¸² asked for common strings| Mapï¼ŒTrieï¼›Map/Set for 0(1) time & 0( n ) spaceï¼›Sort input for 0(nlogn) time and 0(1) space ||
||||

- ï¼ˆ1ï¼‰If input array is sorted then 
  - Binary search 
  - Two pointers 
- ï¼ˆ2ï¼‰If asked for all permutations / subsets then 
  - Backtracking 
-ï¼ˆ3ï¼‰If given a treethen 
  - DFS 
  - BFS 
- ï¼ˆ4ï¼‰If given a graph then 
  - DFS 
  - BFS 
- ï¼ˆ4ï¼‰If given a linked list then 
  - Two pointerS 
- ï¼ˆ5ï¼‰If recursion is banned then 
  - Stack 
- ï¼ˆ6ï¼‰If must solve in-place then 
  - Swap corresponding values 
  - Store one or more different values in the same pointer 
- ï¼ˆ7ï¼‰ If asked for maximum / minimum subarray / subset / options then 
  - Dynamic programming 
- ï¼ˆ8ï¼‰If asked for top / least k items then 
  - Heap 
- ï¼ˆ9ï¼‰If asked for common strings then 
  - Map 
  - Trie 
- ELse 
  - Map / Set for 0(1) time & 0( n ) space - Sort input for 0( nlogn ) time and 0(1) space 


# æ•°æ®ç»“æ„ä¸ç®—æ³•

- æ•°æ®ç»“æ„ç®—æ³•å¯è§†åŒ–ç½‘ç«™[visualgo](https://visualgo.net/en)
- åŸºç¡€ç®—æ³•å¯è§†åŒ–algorithm-visualizerï¼Œ[GitHubåœ°å€](https://github.com/algorithm-visualizer/algorithm-visualizer),[æ¼”ç¤ºåœ°å€](https://algorithm-visualizer.org/)
- ã€2020-1-2ã€‘[æ¸…åå¤§å­¦é‚“ä¿Šè¾‰](https://dsa.cs.tsinghua.edu.cn/~deng/ds/dsacpp/)æ•°æ®ç»“æ„,[è§†é¢‘](https://www.bilibili.com/video/av81804191)

<iframe src="//player.bilibili.com/player.html?aid=81804191&cid=139968407&page=24" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" height="600" width="100%"> </iframe>

- ã€2020-6-18ã€‘å¿«é€Ÿåˆ·é¢˜ï¼š[ç®—æ³•æ¨¡æ¿](https://github.com/greyireland/algorithm-pattern)ï¼Œæœ€ç§‘å­¦çš„åˆ·é¢˜æ–¹å¼ï¼Œæœ€å¿«é€Ÿçš„åˆ·é¢˜è·¯å¾„ï¼Œä½ å€¼å¾—æ‹¥æœ‰~ [Gitbook](https://greyireland.gitbook.io/algorithm-pattern/ru-men-pian/quickstart)
![](https://camo.githubusercontent.com/dec4d9e996c2357647a28b995307e826531f994f/68747470733a2f2f696d672e667569626f6f6d2e636f6d2f696d672f6c656574636f64655f6578706c6f72652e706e67)
- ã€2021-1-23ã€‘å¯è§†åŒ–è§£é‡ŠA*ã€Dijkstraã€BFSå¯»è·¯ç®—æ³•ï¼Œ[åœ¨çº¿ä½“éªŒåœ°å€](https://interactive-pathfinding.netlify.app/)ï¼Œå®Œæ•´ä»£ç [Interactive pathfinding](https://github.com/npretto/pathfinding) - Visual explanation of pathfinding algorithms and how a*, Dijkstra and BFS can be seen as the same algorithm with different parameter/data structures used under the hood' by NicolÃ² Pretto
- ã€2021-4-14ã€‘ç®—æ³•ç»éªŒæ€»ç»“ï¼Œ[labuladong](https://labuladong.gitee.io/algo/), [giteeåœ°å€]([labuladong](https://labuladong.gitee.io/algo/))ï¼Œå„ç§ç±»å‹é¢˜ç›®è§£é¢˜æ€è·¯ï¼Œå¦‚[åŠ¨æ€è§„åˆ’](https://github.com/labuladong/fucking-algorithm/blob/master/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E7%B3%BB%E5%88%97/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%AF%A6%E8%A7%A3%E8%BF%9B%E9%98%B6.md)ï¼Œ[pdfæ–‡ä»¶](https://share.weiyun.com/vdGvmPMe)

- ã€2021-5-8ã€‘åŸºç¡€[ç®—æ³•ç¬”è®°](https://dairongpeng.github.io/algorithm-note/)ï¼Œ[Githubåœ°å€](https://github.com/Dairongpeng/algorithm-note)ï¼ŒMorrisç®—æ³•å¯ä»¥å®ç°äºŒå‰æ ‘éå†O(N)æ—¶é—´+O(1)ç©ºé—´

ç›®å½•æ¦‚è§ˆ

- [x] [ç¬¬ä¸€èŠ‚ å¤æ‚åº¦ã€æ’åºã€äºŒåˆ†ã€å¼‚æˆ–](https://dairongpeng.github.io/algorithm-note/01)
- [x] [ç¬¬äºŒèŠ‚ é“¾è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€é€’å½’ã€å“ˆå¸Œè¡¨ã€é¡ºåºè¡¨](https://dairongpeng.github.io/algorithm-note/02)
- [x] [ç¬¬ä¸‰èŠ‚ å½’å¹¶æ’åºã€éšæœºå¿«æ’ä»‹ç»](https://dairongpeng.github.io/algorithm-note/03)
- [x] [ç¬¬å››èŠ‚ æ¯”è¾ƒå™¨ä¸å †](https://dairongpeng.github.io/algorithm-note/04)
- [x] [ç¬¬äº”èŠ‚ å‰ç¼€æ ‘ã€æ¡¶æ’åºä»¥åŠæ’åºæ€»ç»“](https://dairongpeng.github.io/algorithm-note/05)
- [x] [ç¬¬å…­èŠ‚ é“¾è¡¨ç›¸å…³é¢è¯•é¢˜æ€»ç»“](https://dairongpeng.github.io/algorithm-note/06)
- [x] [ç¬¬ä¸ƒèŠ‚ äºŒå‰æ ‘åŸºæœ¬ç®—æ³•](https://dairongpeng.github.io/algorithm-note/07)
- [x] [ç¬¬å…«èŠ‚ äºŒå‰æ ‘çš„é€’å½’æ€ç»´å»ºç«‹](https://dairongpeng.github.io/algorithm-note/08)
- [x] [ç¬¬ä¹èŠ‚ è®¤è¯†è´ªå¿ƒç®—æ³•](https://dairongpeng.github.io/algorithm-note/09)
- [x] [ç¬¬åèŠ‚ å¹¶æŸ¥é›†ã€å›¾ç›¸å…³ç®—æ³•ä»‹ç»](https://dairongpeng.github.io/algorithm-note/10)
- [x] [ç¬¬åä¸€èŠ‚ æš´åŠ›é€’å½’æ€ç»´ã€åŠ¨æ€è§„åˆ’æ€ç»´å»ºç«‹](https://dairongpeng.github.io/algorithm-note/11)
- [x] [ç¬¬åäºŒèŠ‚ ç”¨ç®€å•æš´åŠ›é€’å½’æ€ç»´æ¨å¯¼åŠ¨æ€è§„åˆ’æ€ç»´](https://dairongpeng.github.io/algorithm-note/12)
- [x] [ç¬¬åä¸‰èŠ‚ å•è°ƒæ ˆå’Œçª—å£åŠå…¶æ›´æ–°ç»“æ„](https://dairongpeng.github.io/algorithm-note/13)
- [x] [ç¬¬åå››èŠ‚ ç±»ä¼¼æ–æ³¢é‚£å¥‘æ•°åˆ—çš„é€’å½’](https://dairongpeng.github.io/algorithm-note/14)
- [x] [ç¬¬åäº”èŠ‚ è®¤è¯†KMPç®—æ³•ä¸bfprtç®—æ³•](https://dairongpeng.github.io/algorithm-note/15)
- [x] [ç¬¬åå…­èŠ‚ è®¤è¯†Manacher(é©¬æ‹‰è½¦)ç®—æ³•](https://dairongpeng.github.io/algorithm-note/16)
- [x] [ç¬¬åä¸ƒèŠ‚ è®¤è¯†Morriséå†](https://dairongpeng.github.io/algorithm-note/17)
- [x] [ç¬¬åå…«èŠ‚ çº¿æ®µæ ‘](https://dairongpeng.github.io/algorithm-note/18)
- [x] [ç¬¬åä¹èŠ‚ æ‰“è¡¨æŠ€å·§å’ŒçŸ©é˜µå¤„ç†æŠ€å·§](https://dairongpeng.github.io/algorithm-note/19)
- [x] [ç¬¬äºŒåèŠ‚ ç»„ç´¯åŠ å’Œé—®é¢˜æ•´ç†](https://dairongpeng.github.io/algorithm-note/20)
- [x] [ç¬¬äºŒåä¸€èŠ‚ å“ˆå¸Œå‡½æ•°æœ‰å…³çš„ç»“æ„å’Œå²›é—®é¢˜](https://dairongpeng.github.io/algorithm-note/21)
- [x] [ç¬¬äºŒåäºŒèŠ‚ è§£å†³èµ„æºé™åˆ¶ç±»é¢˜ç›®](https://dairongpeng.github.io/algorithm-note/22)
- [x] [ç¬¬äºŒåä¸‰èŠ‚ æœ‰åºè¡¨åŸç†åŠæ‰©å±•](https://dairongpeng.github.io/algorithm-note/23)
- [x] [ç¬¬äºŒåå››èŠ‚ ACè‡ªåŠ¨æœºå’Œå¡ç‰¹å…°æ•°](https://dairongpeng.github.io/algorithm-note/23)

## æ€»ç»“

- [æ•°æ®ç»“æ„æ€»ç»“ç¯‡](https://blog.csdn.net/weixin_46733442/article/details/105923468)
- [æ•°æ®ç»“æ„ä¹‹çº¿æ€§è¡¨](https://www.cnblogs.com/chengxiao/p/5979059.html)

**æ•°æ®ç»“æ„**ä¸**ç®—æ³•**æ˜¯ç¨‹åºè®¾è®¡çš„ä¸¤å¤§åŸºç¡€ï¼Œå¤§å‹çš„ITä¼ä¸šé¢è¯•æ—¶ä¹Ÿä¼šå‡ºæ•°æ®ç»“æ„å’Œç®—æ³•çš„é¢˜ç›®ï¼Œå®ƒå¯ä»¥è¯´æ˜ä½ æ˜¯å¦æœ‰è‰¯å¥½çš„é€»è¾‘æ€ç»´ï¼Œç”¨æ¥æµ‹è¯•æ½œåŠ›ï¼Œå³ä½¿æŠ€æœ¯å­˜åœ¨æŸäº›ç¼ºé™·ï¼Œé¢è¯•å…¬å¸ä¹Ÿä¼šè®¤ä¸ºä½ å¾ˆæœ‰åŸ¹å…»ä»·å€¼ï¼Œè‡³å°‘åœ¨ä¸€æ®µæ—¶é—´ä¹‹åï¼ŒæŠ€æœ¯å¯ä»¥å¾ˆå¿«å¾—åˆ°æé«˜

### ç®—æ³•å¤æ‚åº¦

è®¡ç®—çš„å¤æ‚åº¦æ˜¯ä¸€ä¸ªç‰¹å®šç®—æ³•åœ¨è¿è¡Œæ—¶æ‰€æ¶ˆè€—çš„è®¡ç®—èµ„æº(æ—¶é—´å’Œç©ºé—´)çš„åº¦é‡ã€‚

è®¡ç®—å¤æ‚åº¦åˆåˆ†ä¸ºä¸¤ç±»:
- 1ã€**æ—¶é—´å¤æ‚åº¦**
  - æ—¶é—´å¤æ‚åº¦ä¸æ˜¯æµ‹é‡ä¸€ä¸ªç®—æ³•æˆ–ä¸€æ®µä»£ç åœ¨æŸä¸ªæœºå™¨æˆ–è€…æ¡ä»¶ä¸‹è¿è¡Œæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚æ—¶é—´å¤æ‚åº¦ä¸€èˆ¬æŒ‡æ—¶é—´å¤æ‚æ€§ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå®šæ€§æè¿°è¯¥ç®—æ³•çš„è¿è¡Œæ—¶é—´ï¼Œå…è®¸æˆ‘ä»¬åœ¨ä¸è¿è¡Œå®ƒä»¬çš„æƒ…å†µä¸‹æ¯”è¾ƒä¸åŒçš„ç®—æ³•ã€‚ä¾‹å¦‚ï¼Œå¸¦æœ‰O(n)çš„ç®—æ³•æ€»æ˜¯æ¯”O(nÂ²)è¡¨ç°å¾—æ›´å¥½ï¼Œå› ä¸ºå®ƒçš„å¢é•¿ç‡å°äºO(nÂ²)ã€‚
- 2ã€**ç©ºé—´å¤æ‚åº¦**
  - å°±åƒæ—¶é—´å¤æ‚åº¦æ˜¯ä¸€ä¸ªå‡½æ•°ä¸€æ ·ï¼Œç©ºé—´å¤æ‚åº¦ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä»æ¦‚å¿µä¸Šè®²ï¼Œå®ƒä¸æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œåªéœ€å°†æ—¶é—´æ›¿æ¢ä¸ºç©ºé—´å³å¯ã€‚ ç»´åŸºç™¾ç§‘å°†ç©ºé—´å¤æ‚åº¦å®šä¹‰ä¸ºï¼š

ç®—æ³•æˆ–è®¡ç®—æœºç¨‹åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯è§£å†³è®¡ç®—é—®é¢˜å®ä¾‹æ‰€éœ€çš„å­˜å‚¨ç©ºé—´é‡ï¼Œä»¥ç‰¹å¾æ•°é‡ä½œä¸ºè¾“å…¥çš„å‡½æ•°ã€‚

ã€2022-8-23ã€‘[å¸¸ç”¨æ•°æ®ç»“æ„æ“ä½œä¸ç®—æ³•å¤æ‚åº¦æ€»ç»“](https://www.cnblogs.com/shine-lee/p/11913229.html)

å„ç§å¤æ‚åº¦çš„æ€»ç»“å¯¹æ¯”
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-qvj2lq49k0/6681d271b31d41e096d662d82d35befa~noop.image)

ä¸åŒæ—¶é—´å¤æ‚åº¦çš„å¢é•¿é€Ÿåº¦å¯¹æ¯”å¦‚ä¸‹ï¼Œå›¾ç‰‡æ¥è‡ª[Big-O Cheat Sheet Poster](https://imgur.com/gallery/7tIk0/comment/727923588)
- ![](https://s2.ax1x.com/2019/11/22/M7ETYQ.png)

æ¸è¿›å¤æ‚åº¦åˆ†æçš„æ˜¯è¾“å…¥è§„æ¨¡è¾ƒå¤§æ—¶çš„æƒ…å†µï¼Œè¾“å…¥è§„æ¨¡è¾ƒå°æ—¶å‘¢ï¼Ÿ
- åœ¨è¾“å…¥è§„æ¨¡è¾ƒå°æ—¶ï¼Œå°±ä¸èƒ½è½»æ˜“åœ°å¿½ç•¥æ‰å¸¸æ•°ğ‘çš„ä½œç”¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ç‰‡æ¥è‡ª[Growth Rates Review](https://opendsa-server.cs.vt.edu/ODSA/Books/Everything/html/GrowthRate.html)ã€‚å¤æ‚åº¦å¢é•¿å¿«çš„åœ¨è¾“å…¥è§„æ¨¡è¾ƒå°æ—¶å¯èƒ½ä¼šå°äºå¤æ‚åº¦å¢é•¿æ…¢çš„ã€‚
- ![](https://s2.ax1x.com/2019/11/22/M7uFZq.png)
- é€‰æ‹©ç®—æ³•æ—¶ï¼Œä¸èƒ½æ— è„‘ä¸Šçœ‹èµ·æ¥æ›´å¿«çš„é«˜çº§æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œè¿˜å¾—å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œå› ä¸ºé«˜çº§æ•°æ®ç»“æ„å’Œç®—æ³•åœ¨å®ç°æ—¶å¾€å¾€é™„å¸¦é¢å¤–çš„è®¡ç®—å¼€é”€ï¼Œå¦‚æœå…¶å¸¦æ¥çš„å¢ç›Šæ— æ³•æŠµæ¶ˆæ‰éšå«çš„ä»£ä»·ï¼Œå¯èƒ½å°±ä¼šå¾—ä¸å¿å¤±ã€‚

è¿™åŒæ—¶ä¹Ÿç»™äº†æˆ‘ä»¬åœ¨ä»£ç ä¼˜åŒ–æ–¹å‘ä¸Šçš„å¯ç¤ºï¼Œ
- ä¸€æ˜¯ä»ğ‘“(ğ‘›)ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚ä½¿ç”¨æ›´é«˜çº§çš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼›
- è¿˜æœ‰æ˜¯å¯¹å¸¸æ•°ğ‘è¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚ç§»é™¤å¾ªç¯ä½“ä¸­ä¸å¿…è¦çš„ç´¢å¼•è®¡ç®—ã€é‡å¤è®¡ç®—ç­‰ã€‚

é™¤äº†å¤§ğ‘‚è®°å·ï¼Œè¿˜æœ‰å¤§Î©è®°å·å’ŒÎ˜è®°å·ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸‹ç•Œå’Œç¡®ç•Œï¼Œ
- Î©(ğ‘“(ğ‘›)): ğ‘â‹…ğ‘“(ğ‘›)â‰¤ğ‘‡(ğ‘›)
- Î˜(ğ‘“(ğ‘›)): ğ‘1â‹…ğ‘“(ğ‘›)â‰¤ğ‘‡(ğ‘›)â‰¤ğ‘2â‹…ğ‘“(ğ‘›)

ä»–ä»¬çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå›¾ç‰‡æˆªè‡ª[é‚“ä¿Šè¾‰-æ•°æ®ç»“æ„C++æè¿°ç¬¬ä¸‰ç‰ˆ](https://book.douban.com/subject/25859528/)
- ![](https://s2.ax1x.com/2019/11/22/M7nVvd.png)

å¸¸ç”¨æ•°æ®ç»“æ„æ“ä½œä¸ç®—æ³•çš„å¤æ‚åº¦
- ![](https://s2.ax1x.com/2019/11/22/M7VTHK.png)
- ![](https://s2.ax1x.com/2019/11/22/M7ekdK.png)
- ![](https://s2.ax1x.com/2019/11/22/MTUdY9.png)

### ï¼ˆ1ï¼‰æ•°æ®ç»“æ„

- é€»è¾‘ç»“æ„
- é›†åˆï¼šæ— é€»è¾‘å…³ç³»
- çº¿æ€§ç»“æ„
	- ä¸€èˆ¬ï¼šçº¿æ€§è¡¨ï¼Œå…ƒç´ é¡ºåºæ’åˆ—ï¼›
	- é¡ºåºè¡¨ï¼šåŸºæœ¬æ€æƒ³ï¼šå…ƒç´ çš„å­˜å‚¨ç©ºé—´æ˜¯**è¿ç»­**çš„ã€‚åœ¨å†…å­˜ä¸­æ˜¯ä»¥é¡ºåºå­˜å‚¨ï¼Œå†…å­˜åˆ’åˆ†çš„åŒºåŸŸæ˜¯è¿ç»­çš„ã€‚
	- **é“¾å¼è¡¨**ï¼š
	  - åŸºæœ¬æ€æƒ³ï¼šå…ƒç´ çš„å­˜å‚¨ç©ºé—´æ˜¯**ç¦»æ•£**çš„ï¼Œå•ç‹¬çš„ï¼ˆç‰©ç†ï¼‰ï¼Œå®ƒä»¬å¯ä»¥é€šè¿‡åœ¨é€»è¾‘ä¸Š**æŒ‡é’ˆ**çš„è”ç³»ä½¿å¾—å®ƒæˆä¸ºäº†æ•´ä½“çš„é“¾è¡¨ã€‚
	  - é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹åˆ†æˆ**æ•°æ®åŸŸ** data + **æŒ‡é’ˆåŸŸ** nextï¼Œ[å›¾](https://img-blog.csdn.net/20140417154704718)
		- å•é“¾è¡¨ï¼šheadæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œå°¾èŠ‚ç‚¹nextæŒ‡é’ˆä¸ºç©ºï¼ˆnullï¼‰
		- åŒé“¾è¡¨ï¼šé™¤äº†nextï¼Œæ–°å¢preæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°¾ç»“ç‚¹çš„nextæŒ‡é’ˆä»ç„¶ä¸ºç©ºï¼Œ[å›¾](https://img-blog.csdn.net/20140417160445843)
		- å¾ªç¯é“¾è¡¨ï¼šå°¾ç»“ç‚¹æŒ‡å‘å¤´ç»“ç‚¹ï¼Œå½¢æˆç¯çŠ¶ï¼Œ[å›¾](https://img-blog.csdn.net/20140417160438046)
	- ç‰¹æ®Šï¼šé˜Ÿåˆ—ã€æ ˆ
	- æ¨å¹¿ï¼šæ•°ç»„ã€å¹¿ä¹‰è¡¨
- éçº¿æ€§ç»“æ„ï¼šæ ‘ã€å›¾ã€å¤šç»´æ•°ç»„
- å­˜å‚¨ç»“æ„ï¼šæ¶‰åŠå¤šç§å­˜å‚¨ç»“æ„
- é¡ºåºã€é“¾å¼ã€ç´¢å¼•ã€æ•£åˆ—

### ï¼ˆ2ï¼‰ç®—æ³•

- æ’åºï¼š
- å†…éƒ¨æ’åºï¼šåªç”¨å†…å­˜
	- æ’å…¥æ’åºï¼šç›´æ¥æ’å…¥æ’åºã€å¸Œå°”æ’åº
	- é€‰æ‹©æ’åºï¼šç®€å•é€‰æ‹©æ’åºã€å †æ’åº
	- äº¤æ¢æ’åºï¼šå†’æ³¡æ’åºã€å¿«é€Ÿæ’åº
	- å½’å¹¶æ’åºï¼š
	- åŸºæ•°æ’åºï¼š
- å¤–éƒ¨æ’åºï¼šå†…å­˜å’Œå¤–å­˜ç»“åˆä½¿ç”¨
- æŸ¥æ‰¾ï¼š
  - é™æ€æŸ¥æ‰¾è¡¨
	- äºŒåˆ†æŸ¥æ‰¾
	- é¡ºåºæŸ¥æ‰¾
	- åˆ†å—æŸ¥æ‰¾
  - åŠ¨æ€æŸ¥æ‰¾è¡¨
    - äºŒå‰æ’åºæ ‘
	- å¹³è¡¡äºŒå‰æ ‘
	- B-æ ‘


## åŸºç¡€ç®—æ³•

æ ˆå’Œé˜Ÿåˆ—æ˜¯ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œæ—¢ç„¶ç‰¹æ®Šå°±æœ‰ä¸åŒç‚¹ã€‚

### é¡ºåº vs é“¾å¼

é¡ºåºå­˜å‚¨ç»“æ„
- ä¼˜ç‚¹
  - å®ç°æ¯”è¾ƒç®€å•
  - æŸ¥æ‰¾æŒ‡å®šä½ç½®çš„å…ƒç´ æ•ˆç‡å¾ˆå¿«ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºå¸¸æ•°é˜¶O(1)ã€€
  - æ— éœ€é¢å¤–å­˜å‚¨å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼ˆé“¾å¼å­˜å‚¨ç”±äºå­˜å‚¨ç©ºé—´éšæœºåˆ†é…ï¼Œéœ€è¦å­˜å‚¨å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ï¼‰
- ç¼ºç‚¹
  - éœ€è¦é¢„å…ˆåˆ†é…å­˜å‚¨ç©ºé—´ï¼Œå¦‚æœæ•°æ®å…ƒç´ æ•°é‡å˜åŒ–è¾ƒå¤§ï¼Œå¾ˆéš¾ç¡®å®šå­˜å‚¨å®¹é‡ï¼Œå¹¶å¯¼è‡´ç©ºé—´æµªè´¹
  - è‹¥é¢‘ç¹è¿›è¡Œæ’å…¥åˆ é™¤æ“ä½œï¼Œåˆ™å¯èƒ½éœ€è¦é¢‘ç¹ç§»åŠ¨å¤§é‡æ•°æ®å…ƒç´ 
- é¡ºåºå­˜å‚¨ç»“æ„ï¼Œæ˜¯ç”¨ä¸€æ®µåœ°å€è¿ç»­çš„å­˜å‚¨å•å…ƒä¾æ¬¡å­˜å‚¨çº¿æ€§è¡¨çš„æ•°æ®å…ƒç´ 
- ![](https://images2015.cnblogs.com/blog/1024555/201610/1024555-20161022154805467-38556657.png)

é“¾å¼å­˜å‚¨ç»“æ„
- ä¼˜ç‚¹
  - ä¸éœ€è¦æå‰åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œå…ƒç´ ä¸ªæ•°ä¸å—é™åˆ¶
  - å¯¹äºæ’å…¥åˆ é™¤æ“ä½œï¼Œåœ¨å·²æ‰¾åˆ°ç›®æ ‡ä½ç½®å‰æä¸‹ï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œä»…éœ€å¤„ç†å…ƒç´ ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(1)
- ç¼ºç‚¹
  - å®ç°ç›¸å¯¹å¤æ‚
  - æŸ¥æ‰¾æ•ˆç‡è¾ƒä½ï¼Œæœ€åæƒ…å†µä¸‹éœ€è¦éå†æ•´å¼ è¡¨
  - ç”±äºç‰©ç†å­˜å‚¨ä½ç½®ä¸å›ºå®šï¼Œéœ€è¦é¢å¤–å­˜å‚¨æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»
- é“¾å¼å­˜å‚¨ç»“æ„ï¼Œç”¨ä¸€ç»„ä»»æ„çš„å­˜å‚¨å•å…ƒæ¥å­˜å‚¨æ•°æ®å…ƒç´ ï¼Œä¸è¦æ±‚ç‰©ç†å­˜å‚¨å•å…ƒçš„è¿ç»­æ€§ï¼Œç”±ä¸€ç³»åˆ—ç»“ç‚¹ç»„æˆï¼Œæ¯ä¸ªç»“ç‚¹é™¤äº†è¦å­˜å‚¨æ•°æ®å¤–ï¼Œè¿˜éœ€å­˜å‚¨æŒ‡å‘åç»§ç»“ç‚¹æˆ–å‰é©±ç»“ç‚¹çš„å­˜å‚¨åœ°å€ã€‚
- ![](https://images2015.cnblogs.com/blog/1024555/201610/1024555-20161022155916467-1811275833.png)


### æ ˆ

é¡ºåºæ ˆï¼ˆSequence Stackï¼‰
- åŸºæœ¬æ€æƒ³ï¼šåè¿›å…ˆå‡ºï¼ˆå…ˆè¿›åå‡ºï¼‰å³æ ˆä¸­å…ƒç´ è¢«å¤„ç†æ—¶ï¼ŒæŒ‰åè¿›å…ˆå‡ºçš„é¡ºåºè¿›è¡Œï¼Œæ ˆåˆå«åè¿›å…ˆå‡ºè¡¨ï¼ˆLIFOï¼‰ã€‚

ï¼ˆ1ï¼‰æ•°ç»„å®ç°æ ˆ
- Cï¼š[stack_usingarray.c](https://github.com/LeechanX/Data-Structures-and-Algorithms-in-C/blob/master/Stack/stack_usingarray.c)

```c++
#include <stdio.h>
#include <stdlib.h>
// å®Œæ•´ç‰ˆ
struct Stack{
	int capability;
	int sp;
	int *data;
};
typedef struct Stack *slink;

// ç²¾ç®€ç‰ˆ
typedef struct {
    ElemType *elem; // å…ƒç´ ç±»å‹
    int top; // æ ˆé¡¶å…ƒç´ ä½ç½®
    int size; // æ ˆç©ºé—´
    int increment;
} SqSrack;
```

ï¼ˆ2ï¼‰é“¾è¡¨å®ç°æ ˆ
- Cï¼š[stack_usinglist.c](https://github.com/LeechanX/Data-Structures-and-Algorithms-in-C/blob/master/Stack/stack_usinglist.c)

```c++
#include <stdio.h>
#include <stdlib.h>

struct Stack{
	int size;
	struct List{ // é“¾è¡¨èŠ‚ç‚¹
		int item;
		struct List *next;
	} *head; // å®šä¹‰é“¾è¡¨
};
typedef struct Stack *slink;
```

### é˜Ÿåˆ—

é˜Ÿåˆ—ï¼ˆSequence Queueï¼‰
- åŸºæœ¬æ€æƒ³ï¼šå…ˆè¿›å…ˆå‡ºå³å…ˆè¢«æ¥æ”¶çš„å…ƒç´ å°†å…ˆè¢«å¤„ç†ï¼Œåˆå«å…ˆè¿›å…ˆå‡ºè¡¨ï¼ˆFIFOï¼‰ã€‚

åˆ†ç±»
- é¡ºåºé˜Ÿåˆ—
  - åˆ¤æ–­é˜Ÿæ»¡å’Œé˜Ÿç©ºçš„æ ‡å¿—ï¼Œæ€»ç»“ï¼š
  1. é˜Ÿç©ºï¼šhead = tail
  2. é˜Ÿæ»¡ï¼štail = m
- å¾ªç¯é˜Ÿåˆ—
  - åˆ¤æ–­é˜Ÿæ»¡å’Œé˜Ÿç©º
  1. é˜Ÿç©ºï¼šhead = tail
  2. é˜Ÿæ»¡ï¼štail + 1 = head(åœ¨é˜Ÿåˆ—ä¸­ä¼šç•™ä¸€ä¸ªç©ºç€çš„ç©ºé—´ï¼Œæ‰€ä»¥è¦åŠ 1)

é˜Ÿåˆ—æ•°æ®ç»“æ„

ï¼ˆ1ï¼‰ä½¿ç”¨æ•°ç»„å®ç°é˜Ÿåˆ—

```c++
#include <stdio.h>
#include <stdlib.h>
// å®Œæ•´æ ¼å¼
struct Queue{
	int capibility; // å®¹é‡
	int *data; // æ•°ç»„å†…å®¹æŒ‡é’ˆ
	int head; // å¤´å…ƒç´ ä½ç½®
	int rear; // å°¾å…ƒç´ ä½ç½®
};
typedef struct Queue *qlink;
// ç²¾ç®€æ ¼å¼
typedef struct {
    ElemType * elem;
    int front;
    int rear;
    int maxSize;
}SqQueue;
```

å®Œæ•´ä»£ç ï¼š
- Cï¼š[queue_usingarray.c](https://github.com/LeechanX/Data-Structures-and-Algorithms-in-C/blob/master/Queue/queue_usingarray.c)

ï¼ˆ2ï¼‰ä½¿ç”¨é“¾è¡¨listå®ç°é˜Ÿåˆ—

```c++
#include <stdio.h>
#include <stdlib.h>
// å®šä¹‰é“¾è¡¨
struct List{
	int item;
	struct List *next;
};
// å®šä¹‰é˜Ÿåˆ—
struct Queue{
	int size; // é˜Ÿåˆ—å¤§å°
	struct List *head; // å¤´æŒ‡é’ˆ
	struct List *rear; // å°¾æŒ‡é’ˆ
};
typedef struct Queue *qlink; // å®šä¹‰é˜Ÿåˆ—
```

å®Œæ•´ä»£ç 
- Cï¼š[queue_usinglist.c](https://github.com/LeechanX/Data-Structures-and-Algorithms-in-C/blob/master/Queue/queue_usinglist.c)


å¾ªç¯é˜Ÿåˆ—
- ![](https://pic2.zhimg.com/80/v2-fdd496a89d7dba22ed9f5ad7c7fda4fd_1440w.jpg)
- SqQueue.rear++

éå¾ªç¯é˜Ÿåˆ—
- ![](https://pic2.zhimg.com/80/v2-60ea7426edeb776fae2564a712d1d3e9_1440w.jpg)
- SqQueue.rear = (SqQueue.rear + 1) % SqQueue.maxSize

å…¶å®ƒé˜Ÿåˆ—
- LRU : Least recently used æœ€è¿‘æœ€å°‘ä½¿ç”¨
  - æ–°æ•°æ®æ’å…¥é“¾è¡¨å¤´éƒ¨
  - ç¼“å­˜æ•°æ®è®¿é—®æ—¶ï¼Œå°†æ•°æ®ç§»åˆ°é“¾è¡¨å¤´éƒ¨
  - é“¾è¡¨æ»¡æ—¶ï¼Œæ·˜æ±°å°¾éƒ¨æ•°æ®
- Two queuesï¼šä¸¤ä¸ªç¼“å­˜é˜Ÿåˆ—ï¼Œä¸€ä¸ª**FIFO**é˜Ÿåˆ—ï¼Œä¸€ä¸ª**LRU**é˜Ÿåˆ—
  - æ–°æ•°æ®æ’å…¥FIFOé˜Ÿåˆ—
  - è‹¥FIFOé‡Œçš„æ•°æ®æ²¡æœ‰è¢«è®¿é—®ï¼Œåˆ™æŒ‰ç…§FIFOè§„åˆ™æ·˜æ±°
  - FIFOé˜Ÿåˆ—é‡Œçš„æ•°æ®å†æ¬¡è¢«è®¿é—®ï¼Œåˆ™ç§»åˆ°LRUé˜Ÿåˆ—å¤´éƒ¨
  - LRUé˜Ÿåˆ—é‡Œçš„æ•°æ®å†æ¬¡è¢«è®¿é—®ï¼Œåˆ™ç§»åˆ°å¤´éƒ¨
  - LRUé˜Ÿåˆ—æ·˜æ±°å°¾éƒ¨çš„æ•°æ®
- Multi Queueï¼ˆMQï¼‰
- LFU:Â Least Frequently Used å†å²æœ€å°‘ä½¿ç”¨
  - æ¯ä¸ªæ•°æ®éƒ½éœ€è¦ç»´æŠ¤å¼•ç”¨è®¡æ•°
  - æ–°æ•°æ®æ’å…¥é˜Ÿåˆ—å°¾éƒ¨Â (å› ä¸ºå¼•ç”¨è®¡æ•°ä¸º1)
  - é˜Ÿåˆ—æ•°æ®è¢«è®¿é—®åï¼Œå¼•ç”¨è®¡æ•°å¢åŠ ï¼Œé˜Ÿåˆ—é‡æ–°æ’åº
  - æ·˜æ±°æ•°æ®æ—¶ï¼Œä»å°¾éƒ¨æ·˜æ±°Â (æ·˜æ±°å¼•ç”¨è®¡æ•°æœ€å°çš„æ•°æ®)


### é¡ºåºè¡¨

é¡ºåºè¡¨æ•°æ®ç»“æ„

```c++
typedef struct {
    ElemType *elem;
    int length;
    int size;
    int increment;
} SqList;
```


### é“¾è¡¨

ä¸‰è€…çš„åŒºåˆ«ï¼ˆä»ä¸Šé¢ä¸‰ä¸ªå›¾æˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºæ¥ï¼‰ï¼š
- 1ã€å®ƒä»¬éƒ½æœ‰æ•°æ®åŸŸï¼ˆdata(p)ï¼‰å’ŒæŒ‡é’ˆåŸŸ(next(p))ï¼Œä½†æ˜¯ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºåŒé“¾è¡¨æœ‰ä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œä¸€ä¸ªæŒ‡å‘å®ƒçš„å‰èŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘å®ƒçš„åèŠ‚ç‚¹ã€‚
- 2ã€å•é“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸä¸ºç©ºï¼Œæ²¡æœ‰åç»§èŠ‚ç‚¹ï¼›å¾ªç¯é“¾è¡¨å’ŒåŒé“¾è¡¨æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸæŒ‡å‘å¤´èŠ‚ç‚¹ï¼Œä¸‹ä¸€ä¸ªç»“ç‚¹ä¸ºå¤´èŠ‚ç‚¹ï¼Œæ„æˆå¾ªç¯ï¼›
- 3ã€å•é“¾è¡¨å’Œå¾ªç¯é“¾è¡¨åªå¯å‘ä¸€ä¸ªæ–¹å‘éå†ï¼›åŒé“¾è¡¨å’Œå¾ªç¯é“¾è¡¨ï¼Œé¦–èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹è¢«è¿æ¥åœ¨ä¸€èµ·ï¼Œå¯è§†ä¸ºâ€œæ— å¤´æ— å°¾â€ï¼›åŒé“¾è¡¨å¯ä»¥å‘ä¸¤ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œçµæ´»åº¦æ›´å¤§ã€‚

ä»£ç 

```c++
// å®šä¹‰é“¾è¡¨èŠ‚ç‚¹
struct LinkNode
{
	int data; // æ•°æ®åŸŸ
	struct LinkNode *next; // æŒ‡é’ˆåŸŸ
	//struct LinkNode *pre; // åŒé“¾è¡¨
};
// å®šä¹‰é“¾è¡¨ï¼Œä¸€ä¸ªæŒ‡å‘èŠ‚ç‚¹çš„æŒ‡é’ˆå³å¯
typedef struct LinkNode *llink; 

// ç²¾ç®€ç‰ˆï¼šé“¾è¡¨ç»“æ„
typedef struct LNode {
    ElemType data;
    struct LNode *next;
} LNode, *LinkList; 
```

å®Œæ•´å‡½æ•°å®ç°ï¼š
- Cï¼š[list.h](https://github.com/LeechanX/Data-Structures-and-Algorithms-in-C/blob/master/List/list.h)
- C++ 


C++ç±»æ¥è¡¨ç¤ºèŠ‚ç‚¹çš„ç»“æ„å¦‚ä¸‹ï¼š[å‚è€ƒ](http://c.biancheng.net/view/1570.html)

```c
struct Node{
   int m_data;//å­˜å‚¨æ•°æ®éƒ¨åˆ†
   Node* m_next;//å­˜å‚¨ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€
};
// æˆ–è€…
struct ListNode
{
    double value;
    ListNode *next;
};
// å®šä¹‰é“¾è¡¨ï¼šå®šä¹‰ä¸€ä¸ªç©ºçš„headæŒ‡é’ˆå³å¯
ListNode *head = nullptr;
// åˆ›å»ºé“¾è¡¨
head = new ListNode; //åˆ†é…æ–°ç»“ç‚¹
head->value = 12.5; //å­˜å‚¨å€¼
head->next = nullptr; //è¡¨ç¤ºé“¾è¡¨çš„ç»“å°¾


List a;//åˆ›å»ºä¸€ä¸ªé“¾è¡¨å¯¹è±¡a
a.push_back(1);//å°†æ•´æ•°1æ”¾å…¥é“¾è¡¨a

void push_back(Node*& b, int i)
{
    b = new Node;
    b->m_data = i;
    b->m_next = nullptr;
}

Node* a = nullptr;
push_back(a, 1);
push_back(a, 2); // é”™è¯¯ï¼ŒæŒ‡é’ˆæ²¡æœ‰ç§»åŠ¨
// æ”¹æ­£
push_back(a, 1);
push_back(a->m_next, 2);
push_back(a->m_next->m_next, 3);
push_back(a->m_next->m_next->m_next, 4);
// æ”¹è¿›ï¼Œå¢åŠ å°¾æŒ‡é’ˆ
Node* a = nullptr; 
Node* tail = nullptr;
push_back(a, 1); 
tail = a;
push_back(tail->m_next, 2); 
tail = tail->m_next;
push_back(tail->m_next, 3); 
tail = tail->m_next;

```

C++ æ–¹å¼
- ç»™å®ƒæä¾›ä¸€ä¸ªæˆ–å¤šä¸ªæ„é€ å‡½æ•°ï¼Œé‚£å°†ä¼šå¸¦æ¥å¾ˆå¤§çš„æ–¹ä¾¿ï¼Œå› ä¸ºè¿™æ ·å°†ä½¿å¾—ç»“ç‚¹åœ¨åˆ›å»ºæ—¶å³å¯åˆå§‹åŒ–ã€‚å‰æ–‡è¿˜æ›¾ç»æåˆ°è¿‡ï¼Œæ„é€ å‡½æ•°å¯ä»¥åƒå¸¸è§„å‡½æ•°ä¸€æ ·ï¼Œä½¿ç”¨é»˜è®¤å½¢å‚æ¥å®šä¹‰ï¼Œè€Œä¸ºç»“ç‚¹çš„åç»§æŒ‡é’ˆæä¾›ä¸€ä¸ªé»˜è®¤çš„ nullptr å½¢å‚æ˜¯å¾ˆå¸¸è§çš„ã€‚

```c++
struct ListNode
{
    double value;
    ListNode *next;
    //æ„é€ å‡½æ•°
    ListNode(double valuel, ListNode *nextl = nullptr)
    {
        value = value1;
        next = next1;
    }
};
// åˆ›å»ºé“¾è¡¨
ListNode *secondPtr = new ListNode(13.5);
ListNode *head = new ListNode(12.5, secondPtr);
// å¾ªç¯åˆ›å»ºé“¾è¡¨
double number;
while (numberFile >> number)
{
    //åˆ›å»ºä¸€ä¸ªç»“ç‚¹ä»¥ä¿å­˜è¯¥æ•°å­—
    numberList = new ListNode(number, numberList);
}
// éå†é“¾è¡¨
ListNode *ptr = numberList;
while (ptr != nullptr)
{
    cout << ptr->value << " "; //å¤„ç†ç»“ç‚¹ï¼ˆæ˜¾ç¤ºç»“ç‚¹å†…å®¹ï¼‰
    ptr = ptr->next; //ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªç»“ç‚¹
}
```

å®Œæ•´ç¤ºä¾‹

```c++
// This program illustrates the building
// and traversal of a linked list.
#include <iostream>
#include <fstream>
using namespace std;
struct ListNode
{
    double value;
    ListNode *next;
    // Constructor
    ListNode(double value1, ListNode *next1 = nullptr)
    {
        value = value1; next = next1;
    }
};

int main()
{
    double number; // Used to read the file
    ListNode *numberList = nullptr; // List of numbers
    // Open the file
    ifstream numberFile("numberFileâ€¢dat");
    if (!numberFile)
    {
        cout << "Error in opening the file of numbers.";
        exit (1);
    }
    //Read the file into a linked list
    cout << "The contents of the file are: " << endl;
    while (numberFile >> number)
    {
        cout << number << " ";
        // Create a node to hold this number
        numberList = new ListNode(number, numberList);
    }
    // Traverse the list while printing
    cout << endl << "The contents of the list are: " << endl;
    ListNode *ptr = numberList;
    while (ptr != nullptr)
    {
        cout << ptr->value << " "; // Process node
        ptr = ptr->next; // Move to next node
    }
    return 0;
}
```

### hashå“ˆå¸Œ

å“ˆå¸Œå‡½æ•°ï¼š
- H(key): K -> D , key âˆˆ K
æ„é€ æ–¹æ³•
- ç›´æ¥å®šå€æ³•
- é™¤ç•™ä½™æ•°æ³•
- æ•°å­—åˆ†ææ³•
- æŠ˜å æ³•
- å¹³æ–¹å–ä¸­æ³•
å†²çªå¤„ç†æ–¹æ³•
- é“¾åœ°å€æ³•ï¼škey ç›¸åŒçš„ç”¨å•é“¾è¡¨é“¾æ¥
- å¼€æ”¾å®šå€æ³•
  - çº¿æ€§æ¢æµ‹æ³•ï¼škey ç›¸åŒ -> æ”¾åˆ° key çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼ŒHi = (H(key) + i) % m
  - äºŒæ¬¡æ¢æµ‹æ³•ï¼škey ç›¸åŒ -> æ”¾åˆ° Di = 1^2, -1^2, â€¦, Â±ï¼ˆk)^2,(k<=m/2ï¼‰
  - éšæœºæ¢æµ‹æ³•ï¼šH = (H(key) + ä¼ªéšæœºæ•°) % m

ä½œè€…ï¼š[tcpisopen](https://zhuanlan.zhihu.com/p/516819910)

```c++
typedef char KeyType;

typedef struct {
    KeyType key;
}RcdType;

typedef struct {
    RcdType *rcd;
    int size;
    int count;
    bool *tag;
}HashTable;
```


## æ’åºç®—æ³•


- ç›´è§‚å­¦ä¹ æ’åºç®—æ³• [è§†è§‰ç›´è§‚æ„Ÿå—è‹¥å¹²å¸¸ç”¨æ’åºç®—æ³•](http://www.blogjava.net/todayx-org/archive/2012/01/08/368091.html)
- ã€2020-7-18ã€‘çœŸäººè¡¨æ¼”æ’åºç®—æ³•
  - [å†’æ³¡æ’åº](https://www.ixigua.com/6737477016913759499/)
  - [æ’å…¥æ’åº](https://www.ixigua.com/6746112027594378504/)
  - [å½’å¹¶æ’åº](https://www.ixigua.com/6748741660663926024/)
- ä¸­æ–‡ç‰ˆVisuAlgoç½‘ç«™ä¸º[VisuAlgo - æ•°æ®ç»“æ„å’Œç®—æ³•åŠ¨æ€å¯è§†åŒ–](https://zh.visualgo.net/) (Chinese)

### æ€»ç»“

å£è¯€ï¼š**å¿«å¸Œå †å½’å¹¶**
- å¿«å¸Œå †ï¼šnlog(n)
- å †é€‰å½’å¹¶ï¼šä¸ç¨³å®š

| æ’åºç®—æ³• | å¹³å‡æ—¶é—´å¤æ‚åº¦ | æœ€å·®æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | æ•°æ®å¯¹è±¡ç¨³å®šæ€§ |
| --- | --- | --- | --- | --- |
| å†’æ³¡æ’åº | O(n2) | O(n2) | O(1) | ç¨³å®š |
| é€‰æ‹©æ’åº | O(n2) | O(n2) | O(1) | æ•°ç»„ä¸ç¨³å®šã€é“¾è¡¨ç¨³å®š |
| æ’å…¥æ’åº | O(n2) | O(n2) | O(1) | ç¨³å®š |
| å¿«é€Ÿæ’åº | O(n*log2n) | O(n2) | O(log2n) | ä¸ç¨³å®š |
| å †æ’åº | O(n*log2n) | O(n*log2n) | O(1) | ä¸ç¨³å®š |
| å½’å¹¶æ’åº | O(n*log2n) | O(n*log2n) | O(n) | ç¨³å®š |
| å¸Œå°”æ’åº | O(n*log2n) | O(n2) | O(1) | ä¸ç¨³å®š |
| è®¡æ•°æ’åº | O(n+m) | O(n+m) | O(n+m) | ç¨³å®š |
| æ¡¶æ’åº | O(n) | O(n) | O(m) | ç¨³å®š |
| åŸºæ•°æ’åº | O(k*n) | O(n2) | ç¨³å®š |  |

å‡æŒ‰ä»å°åˆ°å¤§æ’åˆ—
- kï¼šä»£è¡¨æ•°å€¼ä¸­çš„ â€œæ•°ä½â€ ä¸ªæ•°
- nï¼šä»£è¡¨æ•°æ®è§„æ¨¡
- mï¼šä»£è¡¨æ•°æ®çš„æœ€å¤§å€¼å‡æœ€å°å€¼

[img](https://img-blog.csdn.net/20140508213426500) ![img](https://img-blog.csdn.net/20140508213426500)

### æ’å…¥æ’åº

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼šç›´æ¥æ’å…¥æ’åºï¼Œä»å­—é¢æ„æ€å¯ä»¥çœ‹å‡ºï¼Œç›´æ¥æ’å…¥æ•°æ®å®Œæˆæ’åº
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼šåœ¨æ’å…¥ç¬¬iä¸ªæ•°æ—¶ï¼Œå‡è®¾**å‰i-1æ•°å·²ç»æ’å¥½åº**äº†ï¼Œåªéœ€è¦å°†ç¬¬iä¸ªæ•°æ’å…¥åˆ°i-1ä¸­ï¼Œä½¿å¾—è¿™iä¸ªæ•°ä¹Ÿæ˜¯é¡ºåºçš„
  - æ³¨æ„ï¼šæ’å…¥æ—¶ï¼Œç‰‡æ®µæ•´ä½“åç§»
- [](https://img-blog.csdn.net/20140508144743875) ![](https://img-blog.csdn.net/20140508144743875)


```c++
void insertSort(vector<int>& nums){
  int len=nums.size();
  for(int i=1;i<len;i++){
    int key=nums[i];
    int j=i-1;
    while(j>=0 and nums[j]>key){
      nums[j+1]=nums[j];
      j--;
    }
    nums[j+1]=key;
  }
}
```

### å¸Œå°”æ’åºï¼ˆShellï¼‰â€”â€” æ”¹è¿›æ’å…¥æ’åº

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼š å¸Œå°”æ’åºåˆç§°ä¸º**ç¼©å°å¢é‡**æ’åºï¼Œæ˜¯å¯¹ç›´æ¥æ’å…¥æ’åºæ–¹æ³•çš„æ”¹è¿›ã€‚ï¼ˆæŒªåŠ¨æ¬¡æ•°å¤ªå¤šï¼‰
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼šä»å±€éƒ¨æœ‰åºåˆ°æ•´ä½“æœ‰åº
  - å°†æ•´ä¸ªåºåˆ—åˆ†æˆå¤šä¸ª**å­åºåˆ—**ï¼Œç„¶ååˆ†åˆ«è¿›è¡Œ**ç›´æ¥æ’å…¥æ’åº**ï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—ä¸­çš„æ‰€æœ‰æ•°åŸºæœ¬æœ‰åºæ—¶ï¼Œå†å¯¹æ•´ä½“è¿›è¡Œä¸€æ¬¡ç›´æ¥æ’å…¥æ’åºã€‚
- [](https://img-blog.csdn.net/20140508145900203) ![](https://img-blog.csdn.net/20140508145900203)
- æ¡ˆä¾‹ï¼šå‡è®¾æœ‰10ä¸ªæ•°
  1. d1 = n/2 = 5, æ¯éš”5ä¸ªå…ƒç´ ç›¸äº’æ¯”è¾ƒï¼Œæ‰§è¡Œç›´æ¥æ’å…¥æ’åº
  1. d2 = d1/2 = 3, å–å¥‡æ•°
  1. d3 = d2/2 = 1, å–å¥‡æ•°

### ç®€å•é€‰æ‹©æ’åº

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼šç®€å•é€‰æ‹©æ’åºä¹Ÿå«**ç›´æ¥é€‰æ‹©æ’åº**ï¼Œå…¶å®è¯´ç™½äº†è·Ÿç›´æ¥æ’å…¥æ’åºçš„é“ç†ç‰¹åˆ«ç®€å•ï¼Œ**æ•ˆç‡ä½**ã€‚
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼šå‰åŠéƒ¨åˆ†**å…¨å±€æœ‰åº**
  - é¦–å…ˆåœ¨ nä¸ªæ•°ä¸­é€‰æ‹©ä¸€ä¸ª**æœ€å°**çš„æ•°ï¼Œå¹¶å°†å®ƒä»ä¸­åˆ é™¤ï¼Œä½œä¸ºæ–°çš„ä¸€ç»„æ•°çš„ç¬¬ä¸€ä¸ªï¼›
  - å†åœ¨å‰©ä¸‹çš„æ•°ä¸­é€‰æ‹©æœ€å°çš„æ•°ï¼Œå°†å®ƒä»ä¸­åˆ é™¤ï¼Œä½œä¸ºæ–°çš„ä¸€ç»„æ•°çš„ç¬¬äºŒä¸ªã€‚ã€‚ã€‚ã€‚
  - å¦‚æ­¤åå¤ï¼Œç›´åˆ°æ’åºå®Œæˆï¼Œæœ€åå¾—åˆ°ä¸€ç»„ä»å°åˆ°å¤§æ’åºçš„æ•°ã€‚
- [img](https://img-blog.csdn.net/20140508153237937) ![](https://img-blog.csdn.net/20140508153237937)

### å†’æ³¡æ’åº

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼šå†’æ³¡æ’åºï¼Œå°±è·Ÿæ°´é‡Œçš„ç‰©ä½“ä¸€æ ·ï¼Œå°çš„å¾€ä¸Šæµ®ï¼Œå¤§çš„å¾€ä¸‹æ²‰ã€‚
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼šå°†æ•°ç»„å‚ç›´æ’åˆ—ï¼Œå–å‡ºæœ€åä¸€ä¸ªå…ƒç´ é€ä¸ªå‘ä¸Šäº¤æ¢ï¼Œå¾—åˆ°å¤§æ•°ï¼ˆå°æ•°ï¼‰ï¼Œç»§ç»­æ­¥éª¤ä¸€çš„æ“ä½œï¼Œç›´åˆ°æ’åºå®Œæˆã€‚
- [img](https://img-blog.csdn.net/20140508172643703) ![img](https://img-blog.csdn.net/20140508172643703)

### å¿«æ’ â€”â€” å†…æ’ä¸­é€Ÿåº¦æœ€å¿«

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼šå¿«é€Ÿæ’åºæ˜¯ç›®å‰å†…éƒ¨æ’åºä¸­**é€Ÿåº¦æœ€å¿«**çš„ä¸€ç§æ’åºç®—æ³•ã€‚
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼š
  - é€‰å–ä¸€ä¸ªæ•°æ®ï¼ˆé€šå¸¸æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªæ•°ï¼‰ä½œä¸ºå…³é”®æ•°æ®ï¼Œç„¶åå°†æ‰€æœ‰æ¯”å®ƒå°çš„æ•°éƒ½æ”¾åœ¨å®ƒ**å‰é¢**ï¼Œæ‰€æœ‰æ¯”å®ƒå¤§çš„æ•°éƒ½æ”¾åœ¨å®ƒ**åé¢**ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä¸€è¶Ÿ**å¿«é€Ÿæ’åº**
  - å†ä»åˆ†å¼€çš„éƒ¨åˆ†é€‰å–**åŸºå‡†æ•°**ï¼Œè¿›è¡Œåˆ†ç»„åˆ’åˆ†ï¼Œé‡å¤æ‰§è¡Œï¼Œç›´åˆ°å®Œæˆã€‚
- [img](https://img-blog.csdn.net/20140508210528000) ![](https://img-blog.csdn.net/20140508210528000)

å¿«æ’å­˜åœ¨çš„é—®é¢˜ï¼Œå¦‚ä½•ä¼˜åŒ–
* 3 ç§å¿«æ’åŸºå‡†é€‰æ‹©æ–¹æ³•ï¼šéšæœºï¼ˆrandå‡½æ•°ï¼‰ã€å›ºå®šï¼ˆé˜Ÿé¦–ã€é˜Ÿå°¾ï¼‰ã€ä¸‰æ•°å–ä¸­ï¼ˆé˜Ÿé¦–ã€é˜Ÿä¸­å’Œé˜Ÿå°¾çš„ä¸­é—´æ•°ï¼‰

* 4ç§ä¼˜åŒ–æ–¹å¼ï¼š
- ä¼˜åŒ–1ï¼šå½“å¾…æ’åºåºåˆ—çš„é•¿åº¦åˆ†å‰²åˆ°ä¸€å®šå¤§å°åï¼Œä½¿ç”¨æ’å…¥æ’åº
- ä¼˜åŒ–2ï¼šåœ¨ä¸€æ¬¡åˆ†å‰²ç»“æŸåï¼Œå¯ä»¥æŠŠä¸Keyç›¸ç­‰çš„å…ƒç´ èšåœ¨ä¸€èµ·ï¼Œç»§ç»­ä¸‹æ¬¡åˆ†å‰²æ—¶ï¼Œä¸ç”¨å†å¯¹ä¸keyç›¸ç­‰å…ƒç´ åˆ†å‰²
- ä¼˜åŒ–3ï¼šä¼˜åŒ–é€’å½’æ“ä½œ
- ä¼˜åŒ–4ï¼šä½¿ç”¨å¹¶è¡Œæˆ–å¤šçº¿ç¨‹å¤„ç†å­åºåˆ—

```c++
void swap(vector<int>& vec,int a,int b){
    vec[a]=vec[a]^vec[b];
    vec[b]=vec[a]^vec[b];
    vec[a]=vec[a]^vec[b];
}
int partition(vector<int>& vec,int start,int end){
    int pivot=vec[start+(end-start)/2];
    while(start<end){
        while(start<end and vec[start]<pivot) start++;
        while(start<end and vec[end]>pivot) end--;
        if(start<end) swap(vec,start,end);
    }
    return start;
}
void quickSort(vector<int>& vec,int start,int end){
    if(start>end) return;
    int pivot=partition(vec,start,end);
    quickSort(vec,start,pivot-1);
    quickSort(vec,pivot+1,end);
}
```

### å½’å¹¶æ’åº

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼šå½’å¹¶æ’åºåˆç§°ä¸º**äºŒè·¯åˆå¹¶**æ“ä½œï¼Œä½¿ç”¨åˆå¹¶æ“ä½œå®Œæˆæ’åºçš„ç®—æ³•ã€‚
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼šå°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„æœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæ–°çš„æœ‰åºè¡¨ï¼Œæœ€åå°†æ‰€æœ‰çš„æœ‰åºè¡¨åˆæˆä¸€ä¸ªæ•´ä½“æœ‰åºè¡¨ã€‚
- [img](https://img-blog.csdn.net/20140508211303359) ![img](https://img-blog.csdn.net/20140508211303359)

### åŸºæ•°æ’åº

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼šå‰é¢ä»‹ç»çš„æ’åºæ–¹æ³•éƒ½æ˜¯å¯¹**å…ƒç´ **è¿›è¡Œçš„ï¼ŒåŸºæ•°æ’åºæ˜¯å¯¹**å…ƒç»„**è¿›è¡Œçš„ã€‚
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼šä»ä½ä½åˆ°é«˜ä½ä¾æ¬¡å¯¹å¾…æ’åºçš„æ•°è¿›è¡Œåˆ†é…å’Œæ”¶é›†ï¼Œç»è¿‡dè¶Ÿåˆ†é…å’Œæ”¶é›†ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ã€‚
- [img](https://img-blog.csdn.net/20140508211640812) ![img](https://img-blog.csdn.net/20140508211640812)

### å †æ’åºâ€”â€”ç®€å•é€‰æ‹©æ’åºæ”¹è¿›

- ï¼ˆ1ï¼‰ç®€ä»‹ï¼š**å †æ’åº**æ˜¯ä¸€ä¸ªç›¸å½“æœ‰ç”¨çš„æ’åºæŠ€æœ¯ï¼Œç‰¹åˆ«é€‚ç”¨äºå¯¹**å¤§é‡**çš„è®°å½•è¿›è¡Œæ’åºã€‚åŒæ—¶ï¼Œå †æ’åºä¹Ÿæ˜¯å¯¹ç®€å•é€‰æ‹©æ’åºçš„æ”¹è¿›ã€‚
  - å †çš„å®šä¹‰ï¼šnä¸ªå…ƒç´ çš„åºåˆ—ï½›K1ï¼ŒK2ï¼Œ...ï¼ŒKnï½å½“æ»¡è¶³ä¸‹åˆ—å…³ç³»æ—¶ï¼Œç§°ä¸ºå †ï¼šKiâ‰¤K2iä¸”Kiâ‰¤K2i+1æˆ–è€…Kiâ‰¥K2iä¸”Kiâ‰¥K2i+1ã€‚æ³¨æ„ï¼šå †æ ‘å¿…é¡»æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ã€‚
- ï¼ˆ2ï¼‰åŸºæœ¬æ€æƒ³ï¼šåˆ©ç”¨å †ç§¯æ ‘è¿™ç§æ•°æ®ç»“æ„æ‰€è®¾è®¡çš„ä¸€ç§æ’åºï¼Œå¯ä»¥åˆ©ç”¨æ•°ç»„çš„ç‰¹ç‚¹å¿«é€Ÿçš„å®šä½æŒ‡å®šç´¢å¼•çš„å…ƒç´ ã€‚

ç§ç±»
- æœ€å¤§å †ï¼šçˆ¶ç»“ç‚¹å¤§äºæˆ–ç­‰äºå„¿å­ç»“ç‚¹
- [img](https://img-blog.csdn.net/20140508161744921) ![](https://img-blog.csdn.net/20140508161744921)
- æœ€å°å †ï¼šçˆ¶ç»“ç‚¹å°äºæˆ–ç­‰äºå„¿å­ç»“ç‚¹
- [img](https://img-blog.csdn.net/20140508161805046) ![](https://img-blog.csdn.net/20140508161805046)

å †æ’åºçš„åŸºæœ¬è¿‡ç¨‹ï¼š
* å°†nä¸ªå…ƒç´ çš„åºåˆ—æ„å»ºä¸€ä¸ªå¤§é¡¶å †æˆ–å°é¡¶å †
* å°†å †é¡¶çš„å…ƒç´ æ”¾åˆ°åºåˆ—æœ«å°¾
* å°†å‰n-1ä¸ªå…ƒç´ é‡æ–°æ„å»ºå¤§é¡¶å †æˆ–å°é¡¶å †ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½å·²ç»æ’åº

å°†åºåˆ—ï½›20,60,26,30,36,10ï½è°ƒæ•´ä¸º**é€’å¢**åºåˆ—ã€‚
- 1ã€é¦–å…ˆå°†æ•°æ®å»ºç«‹**å®Œå…¨äºŒå‰æ ‘**ï¼Œå¡«å……è§„åˆ™æ˜¯æŒ‰**å±‚æ¬¡**éå†å°†æ•°æ®ä¸€ä¸€å¡«å…¥ï¼Œæœ€åæ„å»ºæœ€å°å †ï¼›
  - [img](https://img-blog.csdn.net/20140508171206859) ![](https://img-blog.csdn.net/20140508171206859)
- 2ã€æå–å †é¡¶å¹¶è°ƒæ•´åˆ é™¤é˜Ÿé¡¶åçš„å…ƒç´ ä¸ºæ–°å †ï¼›
- 3ã€é‡å¤ç¬¬2æ­¥ï¼Œç›´åˆ°å †ç©ºï¼›
  - [img](https://img-blog.csdn.net/20140508171501937) ![img](https://img-blog.csdn.net/20140508171501937)
- 4ã€æ¯æ¬¡æå–çš„**å †é¡¶**ä¾æ¬¡æ’åºå³ä¸º**é€’å¢**åºåˆ—ã€‚
  - [img](https://img-blog.csdn.net/20140508171608046) ![img](https://img-blog.csdn.net/20140508171608046)


æ•´ä½“æ—¶é—´å¤æ‚åº¦ä¸ºnlogn

```c++
#include<iostream>
#include<vector>
using namespace std;
void swap(vector<int>& arr, int a,int b){
    arr[a]=arr[a]^arr[b];
    arr[b]=arr[a]^arr[b];
    arr[a]=arr[a]^arr[b];
}
void adjust(vector<int>& arr,int len,int index){
    int maxid=index;
    // è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„ä¸‹æ ‡   left=2*i+1  right=2*i+2  parent=(i-1)/2
    int left=2*index+1,right=2*index+2;

    // å¯»æ‰¾å½“å‰ä»¥indexä¸ºæ ¹çš„å­æ ‘ä¸­æœ€å¤§/æœ€å°çš„å…ƒç´ çš„ä¸‹æ ‡
    if(left<len and arr[left]<arr[maxid]) maxid=left;
    if(right<len and arr[right]<arr[maxid]) maxid=right;

    // è¿›è¡Œäº¤æ¢ï¼Œè®°å¾—è¦é€’å½’è¿›è¡Œadjust,ä¼ å…¥çš„indexæ˜¯maxid
    if(maxid!=index){
        swap(arr,maxid,index);
        adjust(arr,len,maxid);
    }
}
void heapsort(vector<int>&arr,int len){
    // åˆæ¬¡æ„å»ºå †ï¼Œiè¦ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œæ‰€ä»¥æ˜¯(len-1-1)/2ï¼Œ0è¿™ä¸ªä½ç½®è¦åŠ ç­‰å·
    for(int i=(len-1-1)/2;i>=0;i--){
        adjust(arr,len,i);
    }

    // ä»æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡å¼€å§‹å¾€å‰éå†ï¼Œæ¯æ¬¡å°†å †é¡¶å…ƒç´ äº¤æ¢è‡³å½“å‰ä½ç½®ï¼Œå¹¶ä¸”ç¼©å°é•¿åº¦ï¼ˆiä¸ºé•¿åº¦ï¼‰ï¼Œä»0å¤„å¼€å§‹adjust
    for(int i=len-1;i>0;i--){
        swap(arr,0,i);
        adjust(arr,i,0);// æ³¨æ„æ¯æ¬¡adjustæ˜¯ä»æ ¹å¾€ä¸‹è°ƒæ•´ï¼Œæ‰€ä»¥è¿™é‡Œindexæ˜¯0ï¼
    }
}
int main(){
    vector<int> arr={3,4,2,1,5,8,7,6};

    cout<<"before: "<<endl;
    for(int item:arr) cout<<item<<" ";
    cout<<endl;

    heapsort(arr,arr.size());

    cout<<"after: "<<endl;
    for(int item:arr)cout<<item<<" ";
    cout<<endl;

    return 0;
}
```

### å¤–éƒ¨æ’åº

**å¤–æ’åº**ï¼ˆExternal sortingï¼‰æ˜¯æŒ‡èƒ½å¤Ÿå¤„ç†æå¤§é‡æ•°æ®çš„æ’åºç®—æ³•ã€‚é€šå¸¸æ¥è¯´ï¼Œå¤–æ’åºå¤„ç†çš„æ•°æ®ä¸èƒ½ä¸€æ¬¡è£…å…¥å†…å­˜ï¼Œåªèƒ½æ”¾åœ¨è¯»å†™è¾ƒæ…¢çš„å¤–å­˜å‚¨å™¨ï¼ˆé€šå¸¸æ˜¯ç¡¬ç›˜ï¼‰ä¸Šã€‚å¤–æ’åºé€šå¸¸é‡‡ç”¨çš„æ˜¯ä¸€ç§â€œæ’åº-å½’å¹¶â€çš„ç­–ç•¥ã€‚åœ¨æ’åºé˜¶æ®µï¼Œå…ˆè¯»å…¥èƒ½æ”¾åœ¨å†…å­˜ä¸­çš„æ•°æ®é‡ï¼Œå°†å…¶æ’åºè¾“å‡ºåˆ°ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œä¾æ­¤è¿›è¡Œï¼Œå°†å¾…æ’åºæ•°æ®ç»„ç»‡ä¸ºå¤šä¸ªæœ‰åºçš„ä¸´æ—¶æ–‡ä»¶ã€‚å°”ååœ¨å½’å¹¶æ®µé˜¶å°†è¿™äº›ä¸´æ—¶æ–‡ä»¶ç»„åˆä¸ºä¸€ä¸ªå¤§çš„æœ‰åºæ–‡ä»¶ï¼Œä¹Ÿå³æ’åºç»“æœã€‚


## æŸ¥æ‰¾

- æŸ¥æ‰¾ï¼š
  - é™æ€æŸ¥æ‰¾è¡¨
	- äºŒåˆ†æŸ¥æ‰¾
	- é¡ºåºæŸ¥æ‰¾
	- åˆ†å—æŸ¥æ‰¾
  - åŠ¨æ€æŸ¥æ‰¾è¡¨
    - äºŒå‰æ’åºæ ‘
	- å¹³è¡¡äºŒå‰æ ‘
	- B-æ ‘

### æ€»ç»“

| æŸ¥æ‰¾ç®—æ³• | å¹³å‡æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | æŸ¥æ‰¾æ¡ä»¶ |  |
| --- | --- | --- | --- | --- |
| é¡ºåºæŸ¥æ‰¾ | O(n) | O(1) | æ— åºæˆ–æœ‰åº |  |
| äºŒåˆ†æŸ¥æ‰¾ï¼ˆæŠ˜åŠæŸ¥æ‰¾ï¼‰ | O(log2n) | O(1) | æœ‰åº |  |
| æ’å€¼æŸ¥æ‰¾ | O(log2(log2n)) | O(1) | æœ‰åº |  |
| æ–æ³¢é‚£å¥‘æŸ¥æ‰¾ | O(log2n) | O(1) | æœ‰åº |  |
| å“ˆå¸ŒæŸ¥æ‰¾ | O(1) | O(n) | æ— åºæˆ–æœ‰åº |  |
| äºŒå‰æŸ¥æ‰¾æ ‘ï¼ˆäºŒå‰æœç´¢æ ‘æŸ¥æ‰¾ï¼‰ | O(log2n) |  |  |  |
| çº¢é»‘æ ‘ | O(log2n) |  |  |  |
| 2-3æ ‘ | O(log2n | - | log3n) |  |
| Bæ ‘/B+æ ‘ | O(log2n) |  |  |  |

### é™æ€æŸ¥æ‰¾

é™æ€æŸ¥æ‰¾
- è‹¥æŸ¥æ‰¾ç›®çš„æ˜¯ä¸ºäº†æŸ¥è¯¢æŸä¸ªç‰¹å®šçš„æ•°æ®æ˜¯å¦åœ¨è¡¨ä¸­æˆ–æ£€ç´¢æŸä¸ªç‰¹å®šæ•°æ®çš„å„ç§å±æ€§ï¼Œåˆ™æ­¤ç±»æŸ¥æ‰¾è¡¨ä¸º**é™æ€æŸ¥æ‰¾è¡¨**ã€‚

æ€§èƒ½åˆ†æ
- [img](https://img-blog.csdn.net/20140516085246828) ![](https://img-blog.csdn.net/20140516085246828)

#### é¡ºåºæŸ¥æ‰¾

åŸºæœ¬åŸç†ï¼š
- ä»è¡¨ä¸€ç«¯å¼€å§‹é€ä¸ªå’Œå…³é”®å­—è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥æ‰¾åˆ°ä¸€ä¸ªè®°å½•å’Œç»™å®šå€¼ç›¸ç­‰ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼Œåä¹‹å¤±è´¥ã€‚
- å†ç®€å•ç‚¹å°±æ˜¯ï¼Œä¸€ä¸ªä¸€ä¸ªçš„æ¯”å¤§å°ï¼Œçœ‹çœ‹æ˜¯å¦ç›¸ç­‰ã€‚

é¡ºåºæŸ¥æ‰¾æ›´é€‚åˆäº**é¡ºåº**å­˜å‚¨ç»“æ„å’Œ**é“¾å¼**å­˜å‚¨ç»“æ„çš„æŸ¥æ‰¾è¡¨ã€‚é¡ºåºæŸ¥æ‰¾éœ€è¦ä¸€ä¸ªä¸ªçš„å»æ¯”è¾ƒï¼Œ**æ•ˆç‡å¾ˆä½**ã€‚

#### æŠ˜åŠæŸ¥æ‰¾ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰

åŸºæœ¬åŸç†ï¼š
1. æŠŠåºåˆ—åˆ†æˆå·¦ä¸­å³ä¸‰éƒ¨åˆ†ï¼Œå·¦éƒ¨åˆ†å°äºä¸­é—´å€¼ï¼Œå³éƒ¨åˆ†å¤§äºä¸­é—´å€¼ï¼›
2. æŠŠç»™å®šå€¼ä¸ä¸­é—´å€¼æ¯”è¾ƒï¼Œç¡®å®šä¸‹æ¬¡æŸ¥æ‰¾æ˜¯åœ¨å·¦éƒ¨åˆ†è¿˜æ˜¯å³éƒ¨åˆ†
3. ç»§ç»­ä¸Šé¢ä¸¤æ­¥æ“ä½œï¼Œç›´åˆ°æˆåŠŸæˆ–å¤±è´¥ã€‚

æ³¨æ„ï¼šæŠ˜åŠæŸ¥æ‰¾éœ€è¦æ³¨æ„ç»™å®šçš„åºåˆ—å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰åºåºåˆ—ã€‚

äºŒåˆ†æŸ¥æ‰¾çš„å‰æ
- ç›®æ ‡å‡½æ•°çš„**å•è°ƒæ€§**ï¼ˆå•è°ƒé€’å¢æˆ–è€…é€’å‡ï¼‰
- å­˜åœ¨**ä¸Šä¸‹ç•Œ**ï¼ˆboundedï¼‰
- èƒ½å¤Ÿé€šè¿‡**ç´¢å¼•**è®¿é—®ï¼ˆindex accessibleï¼‰

ç¤ºä¾‹ï¼šæ±‚ $\sqrt{x}$ çš„å€¼, [leetcode é¢˜ç›®](https://leetcode-cn.com/problems/sqrtx/)

```python
# äºŒåˆ†æŸ¥æ‰¾æ–¹å¼è§£å†³
class Solution:
    def mySqrt(self, x: int) -> int:
        l, r, ans = 0, x, -1
        while l <= r:
            mid = (l + r) // 2
            if mid * mid <= x:
                ans = mid
                l = mid + 1
            else:
                r = mid - 1
        return ans
```

Cè¯­è¨€ç‰ˆæœ¬

```c
int sqrt(int x)
{
    if (x < 2)	// å¤„ç†ç‰¹æ®Šæƒ…å†µ
        return x;
    
    int left = 1, right = x / 2;
    while (left <= right) {
        # é¿å…æº¢å‡ºï¼Œç›¸å½“äº mid = (left + right) / 2
        int mid = left + ((right - left) >> 1);
        if (mid == x / mid)
            return mid;
        else if (mid > x / mid)
            right = mid - 1;
        else
            left = mid + 1;
    }
    return right;
}
```


#### åˆ†å—æŸ¥æ‰¾ï¼ˆæŠ˜ä¸­ï¼‰

åŸºæœ¬åŸç†ï¼š
- é¡ºåºæŸ¥æ‰¾å’ŒäºŒåˆ†æ³•æŸ¥æ‰¾çš„æŠ˜ä¸­ï¼Œå…ˆåˆ†å—ï¼Œåœ¨å—ä¸­é¡ºåºæŸ¥æ‰¾ã€‚

æ³¨æ„ï¼š
- åˆ†æˆçš„å„å—å†…éƒ¨æ•°æ®å¯èƒ½æ— åºï¼›
- å„å—ä¹‹é—´æœ‰åºï¼ˆç¬¬äºŒä¸ªå—ä¸­çš„å…ƒç´ éƒ½æ¯”ç¬¬ä¸€ä¸ªå—ä¸­å…ƒç´ éƒ½å¤§ï¼‰ï¼›
- å»ºç«‹äº†ç´¢å¼•è¡¨ï¼Œç´¢å¼•è¡¨æŒ‰å…³é”®å­—æœ‰åºã€‚

[img](https://img-blog.csdn.net/20140515153642875) ![img](https://img-blog.csdn.net/20140515153642875)


#### ç‰›é¡¿æŸ¥æ‰¾ï¼ˆæŸ¥æ‰¾åŠ é€Ÿï¼‰

`ç‰›é¡¿â€”æ‹‰å¼—æ£®è¿­ä»£æ³•`ï¼ˆç®€ç§°`ç‰›é¡¿æ³•`ï¼‰ä½¿ç”¨ä»¥ç›´ä»£æ›²çš„æ€æƒ³ï¼Œæ˜¯ä¸€ç§æ±‚è§£å‡½æ•°çš„æ–¹æ³•ï¼Œä¸ä»…ä»…é€‚ç”¨äºæ±‚è§£å¼€æ–¹è®¡ç®—ã€‚å½“ç„¶ä½¿ç”¨ç‰›é¡¿æ³•æ±‚è§£å‡½æ•°ä¹Ÿå­˜åœ¨å¾ˆå¤šå‘ï¼Œä½†å¯¹äºæ±‚è§£å¼€æ–¹è€Œè¨€ï¼Œç‰›é¡¿æ³•æ˜¯å®‰å…¨çš„ã€‚

ç‰›é¡¿è¿­ä»£æ³•ï¼š
- åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œä»¥ç›´çº¿ä»£æ›¿æ›²çº¿ï¼Œç”¨ä¸€é˜¶æ³°å‹’å±•å¼€å¼ï¼ˆå³åœ¨å½“å‰ç‚¹çš„åˆ‡çº¿ï¼‰ä»£æ›¿åŸæ›²çº¿ï¼Œæ±‚ç›´çº¿ä¸xè½´çš„äº¤ç‚¹ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°æ”¶æ•›ã€‚[img](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/15/16e6e894c3690a21~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image)
- ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/15/16e6e894c3690a21~tplv-t2oaga2asx-zoom-in-crop-mark:4536:0:0:0.image)

$\begin{aligned}
& y-f\left(x_{i}\right)=f\left(x_{i}\right)^{\prime}\left(x-x_{i}\right) \\
\Longrightarrow & y-\left(x_{i}^{2}-n\right)=2 x_{i}\left(x-x_{i}\right) \\
\Longrightarrow & y+x_{i}^{2}+n=2 x_{i} x
\end{aligned}$


```python
# ç‰›é¡¿è¿­ä»£æ³•è§£å†³ï¼ˆpythonï¼‰
class Solution(object):
    def mySqrt(self, x):
        r = x
        while r*r > x:
            r = (r + x/r) / 2
        return r
```

Cè¯­è¨€ç‰ˆæœ¬

```c
// ç‰›é¡¿è¿­ä»£æ³•è§£å†³ï¼ˆCè¯­è¨€ï¼‰
float InvSqrt(float x){
    float xhalf = 0.5f*x;
    int i = *(int*)&x;
    i = 0x5f3759df   // Magic Number
    x = *(float*)&i;
    x = x*(1.5f - xhalf*x*x);
    return x;
}
```


### åŠ¨æ€æŸ¥æ‰¾ï¼ˆä¿®æ”¹è¡¨ï¼‰

è‹¥å†æŸ¥æ‰¾çš„è¿‡ç¨‹ä¸­åŒæ—¶æ’å…¥æŸ¥æ‰¾è¡¨ä¸­ä¸å­˜åœ¨çš„æ•°æ®ï¼Œæˆ–ä»æŸ¥æ‰¾è¡¨ä¸­åˆ é™¤å·²å­˜åœ¨çš„æŸä¸ªæ•°æ®ï¼Œåˆ™ç§°æ­¤ç±»æŸ¥æ‰¾è¡¨ä¸º**åŠ¨æ€æŸ¥æ‰¾è¡¨**ã€‚

#### äºŒå‰æ’åºæ ‘

å®šä¹‰ï¼š
1. è‹¥å®ƒçš„å·¦å­æ ‘éç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰çš„ç»“ç‚¹çš„å€¼å‡å°äºæ ¹ç»“ç‚¹çš„å€¼ï¼›
2. è‹¥å®ƒçš„å³å­æ ‘éç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰çš„ç»“ç‚¹çš„å€¼å‡å¤§äºæ ¹ç»“ç‚¹çš„å€¼ï¼›
3. å·¦å³å­æ ‘æœ¬èº«å°±æ˜¯ä¸¤æ£µäºŒå‰æ’åºæ ‘ã€‚

[img](https://img-blog.csdn.net/20140516090805187) ![](https://img-blog.csdn.net/20140516090805187)

å®šä¹‰çœ‹ä¸Šå»ä¸æ˜¯ç‰¹åˆ«å¥½ç†è§£ï¼Œå…¶å®ç‰¹åˆ«ç®€å•ï¼Œæˆ‘ä»¬å†ä»¥ä¾‹å­ç®€å•çš„è¯´ä¸€ä¸‹ã€‚å·¦å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ï¼š3ï¼Œ1ï¼Œ6ï¼Œ4ï¼Œ7ï¼Œéƒ½å°äºçˆ¶èŠ‚ç‚¹8ï¼Œå³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹ï¼š10ï¼Œ14ï¼Œ13ï¼Œéƒ½å¤§äºçˆ¶èŠ‚ç‚¹ã€‚ä»€ä¹ˆæ—¶å€™éƒ½æ˜¯çˆ¶èŠ‚ç‚¹å¤§äºå·¦å­©å­ï¼Œå°äºå³å­©å­ä¾‹å¦‚ï¼š8>3ï¼Œ8<10ï¼›3>1ï¼Œ3<6ã€‚

#### å¹³è¡¡äºŒå‰æ ‘

å®šä¹‰ï¼š
1. å®ƒæˆ–è€…æ˜¯ä¸€æ£µç©ºæ ‘
2. æˆ–è€…æ ‘ä¸­ä»»ä¸€ç»“ç‚¹çš„å·¦å³å­æ ‘æ·±åº¦ç›¸å·®ä¸è¶…è¿‡1ã€‚

æ³¨æ„ï¼š
- ä»å®šä¹‰æˆ‘ä»¬å¯å¾—åˆ°ï¼šæƒ³è¦ä¸€é¢—æ ‘å¹³è¡¡ï¼Œæœ‰ä¸‰ç§æƒ…å†µï¼ŒèŠ‚ç‚¹çš„å¹³è¡¡åº¦è¦ä¹ˆä¸ºäº†0ï¼Œè¦ä¹ˆä¸º1ï¼Œè¦ä¹ˆä¸º-1ã€‚ï¼ˆå¹³è¡¡åº¦ï¼šèŠ‚ç‚¹å·¦å­æ ‘çš„é«˜åº¦å‡å»å…¶å³å­æ ‘çš„é«˜åº¦ã€‚ï¼‰
- [img](https://img-blog.csdn.net/20140516092326312) ![](https://img-blog.csdn.net/20140516092326312)
æ¯ä¸ªèŠ‚ç‚¹ä¸Šæ ‡å‡ºäº†å¹³è¡¡åº¦ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹çš„å¹³è¡¡åº¦çš„ç»å¯¹å€¼éƒ½å°äºç­‰äº0æˆ–1ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚


## é€’å½’

é€’å½’æ¦‚å¿µ
- å‡½æ•°ç›´æ¥æˆ–é—´æ¥åœ°è°ƒç”¨è‡ªèº«

é€’å½’ä¸åˆ†æ²»

åˆ†æ²»æ³•
- é—®é¢˜çš„åˆ†è§£
- é—®é¢˜è§„æ¨¡çš„åˆ†è§£

- æŠ˜åŠæŸ¥æ‰¾ï¼ˆé€’å½’ï¼‰
- å½’å¹¶æŸ¥æ‰¾ï¼ˆé€’å½’ï¼‰
- å¿«é€Ÿæ’åºï¼ˆé€’å½’ï¼‰

é€’å½’ä¸è¿­ä»£
- è¿­ä»£ï¼šåå¤åˆ©ç”¨å˜é‡æ—§å€¼æ¨å‡ºæ–°å€¼
- æŠ˜åŠæŸ¥æ‰¾ï¼ˆè¿­ä»£ï¼‰
- å½’å¹¶æŸ¥æ‰¾ï¼ˆè¿­ä»£ï¼‰

### é˜¿å…‹æ›¼å‡½æ•°

é˜¿å…‹æ›¼(Ackermann)å‡½æ•°æ˜¯ä¸€ç§å¢é•¿"æå¿«"çš„å‡½æ•°.
- [img](http://ddrvcn.oss-cn-hangzhou.aliyuncs.com/2019/11/vQnYrm.png) ![](http://ddrvcn.oss-cn-hangzhou.aliyuncs.com/2019/11/vQnYrm.png)
- æ¯”å¦‚å¦‚æœè¾“å…¥ä¸º4,2,è¿™ä¸ªæ•°å­—å¤§äºå…¨ä¸–ç•Œçš„åŸå­æ•°é‡æ€»å’Œ.

é˜¿å…‹æ›¼(Ackmann)å‡½æ•°A(mï¼Œn)ä¸­ï¼Œmï¼Œnå®šä¹‰åŸŸæ˜¯éè´Ÿæ•´æ•°(m<=3,n<=10)ï¼Œå‡½æ•°å€¼å®šä¹‰ä¸ºï¼š
- akm(m,n) = n+1;         (m=0æ—¶)
- akm(m,n) = akm(m-1,1);  (m>0,n=0æ—¶)
- akm(m,n) = akm(m-1,akm(m, n-1)); ï¼ˆm,n>0æ—¶)


```c++
#include <iostream>

using namespace std;
long int answer = 0;
 
int Ackermann(int m,int n){// é€’å½’å‡½æ•°
	if (m == 0){
		answer = n + 1;
		return answer;
	}
	if (m != 0 && n == 0){
		answer = Ackermann(m - 1,1);
		return answer;
	}
	if (m != 0 && n != 0){
		answer = Ackermann(m - 1,Ackermann(m,n-1));
		return answer;
	}
}
 
int main(){
	cout<<"é˜¿å…‹æ›¼å‡½æ•°æµ‹è¯•, è¯·è¾“å…¥må’Œn"<<endl;
	int m,n;
	cin >> m >> n;
	cout << Ackermann(m,n);
	return 0;
}
```

## æ ‘

### åŸºæœ¬æ¦‚å¿µ

[å›¾](https://img-blog.csdn.net/20140424155921046)
- ![](https://img-blog.csdn.net/20140424155921046)

- 1ã€ç»“ç‚¹çš„åº¦
  - ç»“ç‚¹çš„åº¦æ˜¯å­ç»“ç‚¹çš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼šç»“ç‚¹1æœ‰ä¸‰ä¸ªå­—ç»“ç‚¹2ï¼Œ3ï¼Œ4ï¼Œæ‰€ä»¥ç»“ç‚¹1çš„åº¦ä¸º3ã€‚
- 2ã€æ ‘çš„åº¦
  - æ ‘çš„åº¦ç­‰äºæ‰€æœ‰ç»“ç‚¹åº¦ä¸­åº¦æœ€é«˜çš„å€¼ã€‚ä¾‹å¦‚ï¼šä¸Šå›¾ä¸­ç»“ç‚¹åº¦æœ€é«˜ä¸º3ï¼Œæ‰€ä»¥æ ‘çš„åº¦ä¸º3ã€‚
- 3ã€å¶å­ç»“ç‚¹
  - å¶å­ç»“ç‚¹æ˜¯åº¦ä¸º0çš„ç»“ç‚¹å³æ²¡æœ‰å­ç»“ç‚¹çš„ç»“ç‚¹ã€‚ä¾‹å¦‚ï¼šä¸Šå›¾ä¸­3ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ9ï¼Œ10ã€‚
- 4ã€åˆ†æ”¯ç»“ç‚¹
  - åˆ†æ”¯ç»“ç‚¹æ˜¯é™¤äº†å¶å­ç»“ç‚¹ï¼Œæ ‘ä¸­çš„å…¶ä»–æ‰€æœ‰ç»“ç‚¹ã€‚ä¾‹å¦‚ï¼šä¸Šé¢æ ‘çš„åˆ†æ”¯ç»“ç‚¹ä¸º1ï¼Œ2ï¼Œ4ï¼Œ8ã€‚
- 5ã€å†…éƒ¨ç»“ç‚¹
  - å†…éƒ¨ç»“ç‚¹æ˜¯é™¤äº†æ ¹ç»“ç‚¹ä»¥åŠå¶å­ç»“ç‚¹æˆ–åœ¨åˆ†æ”¯ç»“ç‚¹çš„åŸºç¡€ä¹‹ä¸Šåœ¨å»æ‰æ ¹ç»“ç‚¹ã€‚ä¾‹å¦‚ï¼šä¸Šé¢æ ‘çš„å†…éƒ¨ç»“ç‚¹ä¸º2ï¼Œ4ï¼Œ8ã€‚
- 6ã€çˆ¶ç»“ç‚¹ã€å­ç»“ç‚¹ã€å…„å¼Ÿç»“ç‚¹
  - çˆ¶èŠ‚ç‚¹ã€å­ç»“ç‚¹å’Œå…„å¼Ÿç»“ç‚¹æ˜¯ç›¸å¯¹è€Œè¨€çš„ã€‚ä¾‹å¦‚ï¼šç»“ç‚¹1æ˜¯ç»“ç‚¹2ï¼Œ3ï¼Œ4çš„çˆ¶èŠ‚ç‚¹ï¼Œç»“ç‚¹2ï¼Œ3ï¼Œ4ä¹Ÿæ˜¯ç»“ç‚¹1çš„å­ç»“ç‚¹ï¼Œç»“ç‚¹2ï¼Œ3ï¼Œ4åˆæ˜¯å…„å¼Ÿç»“ç‚¹ã€‚
- 7ã€å±‚æ¬¡
  - å›¾ä¸­æˆ‘ä»¬å·²ç»è¡¨å‡ºæ¥äº†ï¼Œæ ¹ä¸ºç¬¬ä¸€å±‚ï¼Œæ ¹çš„å­©å­ä¸ºç¬¬äºŒå±‚ï¼Œä¾æ­¤ç±»æ¨ï¼Œè‹¥æŸç»“ç‚¹åœ¨ç¬¬iå±‚ï¼Œåˆ™å…¶å­©å­ç»“ç‚¹åœ¨ç¬¬i+1å±‚ã€‚

æ ‘ä¸äºŒå‰æ ‘åŒºåˆ«
- 1ã€æ ‘å¯ä»¥æœ‰å¤šä¸ªå­ç»“ç‚¹ï¼ŒäºŒå‰æ ‘æœ€å¤šåªèƒ½ä¸¤ä¸ªç»“ç‚¹ã€‚
- 2ã€æ ‘ä¸­çš„å­ç»“ç‚¹æ˜¯æ— åºçš„ï¼ŒäºŒå‰æ ‘æ˜¯åˆ†å·¦å­ç»“ç‚¹å’Œå³å­ç»“ç‚¹ã€‚
- 3ã€äºŒå‰æ ‘ä¸æ˜¯ç‰¹æ®Šæ ‘ï¼Œè€Œæ˜¯ç‹¬ç«‹çš„æ•°æ®ç»“æ„ã€‚

### ä»£ç å®šä¹‰

C å®Œæ•´ä»£ç 
- Cï¼š[binarytree.h](https://github.com/LeechanX/Data-Structures-and-Algorithms-in-C/blob/master/Tree/BinaryTree/binarytree.h)

```c++
struct BTree{
	int vertex;
	struct BTree *left;
	struct BTree *right;
};
typedef struct BTree *btlink;
```


### äºŒå‰æ ‘

[æ•°æ®ç»“æ„(äºŒ)ä¹‹äºŒå‰æ ‘](https://www.cnblogs.com/chengxiao/p/6395265.html)

æ€§è´¨
- éç©ºäºŒå‰æ ‘ç¬¬ i å±‚æœ€å¤š 2(i-1) ä¸ªç»“ç‚¹ ï¼ˆi >= 1ï¼‰
- æ·±åº¦ä¸º k çš„äºŒå‰æ ‘æœ€å¤š 2k - 1 ä¸ªç»“ç‚¹ ï¼ˆk >= 1ï¼‰
- åº¦ä¸º 0 çš„ç»“ç‚¹æ•°ä¸º n0ï¼Œåº¦ä¸º 2 çš„ç»“ç‚¹æ•°ä¸º n2ï¼Œåˆ™ n0 = n2 + 1
- æœ‰ n ä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘æ·±åº¦ k = âŒŠ log2(n) âŒ‹ + 1
- å¯¹äºå« n ä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ä¸­ç¼–å·ä¸º i ï¼ˆ1 <= i <= nï¼‰ çš„ç»“ç‚¹
  - è‹¥ i = 1ï¼Œä¸ºæ ¹ï¼Œå¦åˆ™åŒäº²ä¸º âŒŠ i / 2 âŒ‹
  - è‹¥ 2i > nï¼Œåˆ™ i ç»“ç‚¹æ²¡æœ‰å·¦å­©å­ï¼Œå¦åˆ™å­©å­ç¼–å·ä¸º 2i
  - è‹¥ 2i + 1 > nï¼Œåˆ™ i ç»“ç‚¹æ²¡æœ‰å³å­©å­ï¼Œå¦åˆ™å­©å­ç¼–å·ä¸º 2i + 1å­˜å‚¨ç»“æ„äºŒå‰æ ‘æ•°æ®ç»“æ„typedef struct BiTNode

```c++
{
    TElemType data;
    struct BiTNode *lchild, *rchild;
}BiTNode, *BiTree;
```

æ ‘çš„å­˜å‚¨ç»“æ„
- åŒäº²è¡¨ç¤ºæ³•
- åŒäº²å­©å­è¡¨ç¤ºæ³•
- å­©å­å…„å¼Ÿè¡¨ç¤ºæ³•


### éå†æ–¹å¼

éå†æ–¹å¼
- **å…ˆ**åºéå†
- **ä¸­**åºéå†
- **å**ç»­éå†
- **å±‚æ¬¡**éå†

- 1ã€**å‰åº**éå†ï¼šå‰åºéå†å°±æ˜¯å…ˆè®¿é—®æ ¹ç»“ç‚¹ï¼Œå†è®¿é—®å¶å­ç»“ç‚¹ã€‚
  - å›¾ä¸­æ ‘çš„å‰åºéå†ä¸ºï¼š1ï¼Œ2ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ3ï¼Œ4ï¼Œ8ï¼Œ9ï¼Œ10ã€‚
- 2ã€**ååº**éå†ï¼šæœ¬ååºéå†å°±æ˜¯å…ˆè®¿é—®å­ç»“ç‚¹ï¼Œå†è®¿é—®æ ¹ç»“ç‚¹ã€‚
  - å›¾ä¸­æ ‘çš„ååºéå†ä¸ºï¼š5ï¼Œ6ï¼Œ7ï¼Œ2ï¼Œ3ï¼Œ9ï¼Œ10ï¼Œ8ï¼Œ4ï¼Œ1ã€‚
- 3ã€**å±‚æ¬¡**éå†ï¼šä»ç¬¬ä¸€å±‚å¼€å§‹ï¼Œä¾æ­¤éå†æ¯å±‚ï¼Œç›´åˆ°ç»“æŸã€‚
  - å›¾ä¸­æ ‘çš„å±‚æ¬¡éå†ä¸ºï¼š1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9ï¼Œ10ã€‚

![](https://images2015.cnblogs.com/blog/1024555/201702/1024555-20170213202419816-108138766.png)

### èŠ‚ç‚¹åˆ é™¤

å¯¹äºäºŒå‰æ’åºæ ‘çš„å…¶ä»–æ“ä½œï¼Œæ¯”å¦‚æ’å…¥ï¼Œéå†ç­‰ï¼Œæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼›è€Œåˆ é™¤æ“ä½œç›¸å¯¹å¤æ‚äº›ã€‚å¯¹äºè¦åˆ é™¤çš„ç»“ç‚¹ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼š
1. å¶å­ç»“ç‚¹ï¼›
2. ä»…æœ‰å·¦å­æ ‘æˆ–å³å­æ ‘çš„ç»“ç‚¹ï¼›
3. å·¦å³å­æ ‘éƒ½æœ‰ç»“ç‚¹ï¼›

å¯¹äº1ï¼ˆè¦åˆ é™¤ç»“ç‚¹ä¸ºå¶å­ç»“ç‚¹ï¼‰ç›´æ¥åˆ é™¤ï¼Œå³ç›´æ¥è§£é™¤çˆ¶èŠ‚ç‚¹çš„å¼•ç”¨å³å¯ï¼Œå¯¹äºç¬¬2ç§æƒ…å†µï¼ˆè¦åˆ é™¤çš„ç»“ç‚¹ä»…æœ‰ä¸€ä¸ªå„¿å­ï¼‰ï¼Œåªéœ€ç”¨å­ç»“ç‚¹æ›¿æ¢æ‰çˆ¶èŠ‚ç‚¹å³å¯ï¼›è€Œå¯¹äºè¦åˆ é™¤çš„ç»“ç‚¹æœ‰ä¸¤ä¸ªå„¿å­çš„æƒ…å†µï¼Œæ¯”è¾ƒå¸¸ç”¨å¤„ç†é€»è¾‘ä¸ºï¼Œåœ¨å…¶å­æ ‘ä¸­æ‰¾å¯»ä¸€ä¸ªç»“ç‚¹æ¥æ›¿æ¢ï¼Œè€Œè¿™ä¸ªç»“ç‚¹æˆ‘ä»¬æˆä¸ºä¸­åºåç»§ç»“ç‚¹ã€‚
- ![](https://images2015.cnblogs.com/blog/1024555/201702/1024555-20170213202802972-1815415724.png)


### ç‰¹æ®ŠäºŒå‰æ ‘

[å›¾](https://img-blog.csdn.net/20140424162035437)

![](https://img-blog.csdn.net/20140424162035437)

ä¸€èˆ¬äºŒå‰æ ‘æ€§è´¨ï¼š
- åœ¨éç©ºäºŒå‰æ ‘çš„kå±‚ä¸Šï¼Œè‡³å¤šæœ‰2^kä¸ªèŠ‚ç‚¹(k>=0)
- é«˜åº¦ä¸ºkçš„äºŒå‰æ ‘ä¸­,æœ€å¤šæœ‰2^(k+1)-1ä¸ªèŠ‚ç‚¹(k>=0)
- å¯¹äºä»»ä½•ä¸€æ£µéç©ºçš„äºŒå‰æ ‘,å¦‚æœå¶èŠ‚ç‚¹ä¸ªæ•°ä¸ºn0ï¼Œåº¦æ•°ä¸º2çš„èŠ‚ç‚¹ä¸ªæ•°ä¸ºn2ï¼Œåˆ™æœ‰: n0 = n2 + 1

å®Œå…¨äºŒå‰æ ‘æ€§è´¨:
- å…·æœ‰nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘çš„é«˜åº¦kä¸º\[log2n]
- å¯¹äºå…·æœ‰nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘,å¦‚æœæŒ‰ç…§ä»ä¸Š(æ ¹èŠ‚ç‚¹)åˆ°ä¸‹(å¶èŠ‚ç‚¹)å’Œä»å·¦åˆ°å³çš„é¡ºåºå¯¹äºŒå‰æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ä»0å¼€å§‹åˆ°n-1è¿›è¡Œç¼–å·,åˆ™å¯¹äºä»»æ„çš„ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹ï¼Œæœ‰ï¼š
  - å¦‚æœk=0,åˆ™å®ƒæ˜¯æ ¹èŠ‚ç‚¹ï¼Œå®ƒæ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼›å¦‚æœk>0,åˆ™å®ƒçš„çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡ä¸º[(i-1)/2];
  - å¦‚æœ2k+1 <= n-1,åˆ™ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹çš„å·¦å­ç»“ç‚¹çš„ä¸‹æ ‡ä¸º2k+1;å¦åˆ™,ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹æ²¡æœ‰å·¦å­ç»“ç‚¹.
  - å¦‚æœ2k+2 <= n-1,åˆ™ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹çš„ä¸‹æ ‡ä¸º2k+2;å¦åˆ™,ä¸‹æ ‡ä¸ºkçš„èŠ‚ç‚¹æ²¡æœ‰å³å­èŠ‚ç‚¹

æ»¡äºŒå‰æ ‘æ€§è´¨:
- åœ¨æ»¡äºŒå‰æ ‘ä¸­ï¼Œå¶èŠ‚ç‚¹çš„ä¸ªæ•°æ¯”åˆ†æ”¯èŠ‚ç‚¹çš„ä¸ªæ•°å¤š1


åˆ†ç±»
- **æ»¡äºŒå‰æ ‘**
- **å®Œå…¨äºŒå‰æ ‘**ï¼ˆå †ï¼‰
  - å¤§é¡¶å †ï¼šæ ¹ >= å·¦ && æ ¹ >= å³
  - å°é¡¶å †ï¼šæ ¹ <= å·¦ && æ ¹ <= å³
- **äºŒå‰æŸ¥æ‰¾æ ‘**ï¼ˆäºŒå‰æ’åºæ ‘ï¼‰ï¼šå·¦ < æ ¹ < å³
- **å¹³è¡¡äºŒå‰æ ‘**ï¼ˆAVLæ ‘ï¼‰ï¼š\| å·¦å­æ ‘æ ‘é«˜ - å³å­æ ‘æ ‘é«˜ \| <= 1
- **æœ€å°å¤±è¡¡æ ‘**ï¼šå¹³è¡¡äºŒå‰æ ‘æ’å…¥æ–°ç»“ç‚¹å¯¼è‡´å¤±è¡¡çš„å­æ ‘ï¼šè°ƒæ•´ï¼š
  - LLå‹ï¼šæ ¹çš„å·¦å­©å­å³æ—‹
  - RRå‹ï¼šæ ¹çš„å³å­©å­å·¦æ—‹
  - LRå‹ï¼šæ ¹çš„å·¦å­©å­å·¦æ—‹ï¼Œå†å³æ—‹
  - RLå‹ï¼šå³å­©å­çš„å·¦å­æ ‘ï¼Œå…ˆå³æ—‹ï¼Œå†å·¦æ—‹


### bæ ‘å’Œå®ƒçš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›

Bæ ‘ä¹Ÿå«åšB-æ ‘ï¼Œæˆ–è€…å¹³è¡¡å¤šè·¯æ ‘ï¼Œå®ƒæ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰mä¸ªå­æ ‘çš„**å¹³è¡¡æ ‘**ã€‚ä¸€ä¸ªmé˜¶çš„Bæ ‘å…·æœ‰å¦‚ä¸‹å‡ ä¸ªç‰¹å¾ï¼š
1. æ ¹ç»“ç‚¹è‡³å°‘æœ‰ä¸¤ä¸ªå­å¥³ã€‚
2. æ¯ä¸ªä¸­é—´èŠ‚ç‚¹éƒ½åŒ…å«è‡³å¤šmä¸ªå­æ ‘ ï¼Œ æ¯ä¸ªèŠ‚ç‚¹åŒ…å«çš„å…ƒç´ ä¸ªæ•°æ˜¯å…¶å­æ ‘ä¸ªæ•°-1ï¼ˆå…¶ä¸­ m/2 <= k <= mï¼‰
3. æ‰€æœ‰çš„å¶å­ç»“ç‚¹éƒ½ä½äºåŒä¸€å±‚ã€‚
4. æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„å…ƒç´ ä»å°åˆ°å¤§æ’åˆ—ï¼ŒèŠ‚ç‚¹å½“ä¸­k-1ä¸ªå…ƒç´ æ­£å¥½æ˜¯kä¸ªå­æ ‘åŒ…å«çš„å…ƒç´ çš„å€¼åŸŸåˆ†åˆ’ã€‚

bæ ‘ä¸»è¦åº”ç”¨äºæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œåœ¨æ•°æ®åº“ä¸­ï¼ˆmongoDBï¼‰ä¹Ÿæœ‰åº”ç”¨ï¼Œä¸B+æ ‘ç›¸æ¯”å¥½å¤„åº”è¯¥æ˜¯æœ‰æ—¶ä¸éœ€è¦è®¿é—®åˆ°å¶èŠ‚ç‚¹å°±å¯ä»¥è·å–æ•°æ®ã€‚æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦æ˜¯logN

### B+æ ‘

B+æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„Bæ ‘ï¼Œå®ƒæŠŠæ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”å¶èŠ‚ç‚¹é—´æœ‰æŒ‡é’ˆè¿æ¥ã€‚å†…éƒ¨åªå­˜å…³é”®å­—ï¼ˆå…¶ä¸­å¶å­èŠ‚ç‚¹çš„æœ€å°å€¼ä½œä¸ºç´¢å¼•ï¼‰å’Œå­©å­æŒ‡é’ˆï¼Œç®€åŒ–äº†å†…éƒ¨èŠ‚ç‚¹ã€‚åº”ç”¨åœºæ™¯ä¸»è¦æ˜¯æ•°æ®åº“çš„ç´¢å¼•ï¼ŒæŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯logN

### B/B+æ ‘åŒºåˆ«

è¿™éƒ½æ˜¯ç”±äºB+æ ‘å’ŒBå…·æœ‰ä¸åŒçš„å­˜å‚¨ç»“æ„æ‰€é€ æˆçš„åŒºåˆ«ï¼Œä»¥ä¸€ä¸ªmé˜¶æ ‘ä¸ºä¾‹ã€‚
1. å…³é”®å­—çš„æ•°é‡ä¸åŒï¼›B+æ ‘ä¸­åˆ†æ”¯ç»“ç‚¹æœ‰mä¸ªå…³é”®å­—ï¼Œå…¶å¶å­ç»“ç‚¹ä¹Ÿæœ‰mä¸ªï¼Œå…¶å…³é”®å­—åªæ˜¯èµ·åˆ°äº†ä¸€ä¸ªç´¢å¼•çš„ä½œç”¨ï¼Œä½†æ˜¯Bæ ‘è™½ç„¶ä¹Ÿæœ‰mä¸ªå­ç»“ç‚¹ï¼Œä½†æ˜¯å…¶åªæ‹¥æœ‰m-1ä¸ªå…³é”®å­—ã€‚
2. å­˜å‚¨çš„ä½ç½®ä¸åŒï¼›B+æ ‘ä¸­çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­ç»“ç‚¹ä¸Šï¼Œä¹Ÿå°±æ˜¯å…¶æ‰€æœ‰å¶å­ç»“ç‚¹çš„æ•°æ®ç»„åˆèµ·æ¥å°±æ˜¯å®Œæ•´çš„æ•°æ®ï¼Œä½†æ˜¯Bæ ‘çš„æ•°æ®å­˜å‚¨åœ¨æ¯ä¸€ä¸ªç»“ç‚¹ä¸­ï¼Œå¹¶ä¸ä»…ä»…å­˜å‚¨åœ¨å¶å­ç»“ç‚¹ä¸Šã€‚
3. åˆ†æ”¯ç»“ç‚¹çš„æ„é€ ä¸åŒï¼›B+æ ‘çš„åˆ†æ”¯ç»“ç‚¹ä»…ä»…å­˜å‚¨ç€å…³é”®å­—ä¿¡æ¯å’Œå„¿å­çš„æŒ‡é’ˆï¼ˆè¿™é‡Œçš„æŒ‡é’ˆæŒ‡çš„æ˜¯ç£ç›˜å—çš„åç§»é‡ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´å†…éƒ¨ç»“ç‚¹ä»…ä»…åŒ…å«ç€ç´¢å¼•ä¿¡æ¯ã€‚
4. æŸ¥è¯¢ä¸åŒï¼›Bæ ‘åœ¨æ‰¾åˆ°å…·ä½“çš„æ•°å€¼ä»¥åï¼Œåˆ™ç»“æŸï¼Œè€ŒB+æ ‘åˆ™éœ€è¦é€šè¿‡ç´¢å¼•æ‰¾åˆ°å¶å­ç»“ç‚¹ä¸­çš„æ•°æ®æ‰ç»“æŸï¼Œä¹Ÿå°±æ˜¯è¯´B+æ ‘çš„æœç´¢è¿‡ç¨‹ä¸­èµ°äº†ä¸€æ¡ä»æ ¹ç»“ç‚¹åˆ°å¶å­ç»“ç‚¹çš„è·¯å¾„ã€‚

B+æ ‘ä¼˜ç‚¹ï¼šç”±äºB+æ ‘çš„æ•°æ®éƒ½å­˜å‚¨åœ¨å¶å­ç»“ç‚¹ä¸­ï¼Œåˆ†æ”¯ç»“ç‚¹å‡ä¸ºç´¢å¼•ï¼Œæ–¹ä¾¿æ‰«åº“ï¼Œåªéœ€è¦æ‰«ä¸€éå¶å­ç»“ç‚¹å³å¯ï¼Œä½†æ˜¯Bæ ‘å› ä¸ºå…¶åˆ†æ”¯ç»“ç‚¹åŒæ ·å­˜å‚¨ç€æ•°æ®ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°å…·ä½“çš„æ•°æ®ï¼Œéœ€è¦è¿›è¡Œä¸€æ¬¡ä¸­åºéå†æŒ‰åºæ¥æ‰«ï¼Œæ‰€ä»¥B+æ ‘æ›´åŠ é€‚åˆåœ¨åŒºé—´æŸ¥è¯¢çš„æƒ…å†µï¼Œæ‰€ä»¥é€šå¸¸B+æ ‘ç”¨äºæ•°æ®åº“ç´¢å¼•ï¼Œè€ŒBæ ‘åˆ™å¸¸ç”¨äºæ–‡ä»¶ç´¢å¼•ã€‚

### çº¢é»‘æ ‘

çº¢é»‘æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå®ƒåœ¨æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Šéƒ½ä½¿ç”¨çº¢è‰²æˆ–é»‘è‰²è¿›è¡Œæ ‡è®°ï¼Œé€šè¿‡ä¸€äº›æ€§è´¨ç¡®ä¿å®ƒæ˜¯å§‹ç»ˆå¹³è¡¡çš„ã€‚
å®ƒçš„æ€§è´¨æ˜¯è¿™æ ·çš„ï¼š
1. æ¯ä¸ªèŠ‚ç‚¹ä¸æ˜¯çº¢è‰²å°±æ˜¯é»‘è‰²ã€‚
2. æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ã€‚
3. å¶èŠ‚ç‚¹çš„ç©ºèŠ‚ç‚¹æ˜¯é»‘è‰²çš„ã€‚
4. å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œé‚£ä¹ˆå®ƒçš„ä¸¤ä¸ªå­èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ã€‚
5. å¯¹äºä»»æ„èŠ‚ç‚¹ï¼Œä»å®ƒåˆ°å¶èŠ‚ç‚¹çš„æ¯æ¡è·¯å¾„ä¸Šéƒ½æœ‰ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚

çº¢é»‘æ ‘çš„æ’å…¥ï¼ŒæŸ¥è¯¢ï¼Œåˆ é™¤åœ¨ä¸€èˆ¬æƒ…å†µå’Œæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(log(n))

åº”ç”¨åœºæ™¯ä¸»è¦æ˜¯STLä¸­mapï¼Œsetçš„å®ç°ï¼Œä¼˜ç‚¹åœ¨äºæ”¯æŒé¢‘ç¹çš„ä¿®æ”¹ï¼Œå› ä¸ºæŸ¥è¯¢åˆ é™¤æ’å…¥æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯logN

## å›¾

### æ€»ç»“

| å›¾æœç´¢ç®—æ³• | æ•°æ®ç»“æ„ | éå†æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ |  |
| --- | --- | --- | --- | --- |
| BFSå¹¿åº¦ä¼˜å…ˆæœç´¢ | é‚»æ¥çŸ©é˜µ | é‚»æ¥é“¾è¡¨ | O(|v|2) | O(|v|+|E|) |
| DFSæ·±åº¦ä¼˜å…ˆæœç´¢ | é‚»æ¥çŸ©é˜µ | é‚»æ¥é“¾è¡¨ | O(|v|2) | O(|v|+|E|) |

å…¶ä»–ç®—æ³•

| ç®—æ³• | æ€æƒ³ | åº”ç”¨ |
| --- | --- | --- |
| åˆ†æ²»æ³• | æŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†æˆä¸¤ä¸ªæˆ–æ›´å¤šçš„ç›¸åŒæˆ–ç›¸ä¼¼çš„å­é—®é¢˜ï¼Œç›´åˆ°æœ€åå­é—®é¢˜å¯ä»¥ç®€å•çš„ç›´æ¥æ±‚è§£ï¼ŒåŸé—®é¢˜çš„è§£å³å­é—®é¢˜çš„è§£çš„åˆå¹¶ | å¾ªç¯èµ›æ—¥ç¨‹å®‰æ’é—®é¢˜ã€æ’åºç®—æ³•ï¼ˆå¿«é€Ÿæ’åºã€å½’å¹¶æ’åºï¼‰ |
| åŠ¨æ€è§„åˆ’ | é€šè¿‡æŠŠåŸé—®é¢˜åˆ†è§£ä¸ºç›¸å¯¹ç®€å•çš„å­é—®é¢˜çš„æ–¹å¼æ±‚è§£å¤æ‚é—®é¢˜çš„æ–¹æ³•ï¼Œé€‚ç”¨äºæœ‰é‡å å­é—®é¢˜å’Œæœ€ä¼˜å­ç»“æ„æ€§è´¨çš„é—®é¢˜ | èƒŒåŒ…é—®é¢˜ã€æ–æ³¢é‚£å¥‘æ•°åˆ— |
| è´ªå¿ƒæ³• | ä¸€ç§åœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­éƒ½é‡‡å–åœ¨å½“å‰çŠ¶æ€ä¸‹æœ€å¥½æˆ–æœ€ä¼˜ï¼ˆå³æœ€æœ‰åˆ©ï¼‰çš„é€‰æ‹©ï¼Œä»è€Œå¸Œæœ›å¯¼è‡´ç»“æœæ˜¯æœ€å¥½æˆ–æœ€ä¼˜çš„ç®—æ³• | æ—…è¡Œæ¨é”€å‘˜é—®é¢˜ï¼ˆæœ€çŸ­è·¯å¾„é—®é¢˜ï¼‰ã€æœ€å°ç”Ÿæˆæ ‘ã€å“ˆå¤«æ›¼ç¼–ç  |

### ç®€ä»‹

æ ‘å…·æœ‰å±‚æ¬¡å…³ç³»ï¼Œä¸Šå±‚å…ƒç´ å¯ä»¥ä¸ä¸‹ä¸€ä¸ªå¤šä¸ªå…ƒç´ è¿æ¥ï¼Œä½†æ˜¯åªèƒ½å’Œä¸Šå±‚çš„ä¸€ä¸ªå…ƒç´ è¿æ¥ã€‚åœ¨å›¾ç»“æ„ä¸­ï¼ŒèŠ‚ç‚¹é—´çš„è¿æ¥æ˜¯ä»»æ„çš„ï¼Œä»»ä½•ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥ä¸å…¶ä»–å…ƒç´ è¿æ¥ã€‚

### å›¾éå†

ä»å›¾ä¸­æŸä¸€ä¸ªé¡¶ç‚¹å‡ºå‘ï¼Œè®¿é—®å›¾ä¸­çš„æ¯ä¸€ä¸ªç»“ç‚¹ï¼Œå¹¶è¦æ±‚åªèƒ½è®¿é—®ä¸€æ¬¡ï¼Œä¸èƒ½é‡å¤è®¿é—®
- [img](https://img-blog.csdn.net/20140430081437625) ![](https://img-blog.csdn.net/20140430081437625)
æ€»ç»“ï¼Œå›¾çš„**å¹¿åº¦**ä¼˜å…ˆéå†å’Œ**æ·±åº¦**ä¼˜å…ˆéå†çš„ç»“æœå¹¶ä¸å”¯ä¸€ã€‚

#### ï¼ˆ1ï¼‰å¹¿åº¦ä¼˜å…ˆéå†

- åŸºæœ¬æ€æƒ³ï¼šé¦–å…ˆè®¿é—®é¡¶ç‚¹ï¼Œå†è®¿é—®é¡¶ç‚¹çš„å…¨éƒ¨æœªè®¿é—®çš„é‚»ç»“ç‚¹ï¼Œå†è®¿é—®é‚»ç»“ç‚¹çš„æ‰€æœ‰ç»“ç‚¹å³å¯ï¼ˆç±»ä¼¼æ ‘çš„å±‚æ¬¡éå†ï¼‰ã€‚
- å¹¿åº¦ä¼˜å…ˆéå†ï¼šV1ï¼ŒV2ï¼ŒV3ï¼ŒV4ï¼ŒV5ï¼ŒV6æˆ–V1ï¼ŒV4ï¼ŒV3ï¼ŒV2ï¼ŒV6ï¼ŒV5

#### ï¼ˆ2ï¼‰æ·±åº¦ä¼˜å…ˆéå†

- åŸºæœ¬æ€æƒ³ï¼šé¦–å…ˆè®¿é—®é¡¶ç‚¹ï¼Œå†è®¿é—®é¡¶ç‚¹çš„æ¯ä¸ªé‚»ç»“ç‚¹ï¼Œä»è¯¥ç‚¹ç»§ç»­æ·±åº¦ä¼˜å…ˆéå†ï¼ˆç±»ä¼¼äºæ ‘çš„å‰åºéå†ï¼‰
- æ·±åº¦ä¼˜å…ˆéå†ï¼šV1ï¼ŒV2ï¼ŒV5ï¼ŒV3ï¼ŒV6ï¼ŒV4æˆ–V1ï¼ŒV4ï¼ŒV6ï¼ŒV3ï¼ŒV5ï¼ŒV2

### æœ€å°ç”Ÿæˆæ ‘

#### ï¼ˆ1ï¼‰æ™®é‡Œå§†ï¼ˆPrimï¼‰ç®—æ³•

- åŸºæœ¬æ€æƒ³ï¼šé€‰ä¸€ä¸ªé¡¶ç‚¹å¼€å§‹ï¼ŒæŸ¥æ‰¾ä¸é¡¶ç‚¹**ç›¸é‚»**ä¸”**ä»£ä»·**ï¼ˆè¾¹å€¼ï¼‰**æœ€å°**çš„è¾¹çš„å¦ä¸€ä¸ªé¡¶ç‚¹ï¼Œç›´åˆ°æœ€åã€‚
- ä¾‹å¦‚ï¼šV1ä½œä¸ºé¡¶ç‚¹ï¼ŒV1->V3->V6->V4ï¼ŒV3->V2->V5ï¼Œè¿æ¥å›¾ä¸­æ‰€æœ‰çš„ç»“ç‚¹å³å¯ã€‚

#### ï¼ˆ2ï¼‰å…‹é²æ–¯å¡å°”ï¼ˆKruskalï¼‰ç®—æ³•

- åŸºæœ¬æ€æƒ³ï¼šé€‰æ‹©å›¾ä¸­**æœ€å°**çš„è¾¹ï¼Œç›´åˆ°æ‰€æœ‰ç»“ç‚¹éƒ½è¿é€šã€‚
- ä¾‹å¦‚ï¼šç¬¬ä¸€å°è¾¹ï¼šV1->V3ï¼Œç¬¬äºŒå°è¾¹ï¼šV4->V6ï¼Œç¬¬ä¸‰å°è¾¹ï¼šV2-V5ï¼Œç¬¬å››å°è¾¹ï¼šV3->V6ï¼Œç¬¬äº”å°è¾¹ï¼šV3->V2ï¼Œæ­¤æ—¶æ‰€æœ‰çš„ç»“ç‚¹éƒ½è¿åˆ°äº†ä¸€èµ·ã€‚

#### ï¼ˆ3ï¼‰ç®—æ³•å¯¹æ¯”

- æ™®é‡Œå§†ç®—æ³•æ›´åŠ æ³¨é‡çš„æ˜¯ç»“ç‚¹ï¼Œç‚¹ä¸ç‚¹ä¹‹é—´è·ç¦»æœ€çŸ­çš„ä¼˜å…ˆï¼›
- å…‹é²æ–¯å¡å°”ç®—æ³•æ›´åŠ æ³¨é‡çš„æ˜¯è¾¹ï¼Œå°†è¾¹æ’åºï¼Œæœ€å°è¾¹æ’åœ¨å‰é¢ï¼Œæœ€å¤§è¾¹æ’åœ¨åé¢ã€‚


### å›¾åŒ¹é…

ã€2022-8-25ã€‘[äºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…ã€å®Œç¾åŒ¹é…å’ŒåŒˆç‰™åˆ©ç®—æ³•](https://www.renfei.org/blog/bipartite-matching.html)

`æ— æƒäºŒåˆ†å›¾`ï¼ˆunweighted bipartite graphï¼‰çš„`æœ€å¤§åŒ¹é…`ï¼ˆmaximum matchingï¼‰å’Œ`å®Œç¾åŒ¹é…`ï¼ˆperfect matchingï¼‰ï¼Œä»¥åŠç”¨äºæ±‚è§£åŒ¹é…çš„`åŒˆç‰™åˆ©`ç®—æ³•ï¼ˆHungarian Algorithmï¼‰ï¼›ä¸è®²å¸¦æƒäºŒåˆ†å›¾çš„æœ€ä½³åŒ¹é…ã€‚
- **äºŒåˆ†å›¾**ï¼šå¦‚æœå›¾ä¸­ç‚¹å¯ä»¥è¢«åˆ†ä¸ºä¸¤ç»„ï¼Œå¹¶ä¸”ä½¿å¾—æ‰€æœ‰è¾¹éƒ½è·¨è¶Šç»„çš„è¾¹ç•Œï¼Œåˆ™è¿™å°±æ˜¯ä¸€ä¸ª**äºŒåˆ†å›¾**ã€‚
  - æŠŠä¸€ä¸ªå›¾çš„é¡¶ç‚¹åˆ’åˆ†ä¸ºä¸¤ä¸ªä¸ç›¸äº¤é›† U å’Œ V ï¼Œä½¿å¾—æ¯ä¸€æ¡è¾¹éƒ½åˆ†åˆ«è¿æ¥Uã€Vä¸­çš„é¡¶ç‚¹ã€‚å¦‚æœå­˜åœ¨è¿™æ ·çš„åˆ’åˆ†ï¼Œåˆ™æ­¤å›¾ä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚
  - äºŒåˆ†å›¾çš„ä¸€ä¸ªç­‰ä»·å®šä¹‰æ˜¯ï¼šä¸å«æœ‰ã€Œå«å¥‡æ•°æ¡è¾¹çš„ç¯ã€çš„å›¾ã€‚å›¾ 1 æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾ã€‚ä¸ºäº†æ¸…æ™°ï¼Œæˆ‘ä»¬ä»¥åéƒ½æŠŠå®ƒç”»æˆå›¾ 2 çš„å½¢å¼ã€‚
- **åŒ¹é…**ï¼šåœ¨å›¾è®ºä¸­ï¼Œä¸€ä¸ªã€ŒåŒ¹é…ã€ï¼ˆmatchingï¼‰æ˜¯ä¸€ä¸ªè¾¹çš„é›†åˆï¼Œå…¶ä¸­ä»»æ„ä¸¤æ¡è¾¹éƒ½æ²¡æœ‰å…¬å…±é¡¶ç‚¹ã€‚ä¾‹å¦‚ï¼Œå›¾ 3ã€å›¾ 4 ä¸­çº¢è‰²çš„è¾¹å°±æ˜¯å›¾ 2 çš„åŒ¹é…ã€‚

||1|2|3|4|
|---|---|---|---|---|
||![Bipartite Graph(1)](https://img.renfei.org/2013/08/1.png)|![Bipartite Graph(2)](https://img.renfei.org/2013/08/2.png)|![Matching](https://img.renfei.org/2013/08/3.png)|![Maximum Matching](https://img.renfei.org/2013/08/4.png)|

å®šä¹‰**åŒ¹é…ç‚¹**ã€**åŒ¹é…è¾¹**ã€**æœªåŒ¹é…ç‚¹**ã€**éåŒ¹é…è¾¹**ï¼Œå®ƒä»¬çš„å«ä¹‰éå¸¸æ˜¾ç„¶ã€‚ä¾‹å¦‚å›¾ 3 ä¸­ 1ã€4ã€5ã€7 ä¸ºåŒ¹é…ç‚¹ï¼Œå…¶ä»–é¡¶ç‚¹ä¸ºæœªåŒ¹é…ç‚¹ï¼›1-5ã€4-7ä¸ºåŒ¹é…è¾¹ï¼Œå…¶ä»–è¾¹ä¸ºéåŒ¹é…è¾¹ã€‚
- **æœ€å¤§åŒ¹é…**ï¼šä¸€ä¸ªå›¾æ‰€æœ‰åŒ¹é…ä¸­ï¼Œæ‰€å«åŒ¹é…è¾¹æ•°æœ€å¤šçš„åŒ¹é…ï¼Œç§°ä¸ºè¿™ä¸ªå›¾çš„æœ€å¤§åŒ¹é…ã€‚å›¾ 4 æ˜¯ä¸€ä¸ªæœ€å¤§åŒ¹é…ï¼Œå®ƒåŒ…å« 4 æ¡åŒ¹é…è¾¹ã€‚
- **å®Œç¾åŒ¹é…**ï¼šå¦‚æœä¸€ä¸ªå›¾çš„æŸä¸ªåŒ¹é…ä¸­ï¼Œæ‰€æœ‰çš„é¡¶ç‚¹éƒ½æ˜¯åŒ¹é…ç‚¹ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå®Œç¾åŒ¹é…ã€‚å›¾ 4 æ˜¯ä¸€ä¸ªå®Œç¾åŒ¹é…ã€‚æ˜¾ç„¶ï¼Œå®Œç¾åŒ¹é…ä¸€å®šæ˜¯æœ€å¤§åŒ¹é…ï¼ˆå®Œç¾åŒ¹é…çš„ä»»ä½•ä¸€ä¸ªç‚¹éƒ½å·²ç»åŒ¹é…ï¼Œæ·»åŠ ä¸€æ¡æ–°çš„åŒ¹é…è¾¹ä¸€å®šä¼šä¸å·²æœ‰çš„åŒ¹é…è¾¹å†²çªï¼‰ã€‚ä½†å¹¶éæ¯ä¸ªå›¾éƒ½å­˜åœ¨å®Œç¾åŒ¹é…ã€‚

ä¸¾ä¾‹æ¥è¯´ï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœåœ¨æŸä¸€å¯¹ç”·å­©å’Œå¥³å­©ä¹‹é—´å­˜åœ¨ç›¸è¿çš„è¾¹ï¼Œå°±æ„å‘³ç€ä»–ä»¬å½¼æ­¤å–œæ¬¢ã€‚æ˜¯å¦å¯èƒ½è®©æ‰€æœ‰ç”·å­©å’Œå¥³å­©ä¸¤ä¸¤é…å¯¹ï¼Œä½¿å¾—æ¯å¯¹å„¿éƒ½äº’ç›¸å–œæ¬¢å‘¢ï¼Ÿå›¾è®ºä¸­ï¼Œè¿™å°±æ˜¯**å®Œç¾åŒ¹é…**é—®é¢˜ã€‚å¦‚æœæ¢ä¸€ä¸ªè¯´æ³•ï¼šæœ€å¤šæœ‰å¤šå°‘äº’ç›¸å–œæ¬¢çš„ç”·å­©/å¥³å­©å¯ä»¥é…å¯¹å„¿ï¼Ÿè¿™å°±æ˜¯**æœ€å¤§åŒ¹é…**é—®é¢˜ã€‚
- ![0](https://img.renfei.org/2013/08/0.png)

#### åŒˆç‰™åˆ©ç®—æ³•

åŸºæœ¬æ¦‚å¿µè®²å®Œäº†ã€‚æ±‚è§£æœ€å¤§åŒ¹é…é—®é¢˜çš„ä¸€ä¸ªç®—æ³•æ˜¯**åŒˆç‰™åˆ©ç®—æ³•**ï¼Œä¸‹é¢è®²çš„æ¦‚å¿µéƒ½ä¸ºè¿™ä¸ªç®—æ³•æœåŠ¡ã€‚
- ![5](https://img.renfei.org/2013/08/5.png)
 
- **äº¤æ›¿è·¯**ï¼šä»ä¸€ä¸ªæœªåŒ¹é…ç‚¹å‡ºå‘ï¼Œä¾æ¬¡ç»è¿‡éåŒ¹é…è¾¹ã€åŒ¹é…è¾¹ã€éåŒ¹é…è¾¹â€¦å½¢æˆçš„è·¯å¾„å«äº¤æ›¿è·¯ã€‚
- **å¢å¹¿è·¯**ï¼šä»ä¸€ä¸ªæœªåŒ¹é…ç‚¹å‡ºå‘ï¼Œèµ°äº¤æ›¿è·¯ï¼Œå¦‚æœé€”å¾„å¦ä¸€ä¸ªæœªåŒ¹é…ç‚¹ï¼ˆå‡ºå‘çš„ç‚¹ä¸ç®—ï¼‰ï¼Œåˆ™è¿™æ¡äº¤æ›¿è·¯ç§°ä¸ºå¢å¹¿è·¯ï¼ˆagumenting pathï¼‰ã€‚ä¾‹å¦‚ï¼Œå›¾ 5 ä¸­çš„ä¸€æ¡å¢å¹¿è·¯å¦‚å›¾ 6 æ‰€ç¤ºï¼ˆå›¾ä¸­çš„åŒ¹é…ç‚¹å‡ç”¨çº¢è‰²æ ‡å‡ºï¼‰ï¼š
- ![6](https://img.renfei.org/2013/08/6.png)
 
å¢å¹¿è·¯æœ‰ä¸€ä¸ªé‡è¦ç‰¹ç‚¹ï¼šéåŒ¹é…è¾¹æ¯”åŒ¹é…è¾¹å¤šä¸€æ¡ã€‚å› æ­¤ï¼Œç ”ç©¶å¢å¹¿è·¯çš„æ„ä¹‰æ˜¯**æ”¹è¿›åŒ¹é…**ã€‚åªè¦æŠŠå¢å¹¿è·¯ä¸­çš„åŒ¹é…è¾¹å’ŒéåŒ¹é…è¾¹çš„èº«ä»½äº¤æ¢å³å¯ã€‚ç”±äºä¸­é—´çš„åŒ¹é…èŠ‚ç‚¹ä¸å­˜åœ¨å…¶ä»–ç›¸è¿çš„åŒ¹é…è¾¹ï¼Œæ‰€ä»¥è¿™æ ·åšä¸ä¼šç ´ååŒ¹é…çš„æ€§è´¨ã€‚äº¤æ¢åï¼Œå›¾ä¸­çš„åŒ¹é…è¾¹æ•°ç›®æ¯”åŸæ¥å¤šäº† 1 æ¡ã€‚
 
æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸åœåœ°æ‰¾å¢å¹¿è·¯æ¥å¢åŠ åŒ¹é…ä¸­çš„åŒ¹é…è¾¹å’ŒåŒ¹é…ç‚¹ã€‚æ‰¾ä¸åˆ°å¢å¹¿è·¯æ—¶ï¼Œè¾¾åˆ°æœ€å¤§åŒ¹é…ï¼ˆè¿™æ˜¯å¢å¹¿è·¯å®šç†ï¼‰ã€‚åŒˆç‰™åˆ©ç®—æ³•æ­£æ˜¯è¿™ä¹ˆåšçš„ã€‚åœ¨ç»™å‡ºåŒˆç‰™åˆ©ç®—æ³• DFS å’Œ BFS ç‰ˆæœ¬çš„ä»£ç ä¹‹å‰ï¼Œå…ˆè®²ä¸€ä¸‹åŒˆç‰™åˆ©æ ‘ã€‚
 
**åŒˆç‰™åˆ©æ ‘**ä¸€èˆ¬ç”± BFS æ„é€ ï¼ˆç±»ä¼¼äº BFS æ ‘ï¼‰ã€‚ä»ä¸€ä¸ªæœªåŒ¹é…ç‚¹å‡ºå‘è¿è¡Œ BFSï¼ˆå”¯ä¸€çš„é™åˆ¶æ˜¯ï¼Œå¿…é¡»èµ°äº¤æ›¿è·¯ï¼‰ï¼Œç›´åˆ°ä¸èƒ½å†æ‰©å±•ä¸ºæ­¢ã€‚ä¾‹å¦‚ï¼Œç”±å›¾ 7ï¼Œå¯ä»¥å¾—åˆ°å¦‚å›¾ 8 çš„ä¸€æ£µ BFS æ ‘ï¼š

|1|2|3|
|---|---|---|
|![7](https://img.renfei.org/2013/08/7.png) |![8](https://img.renfei.org/2013/08/8.png) |![9](https://img.renfei.org/2013/08/9.png)|
 
è¿™æ£µæ ‘å­˜åœ¨ä¸€ä¸ªå¶å­èŠ‚ç‚¹ä¸ºéåŒ¹é…ç‚¹ï¼ˆ7 å·ï¼‰ï¼Œä½†æ˜¯åŒˆç‰™åˆ©æ ‘è¦æ±‚æ‰€æœ‰å¶å­èŠ‚ç‚¹å‡ä¸ºåŒ¹é…ç‚¹ï¼Œå› æ­¤è¿™ä¸æ˜¯ä¸€æ£µåŒˆç‰™åˆ©æ ‘ã€‚å¦‚æœåŸå›¾ä¸­æ ¹æœ¬ä¸å« 7 å·èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä» 2 å·èŠ‚ç‚¹å‡ºå‘å°±ä¼šå¾—åˆ°ä¸€æ£µåŒˆç‰™åˆ©æ ‘ã€‚è¿™ç§æƒ…å†µå¦‚å›¾ 9 æ‰€ç¤ºï¼ˆé¡ºä¾¿è¯´ä¸€å¥ï¼Œå›¾ 8 ä¸­æ ¹èŠ‚ç‚¹ 2 åˆ°éåŒ¹é…å¶å­èŠ‚ç‚¹ 7 æ˜¾ç„¶æ˜¯ä¸€æ¡å¢å¹¿è·¯ï¼Œæ²¿è¿™æ¡å¢å¹¿è·¯æ‰©å……åå°†å¾—åˆ°ä¸€ä¸ªå®Œç¾åŒ¹é…ï¼‰ã€‚
 
ä¸‹é¢ç»™å‡º**åŒˆç‰™åˆ©ç®—æ³•**çš„ DFS å’Œ BFS ç‰ˆæœ¬çš„ä»£ç ï¼š

åŒˆç‰™åˆ©ç®—æ³•çš„è¦ç‚¹å¦‚ä¸‹
- ä»å·¦è¾¹ç¬¬ 1 ä¸ªé¡¶ç‚¹å¼€å§‹ï¼ŒæŒ‘é€‰æœªåŒ¹é…ç‚¹è¿›è¡Œæœç´¢ï¼Œå¯»æ‰¾å¢å¹¿è·¯ã€‚
  - å¦‚æœç»è¿‡ä¸€ä¸ªæœªåŒ¹é…ç‚¹ï¼Œè¯´æ˜å¯»æ‰¾æˆåŠŸã€‚æ›´æ–°è·¯å¾„ä¿¡æ¯ï¼ŒåŒ¹é…è¾¹æ•° +1ï¼Œåœæ­¢æœç´¢ã€‚
  - å¦‚æœä¸€ç›´æ²¡æœ‰æ‰¾åˆ°å¢å¹¿è·¯ï¼Œåˆ™ä¸å†ä»è¿™ä¸ªç‚¹å¼€å§‹æœç´¢ã€‚äº‹å®ä¸Šï¼Œæ­¤æ—¶æœç´¢åä¼šå½¢æˆä¸€æ£µåŒˆç‰™åˆ©æ ‘ã€‚æˆ‘ä»¬å¯ä»¥æ°¸ä¹…æ€§åœ°æŠŠå®ƒä»å›¾ä¸­åˆ å»ï¼Œè€Œä¸å½±å“ç»“æœã€‚
- ç”±äºæ‰¾åˆ°å¢å¹¿è·¯ä¹‹åéœ€è¦æ²¿ç€è·¯å¾„æ›´æ–°åŒ¹é…ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç»“æ„æ¥è®°å½•è·¯å¾„ä¸Šçš„ç‚¹ã€‚DFS ç‰ˆæœ¬é€šè¿‡å‡½æ•°è°ƒç”¨éšå¼åœ°ä½¿ç”¨ä¸€ä¸ªæ ˆï¼Œè€Œ BFS ç‰ˆæœ¬ä½¿ç”¨ prev æ•°ç»„ã€‚

æ€§èƒ½æ¯”è¾ƒ

ä¸¤ä¸ªç‰ˆæœ¬çš„æ—¶é—´å¤æ‚åº¦å‡ä¸º O(Vâ‹…E)ã€‚DFS çš„ä¼˜ç‚¹æ˜¯æ€è·¯æ¸…æ™°ã€ä»£ç é‡å°‘ï¼Œä½†æ˜¯æ€§èƒ½ä¸å¦‚ BFSã€‚æˆ‘æµ‹è¯•äº†ä¸¤ç§ç®—æ³•çš„æ€§èƒ½ã€‚å¯¹äºç¨€ç–å›¾ï¼ŒBFS ç‰ˆæœ¬æ˜æ˜¾å¿«äº DFS ç‰ˆæœ¬ï¼›è€Œå¯¹äºç¨ å¯†å›¾ä¸¤è€…åˆ™ä¸ç›¸ä¸Šä¸‹ã€‚åœ¨å®Œå…¨éšæœºæ•°æ® 9000 ä¸ªé¡¶ç‚¹ 4,0000 æ¡è¾¹æ—¶å‰è€…é¢†å…ˆåè€…å¤§çº¦ 97.6%ï¼Œ9000 ä¸ªé¡¶ç‚¹ 100,0000 æ¡è¾¹æ—¶å‰è€…é¢†å…ˆåè€… 8.6%, è€Œè¾¾åˆ° 500,0000 æ¡è¾¹æ—¶ BFS ä»…é¢†å…ˆ 0.85%ã€‚

è¡¥å……å®šä¹‰å’Œå®šç†ï¼š
- æœ€å¤§åŒ¹é…æ•°ï¼šæœ€å¤§åŒ¹é…çš„åŒ¹é…è¾¹çš„æ•°ç›®
- æœ€å°ç‚¹è¦†ç›–æ•°ï¼šé€‰å–æœ€å°‘çš„ç‚¹ï¼Œä½¿ä»»æ„ä¸€æ¡è¾¹è‡³å°‘æœ‰ä¸€ä¸ªç«¯ç‚¹è¢«é€‰æ‹©
- æœ€å¤§ç‹¬ç«‹æ•°ï¼šé€‰å–æœ€å¤šçš„ç‚¹ï¼Œä½¿ä»»æ„æ‰€é€‰ä¸¤ç‚¹å‡ä¸ç›¸è¿
- æœ€å°è·¯å¾„è¦†ç›–æ•°ï¼šå¯¹äºä¸€ä¸ª DAGï¼ˆæœ‰å‘æ— ç¯å›¾ï¼‰ï¼Œé€‰å–æœ€å°‘æ¡è·¯å¾„ï¼Œä½¿å¾—æ¯ä¸ªé¡¶ç‚¹å±äºä¸”ä»…å±äºä¸€æ¡è·¯å¾„ã€‚è·¯å¾„é•¿å¯ä»¥ä¸º 0ï¼ˆå³å•ä¸ªç‚¹ï¼‰ã€‚
- å®šç†1ï¼šæœ€å¤§åŒ¹é…æ•° = æœ€å°ç‚¹è¦†ç›–æ•°ï¼ˆè¿™æ˜¯ Konig å®šç†ï¼‰
- å®šç†2ï¼šæœ€å¤§åŒ¹é…æ•° = æœ€å¤§ç‹¬ç«‹æ•°
- å®šç†3ï¼šæœ€å°è·¯å¾„è¦†ç›–æ•° = é¡¶ç‚¹æ•° - æœ€å¤§åŒ¹é…æ•°


## ä¸²åŒ¹é…ç®—æ³•

ä¸²åŒ¹é…åœ¨å®é™…ä½¿ç”¨ä¸­æœ‰ç€å¹¿æ³›çš„éœ€æ±‚ï¼Œä»è®¡ç®—æœºé¢†åŸŸç®€å•çš„æ–‡æœ¬æœç´¢ï¼Œåˆ°ç”Ÿç‰©ç§‘å­¦é¢†åŸŸå¤æ‚çš„æ°¨åŸºé…¸åºåˆ—åŒ¹é…ï¼Œéƒ½ç¦»ä¸å¼€é«˜æ•ˆçš„ä¸²åŒ¹é…æ–¹æ³•ã€‚

KMPç®—æ³•æ˜¯ç»å…¸çš„ä¸²åŒ¹é…ç®—æ³•ï¼Œç”±Knuthå’ŒPrattå¸ˆå¾’å‘æ˜ï¼ŒåŒä¸€æ—¶é—´Morrisä¹Ÿå‘æ˜äº†è¿™ä¸€ç®—æ³•ã€‚å› æ­¤æŒ‰ç…§å§“æ°é¦–å­—æ¯ï¼Œè¿™ä¸€ç®—æ³•å¾—åâ€œKMPâ€ç®—æ³•ã€‚ç®€å•è€Œè¨€ï¼ŒKMPç®—æ³•ä¸»è¦é€šè¿‡æ ¹æ®**å¯¹æˆåŠŸåŒ¹é…æ®µçš„å¤ç”¨**ä»¥åŠ**å¯¹å¤±è´¥åŒ¹é…æ®µçš„å­¦ä¹ **æ¥åŠ å¿«å­—ç¬¦ä¸²åŒ¹é…çš„é€Ÿåº¦ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚

ä¸ºæ–¹ä¾¿ä¸‹æ–‡çš„è¡¨è¿°ï¼Œæˆ‘ä»¬ä½œå¦‚ä¸‹çš„çº¦å®šï¼š
- **æ–‡æœ¬**ä¸² Tï¼ˆText Stringï¼‰ï¼šéœ€è¦æŸ¥è¯¢çš„å…¨é‡å­—ç¬¦ä¸²ï¼Œå…¶é•¿åº¦ä¸ºn
- **æ¨¡å¼**ä¸² Pï¼ˆPattern Stringï¼‰ï¼šæŸ¥è¯¢çš„ç‰‡æ®µå­—ç¬¦ä¸²ï¼Œå…¶é•¿åº¦ä¸ºm
- åŒ¹é…ç®—æ³•çš„ç»“æœä¸ºæ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆåºå·ä»0å¼€å§‹ï¼‰ï¼Œä¸å­˜åœ¨æ—¶åº”è¿”å›-1ã€‚

ä¾‹å¦‚æ–‡æœ¬ä¸²`T = "helloworldhello"`ï¼Œæ¨¡å¼ä¸²`P = "ello"`ï¼Œåˆ™åŒ¹é…ç®—æ³•åº”è¿”å›1ã€‚

å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜æ˜¯åœ¨ç»™å®šç¬¦å·åºåˆ—ï¼ˆæ–‡æœ¬ï¼‰ä¸­æŒ‰ç…§ä¸€å®šçš„åŒ¹é…æ¡ä»¶ï¼Œæœç´¢ç»™å®šç¬¦å·åºåˆ—æˆ–ç»™å®šç¬¦å·åºåˆ—é›†åˆä¸­å…ƒç´ ï¼ˆæ¨¡å¼ï¼‰å‡ºç°ä½ç½®çš„æœç´¢é—®é¢˜ã€‚
- æœç´¢ç»™å®šç¬¦å·åºåˆ— â†’ åªæœ‰ä¸€ä¸ªæ¨¡å¼ â†’ `å•æ¨¡å¼åŒ¹é…`
- æœç´¢ç»™å®šç¬¦å·åºåˆ—â€œé›†åˆâ€â†’ è¦åŒæ—¶æœç´¢å¤šä¸ªæ¨¡å¼ â†’ `å¤šæ¨¡å¼åŒ¹é…`
- æŒ‰ä¸€å®šæœç´¢æ¡ä»¶ â†’ å…è®¸ä¸€å®šåŒ¹é…è¯¯å·®, ä¸è¦æ±‚æ¨¡å¼ä¸€å®šå®Œå…¨å‡ºç°ï¼Œæœç´¢æœ€åƒæ¨¡å¼çš„å±€éƒ¨ â†’ `æ¨¡ç³ŠåŒ¹é… `

### å•æ¨¡å¼åŒ¹é…

- BFï¼ˆBrute Forceï¼‰ç®—æ³• - æš´åŠ›ç®—æ³•
	- å¤æ‚åº¦ï¼šæœ€å¥½çš„æƒ…å†µä¸‹åªéœ€è¿›è¡Œ pæ¬¡æ¯”è¾ƒï¼Œæœ€åæƒ…å†µä¸‹è¦è¿›è¡Œp*(s-p+1)æ¬¡æ¯”è¾ƒï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(s*p)ã€‚
	- æ²¡æœ‰ä»å‰ä¸€æ¬¡çš„å¤±è´¥åŒ¹é…ä¸­å­¦ä¹ åˆ°ä»»ä½•ä¿¡æ¯
	- ![](https://pic3.zhimg.com/50/v2-817073ca77f6c75d234392f207a3c81b_hd.webp)
- KMP ç®—æ³•(Knuth-Morris-Pratt)
	- å‚è€ƒï¼š[å¦‚ä½•æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡ KMP ç®—æ³•?](https://www.zhihu.com/question/21923021)
	- æ€æƒ³
		- 1ã€è€Œæ¯ä¸€æ¬¡å¤±è´¥éƒ½æ¢æ¥ä¸€äº›ä¿¡æ¯ï¼šå·²åŒ¹é…éƒ¨åˆ†ï¼ˆåœ¨å·²åŒ¹é…éƒ¨åˆ†ï¼Œä¸»ä¸²å’Œæ¨¡å¼ä¸²æ˜¯å®Œå…¨ç›¸åŒçš„ï¼‰ã€‚
		- 2ã€æ ¹æ®å·²åŒ¹é…éƒ¨åˆ†çš„æœ€å¤§çš„ ä¸€è‡´â€œå‰ç¼€å’Œåç¼€â€œï¼Œå¢å¤§æ¨¡å¼ä¸²ç§»åŠ¨çš„æ­¥é•¿ã€‚ï¼ˆå‰ç¼€åç¼€é‡å çš„éƒ¨åˆ†è‚¯å®šåŒ¹é…ä¸ä¸Šï¼Œå¯ä»¥è·³è¿‡ï¼‰
		- 3ã€å¯¹äºæ¨¡å¼ä¸²ï¼Œä½¿ç”¨next æ•°ç»„ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰ï¼Œè®°å½•å¤±é…å­—ç¬¦ä½ç½®åº”ç§»åŠ¨çš„æ­¥é•¿
	- ç¤ºä¾‹å›¾
		- ![](https://pic1.zhimg.com/50/v2-f29d822e4faf22542875de6c73fe07d0_hd.webp)
		- ![](https://pic1.zhimg.com/80/v2-67dd66b86323d3d08f976589cf712a1a_720w.jpg)
		- ![](https://pic1.zhimg.com/80/v2-d6c6d433813595dce5aad08b40dc0b72_720w.jpg)
	- å¤æ‚åº¦ï¼šæ—¶é—´å¤æ‚åº¦ O(s+p)
	- ç‰¹ç‚¹ï¼šå……åˆ†åˆ©ç”¨äº†å·²åŒ¹é…éƒ¨åˆ†å’Œæ¨¡å¼ä¸²è‡ªèº«çš„ä¿¡æ¯
	- ä¸ºä»€ä¹ˆè¯´ KMP ç®—æ³•å’ŒçŠ¶æ€æœºæœ‰å…³ï¼ŸKMPå®é™…ä¸Šæ˜¯ACè‡ªåŠ¨æœºçš„é€€åŒ–ç‰ˆæœ¬ï¼Œå³æ¨¡å¼ä¸²ä¸ªæ•°ä¸º1çš„æƒ…å†µ
		- æ¨¡å¼åŒ¹é…å°±æ˜¯çŠ¶æ€è½¬ç§»ï¼ŒKMP ç®—æ³•æœ€å…³é”®çš„æ­¥éª¤å°±æ˜¯æ„é€ è¿™ä¸ªçŠ¶æ€è½¬ç§»å›¾ã€‚è¦ç¡®å®šçŠ¶æ€è½¬ç§»çš„è¡Œä¸ºï¼Œå¾—æ˜ç¡®ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªæ˜¯å½“å‰çš„åŒ¹é…çŠ¶æ€ï¼Œå¦ä¸€ä¸ªæ˜¯é‡åˆ°çš„å­—ç¬¦ï¼›ç¡®å®šäº†è¿™ä¸¤ä¸ªå˜é‡åï¼Œå°±å¯ä»¥çŸ¥é“è¿™ä¸ªæƒ…å†µä¸‹åº”è¯¥è½¬ç§»åˆ°å“ªä¸ªçŠ¶æ€ã€‚
		- ![](https://pic2.zhimg.com/50/v2-aaa16eea8cf11b2957d207c249a49276_hd.webp)
- [BMç®—æ³•](https://www.ruanyifeng.com/blog/2013/05/boyer-moore_string_search_algorithm.html)

### å¤šæ¨¡å¼åŒ¹é…

- KMPå®é™…ä¸Šæ˜¯ACè‡ªåŠ¨æœºçš„é€€åŒ–ç‰ˆæœ¬ï¼Œå³æ¨¡å¼ä¸²ä¸ªæ•°ä¸º1çš„æƒ…å†µã€‚
- åŒæ—¶æ‰§è¡Œå¤šä¸ªæ¨¡å¼åŒ¹é…ï¼Œæ€ä¹ˆåŠï¼Ÿ

- ï¼ˆ1ï¼‰ç¬¨æ–¹æ³•ï¼šæ‹†æˆå¤šä¸ªå•æ¨¡åŒ¹é…é—®é¢˜
	- ä½†æ˜¯åœ¨æ–‡æœ¬ä¸²è¾ƒå¤§ã€ç›®æ ‡å­—ç¬¦ä¸²ä¼—å¤šçš„æ—¶å€™æ•ˆç‡æ¯”è¾ƒä½ã€‚
- ï¼ˆ2ï¼‰acè‡ªåŠ¨æœº
	- å†…å®¹å‚è€ƒè‡ªï¼š[å¤šæ¨¡å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ä¹‹ACè‡ªåŠ¨æœºâ€”åŸç†ä¸å®ç°](https://www.cnblogs.com/nullzx/p/7499397.html)
	- ACè‡ªåŠ¨æœºçš„åŸºç¡€æ˜¯[Trieæ ‘](https://www.cnblogs.com/huangxincheng/archive/2012/11/25/2788268.html)ã€‚å’ŒTrieæ ‘ä¸åŒçš„æ˜¯ï¼Œæ ‘ä¸­çš„æ¯ä¸ªç»“ç‚¹é™¤äº†æœ‰æŒ‡å‘å­©å­çš„æŒ‡é’ˆï¼Œè¿˜æœ‰ä¸€ä¸ªfailæŒ‡é’ˆï¼Œå®ƒè¡¨ç¤ºè¾“å…¥çš„å­—ç¬¦ä¸å½“å‰ç»“ç‚¹çš„æ‰€æœ‰å­©å­ç»“ç‚¹éƒ½ä¸åŒ¹é…æ—¶ï¼Œè‡ªåŠ¨æœºçš„çŠ¶æ€åº”è½¬ç§»åˆ°çš„çŠ¶æ€ã€‚failæŒ‡é’ˆçš„åŠŸèƒ½å¯ä»¥ç±»æ¯”äºKMPç®—æ³•ä¸­nextæ•°ç»„çš„åŠŸèƒ½ã€‚æ¯ä¸ªç»“ç‚¹çš„failæŒ‡é’ˆè¡¨ç¤ºç”±æ ¹ç»“ç‚¹åˆ°è¯¥ç»“ç‚¹æ‰€ç»„æˆçš„å­—ç¬¦åºåˆ—çš„æ‰€æœ‰åç¼€ã€€å’Œã€€æ•´ä¸ªTrieæ ‘ä¸­çš„æ‰€æœ‰å‰ç¼€ ä¸¤è€…ä¸­æœ€é•¿å…¬å…±çš„éƒ¨åˆ†ã€‚
	- ACè‡ªåŠ¨æœºåŒ¹é…è¿‡ç¨‹
		- 1ï¼‰è¡¨ç¤ºå½“å‰ç»“ç‚¹çš„æŒ‡é’ˆæŒ‡å‘ACè‡ªåŠ¨æœºçš„æ ¹ç»“ç‚¹ï¼Œå³curr = root
		- 2ï¼‰ä»æ–‡æœ¬ä¸²ä¸­è¯»å–ï¼ˆä¸‹ï¼‰ä¸€ä¸ªå­—ç¬¦
		- 3ï¼‰ä»å½“å‰ç»“ç‚¹çš„æ‰€æœ‰å­©å­ç»“ç‚¹ä¸­å¯»æ‰¾ä¸è¯¥å­—ç¬¦åŒ¹é…çš„ç»“ç‚¹ï¼Œ
			- è‹¥æˆåŠŸï¼šåˆ¤æ–­å½“å‰ç»“ç‚¹ä»¥åŠå½“å‰ç»“ç‚¹failæŒ‡å‘çš„ç»“ç‚¹æ˜¯å¦è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“æŸï¼Œè‹¥æ˜¯ï¼Œåˆ™å°†æ–‡æœ¬ä¸²ä¸­ç´¢å¼•èµ·ç‚¹è®°å½•åœ¨å¯¹åº”å­—ç¬¦ä¸²ä¿å­˜ç»“æœé›†åˆä¸­ï¼ˆç´¢å¼•èµ·ç‚¹= å½“å‰ç´¢å¼•-å­—ç¬¦ä¸²é•¿åº¦+1ï¼‰ã€‚curræŒ‡å‘è¯¥å­©å­ç»“ç‚¹ï¼Œç»§ç»­æ‰§è¡Œç¬¬2æ­¥
			- è‹¥å¤±è´¥ï¼šæ‰§è¡Œç¬¬4æ­¥ã€‚
		- 4ï¼‰è‹¥fail == nullï¼ˆè¯´æ˜ç›®æ ‡å­—ç¬¦ä¸²ä¸­æ²¡æœ‰ä»»ä½•å­—ç¬¦ä¸²æ˜¯è¾“å…¥å­—ç¬¦ä¸²çš„å‰ç¼€ï¼Œç›¸å½“äºé‡å¯çŠ¶æ€æœºï¼‰curr = root, æ‰§è¡Œæ­¥éª¤2ï¼Œ
			- å¦åˆ™ï¼Œå°†å½“å‰ç»“ç‚¹çš„æŒ‡é’ˆæŒ‡å‘failç»“ç‚¹ï¼Œæ‰§è¡Œæ­¥éª¤3)
	- ç‰¹ç‚¹
		- æœ¬è´¨æ˜¯å‰ç¼€æ ‘åŠ ä¸ŠKMPç®—æ³•
		- å‰ç¼€æ ‘èƒ½åŠ é€Ÿçš„æœ¬è´¨æ˜¯å› ä¸ºé‡‡ç”¨äº†å“ˆå¸Œç®—æ³•ï¼›ä½†ä¸å“ˆå¸Œè¡¨ä¹Ÿç¨æœ‰ä¸åŒã€‚é‡‡ç”¨äº†æ ‘å½¢ç»“æ„ï¼Œæ ‘å½¢ç»“æ„èƒ½è®©å…¶é‡‡ç”¨æ›´å°‘çš„å‚¨å­˜ç©ºé—´ï¼Œé¿å…äº†å“ˆå¸Œå†²çªã€‚
		- KMPç®—æ³•çš„æœ¬è´¨æ˜¯å› ä¸ºèƒ½å¤Ÿå¤ç”¨å·²ç»æ¯”è¾ƒè¿‡è®¡ç®—ï¼Œä»è€Œæå‡åŒ¹é…çš„æ•ˆç‡ã€‚
	- å·¥ç¨‹å®ç°
		- [Ahocorasick](https://hkn.eecs.berkeley.edu/~dyoo/python/ahocorasick/)ï¼šä½¿ç”¨Aho-Corasickè‡ªåŠ¨æœºçš„æ–¹å¼ï¼Œæ ¹æ®ä¸€ç»„å…³é”®è¯è¿›è¡ŒåŒ¹é…ï¼Œè¿”å›å…³é”®è¯å‡ºç°çš„ä½ç½®ã€‚ç”¨Cå®ç°ï¼ŒpythonåŒ…è£…
		- [Acora](http://pypi.python.org/pypi/acora/1.5)ï¼šå¤šå…³é”®å­—æœç´¢å¼•æ“ï¼Œä½¿ç”¨Aho-Corasickä»¥åŠNFA-to-DFAè‡ªåŠ¨æœºçš„æ–¹å¼
		- [Esmre](http://code.google.com/p/esmre/)ï¼šä¹Ÿæ˜¯ä½¿ç”¨çš„AhoCorasickè‡ªåŠ¨æœºçš„æ–¹å¼ï¼Œåšäº†ä¸€äº›ç»†å¾®çš„ä¿®æ”¹ã€‚ä¹Ÿæ˜¯ç”¨Cå®ç°ï¼ŒpythonåŒ…è£…
- ï¼ˆ3ï¼‰[WMï¼ˆWu-Manberï¼‰ç®—æ³•](https://blog.csdn.net/joylnwang/article/details/6801720)
	- WMç®—æ³•æ˜¯å¯¹BMç®—æ³•çš„å»¶ä¼¸ç»§æ‰¿ï¼Œç”¨BMç®—æ³•çš„æ ¸å¿ƒæ¡†æ¶ï¼Œç”¨å­—ç¬¦å—æ¥è®¡ç®—shiftè¡¨ï¼ˆå–ä»£åå­—ç¬¦è¡¨ï¼‰è¿›è¡Œè·³è½¬ï¼Œåœ¨è¿›è¡ŒåŒ¹é…æ—¶ï¼Œç”¨hashå’Œprefixè®¡ç®—å‰åç¼€çš„hashå€¼æ¥ä»ä¼—å¤šå¯é€‰çš„æ¨¡å¼ä¸²ä¸­å¿«é€Ÿç­›é€‰å‡ºæ­£ç¡®åŒ¹é…çš„æ¨¡å¼ä¸²ã€‚


### æ¨¡ç³ŠåŒ¹é…

- ä¸è¦æ±‚ç²¾ç¡®åŒ¹é…ï¼Œå…è®¸éƒ¨åˆ†æŸå¤±

- Aï¼šç¬¨æ–¹æ³•ï¼Œä¸€ç‚¹ç‚¹ç§»åŠ¨ç®—ç¼–è¾‘è·ç¦»
	- ç±»ä¼¼BFç®—æ³•ï¼Œç§»åŠ¨ä¸€æ¬¡ç®—ä¸€æ¬¡ç¼–è¾‘è·ç¦»ï¼Œæœ€åå–æœ€å¤§çš„ç¼–è¾‘è·ç¦»å¾—åˆ†ã€‚
	- æ—¶é—´å¤æ‚åº¦ï¼šç§»åŠ¨ Sï¼ˆé•¿å­—ç¬¦ä¸²ï¼‰ æ¬¡ï¼Œæ¯æ¬¡è®¡ç®—ç¼–è¾‘è·ç¦»  P^2, æ‰€ä»¥æ€»ä½“å¤æ‚åº¦= S * P * P
- B: [fuzzywuzzy](https://github.com/seatgeek/fuzzywuzzy),  å…ˆæ‰¾å‡ºç›¸ä¼¼ç‰‡æ®µï¼Œåœ¨ç‰‡æ®µé™„è¿‘è®¡ç®—æœ€å¤§ç¼–è¾‘è·ç¦»å¾—åˆ†
	- 1ã€æ‰¾å‡ºæ‰€æœ‰ç›¸ä¼¼ç‰‡æ®µï¼ˆæ‰€æœ‰çš„æœ€é•¿å…¬å…±å­—ä¸²ï¼‰
		- åŸºæœ¬å¤æ‚åº¦ï¼š<= S*P
		- difflab.SequenceMatcher  (python å®˜æ–¹åº“ï¼Œå¯ä»¥æ¯”è¾ƒä»»ä½•ç±»å‹çš„åºåˆ—å¯¹ï¼Œåªè¦åºåˆ—å…ƒç´ ä¸º hashable å¯¹è±¡)
			- [apiæ–‡æ¡£](https://docs.python.org/zh-cn/3/library/difflib.html#difflib.SequenceMatcher)
			- è‡ªåŠ¨åƒåœ¾å¯å‘å¼è®¡ç®—: SequenceMatcher æ”¯æŒä½¿ç”¨å¯å‘å¼è®¡ç®—æ¥è‡ªåŠ¨å°†ç‰¹å®šåºåˆ—é¡¹è§†ä¸ºåƒåœ¾ã€‚
		- SequenceMatcher åœ¨æœ€åæƒ…å†µä¸‹ä¸ºå¹³æ–¹æ—¶é—´è€Œåœ¨ä¸€èˆ¬æƒ…å†µä¸‹çš„è¡Œä¸ºå—åˆ°åºåˆ—ä¸­æœ‰å¤šå°‘ç›¸åŒå…ƒç´ è¿™ä¸€å› ç´ çš„å¾®å¦™å½±å“ï¼›åœ¨æœ€ä½³æƒ…å†µä¸‹åˆ™ä¸ºçº¿æ€§æ—¶é—´ã€‚
		- python-Levenshtein.SequenceMatcherï¼ˆé’ˆå¯¹å­—ç¬¦ä¸²åŒ¹é…åšäº†ä¼˜åŒ–ï¼Œå¯ä»¥åšåˆ°4-10å€çš„åŠ é€Ÿï¼‰
	- 2ã€å¯¹æ¯ä¸ªç›¸ä¼¼ç‰‡æ®µï¼ˆå…±Kä¸ªï¼‰ï¼Œåœ¨é•¿æ–‡æœ¬Sçš„ä½ç½®ï¼Œå‘å‰åæ‰©å……åˆ° æ¨¡å¼ P çš„é•¿åº¦ï¼Œè¿›è¡Œç¼–è¾‘è·ç¦»å¾—åˆ†è®¡ç®—ã€‚
		- è®¡ç®—ç¼–è¾‘è·ç¦»å¤æ‚åº¦  K*P^2
	- 3ã€æ‰¾å‡ºæœ€å¤§çš„ç¼–è¾‘è·ç¦»ç›¸ä¼¼åº¦ï¼Œä½œä¸ºæ¨¡å¼çš„æœ€ç»ˆå¾—åˆ†
		- å¤æ‚åº¦ ï¼šK

### æ·±åº¦è¯­ä¹‰åŒ¹é…

- å¦‚DSSMç­‰ç³»åˆ—

### è›®åŠ›ç®—æ³•

å­—ç¬¦ä¸²åŒ¹é…çš„è›®åŠ›ç®—æ³•ï¼Œå¯ä»¥å°†æ¨¡å¼ä¸²é€ä¸€ä¸æ–‡æœ¬ä¸²ä¸­é•¿åº¦ä¸ºmçš„å­ä¸²è¿›è¡ŒåŒ¹é…ã€‚ä¾‹å¦‚åœ¨æ–‡æœ¬ä¸²"abcabdab"ä¸­æŸ¥æ‰¾å­ä¸²"abd"ï¼š

|åºå·|0|1|2|3|4|5|6|7|8|
|æ–‡æœ¬ä¸²|a|b|c|a|b|d|a|b|d|
|åŒ¹é…1|<b><font color="#ff0000">a</font></b>|<b><font color="#ff0000">b</font></b>|<del>d</del>|||||||
|åŒ¹é…2||<del>a</del>|<font color="#aaaaaa">b</font>|<font color="#aaaaaa">d</font>||||||
|åŒ¹é…3|||<del>a</del>|<font color="#aaaaaa">b</font>|<font color="#aaaaaa">d</font>|||||
|åŒ¹é…4||||<b><font color="#ff0000">a</font></b>|<b><font color="#ff0000">b</font></b>|<b><font color="#ff0000">d</font></b>||||

å…¶å¯¹åº”çš„æš´åŠ›ç®—æ³•ä»£ç ä¸ºï¼ˆJavaï¼‰ï¼š

```java
public int match(String P, String T) {
	int n = T.length(); // æ–‡æœ¬ä¸²é•¿åº¦
	int m = P.length(); // æ¨¡å¼ä¸²é•¿åº¦
	for (int i = 0; i < n - m + 1; i ++) { // æ–‡æœ¬ä¸²ä¸­çš„èµ·å§‹æŸ¥æ‰¾ä½ç½®
		if (T.substring(i, i + m).equals(P)) return i; // åŒ¹é…å­ä¸²
	}
	return -1;
}
```

ä¸ºäº†æŠ«éœ²æ›´å¤šçš„ç®—æ³•ç»†èŠ‚ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸ä½¿ç”¨Javaå†…ç½®å‡½æ•°å®ç°ï¼Œä»¥ä¸ºæ¥ä¸‹æ¥çš„KMPç®—æ³•çš„ç†è§£åšå‡†å¤‡ï¼š

```java
public int match(String P, String T) {
	int n = T.length(), i = 0; // æ–‡æœ¬ä¸²é•¿åº¦åŠå½“å‰æ¯”å¯¹å­—ç¬¦
	int m = P.length(), j = 0; // æ¨¡å¼ä¸²é•¿åº¦åŠå½“å‰æ¯”å¯¹å­—ç¬¦
	while ((i < n) && (j < m)) {
		if (T.charAt(i) == P.charAt(j)) {
			i ++; j ++; // åŒ¹é…ï¼Œè½¬åˆ°ä¸‹ä¸€å­—ç¬¦
		} else {
			i -= j - 1; j = 0; // æ–‡æœ¬ä¸²å›é€€ï¼Œæ¨¡å¼ä¸²å¤ä½
		}
	}
	return (i - j > n - m) ? -1 : i - j; // è‹¥åŒ¹é…æˆåŠŸï¼Œåˆ™i-jè¡¨ç¤ºåŒ¹é…åˆå§‹ä½ç½®
}
```

å¾ˆæ˜¾ç„¶ï¼Œè›®åŠ›ç®—æ³•ç”±äºéœ€è¦å¯¹äºæ¯ä¸ªå­ä¸²è¿›è¡Œæ¯”è¾ƒï¼Œå…¶æ—¶é—´å¤æ‚åº¦åœ¨æœ€å·®æƒ…å†µä¸‹ä¸ºO(mn)ã€‚

### è›®åŠ›ç®—æ³•çš„æ€è€ƒ

å†æ¬¡å›é¡¾è›®åŠ›ç®—æ³•è¿‡ç¨‹çš„ä¾‹å­ï¼š

|åºå·|0|1|2|3|4|5|6|7|8|
|æ–‡æœ¬ä¸²|a|b|c<font color="#0000ff">(i=2)</font>|a|b|d|a|b|d|
|åŒ¹é…1|<b><font color="#ff0000">a</font></b>|<b><font color="#ff0000">b</font></b>|<del>d</del><font color="#0000ff">(j=2)</font>|||||||

ç¬¬ä¸€æ¬¡åŒ¹é…åœ¨`i=2`åŠ`j=2`å¤„å¤±è´¥åï¼Œæ–‡æœ¬ä¸²å›é€€ï¼Œæ¨¡å¼ä¸²å¤ä½ï¼š

|åºå·|0|1|2|3|4|5|6|7|8|
|æ–‡æœ¬ä¸²|a|b<font color="#0000ff">(i=1)</font>|c|a|b|d|a|b|d|
|åŒ¹é…2||<del>a</del><font color="#0000ff">(j=0)</font>|<font color="#aaaaaa">b</font>|<font color="#aaaaaa">d</font>||||||

å¾ˆæ˜¾ç„¶ç¬¬äºŒæ¬¡åŒ¹é…çš„æ—¶å€™åŒæ ·å¤±è´¥äº†ã€‚é‚£è¿™ä¸ªå¤±è´¥æ˜¯å¶ç„¶çš„å—ï¼Ÿå¹¶ä¸æ˜¯ã€‚å¯ä»¥å‘ç°ç”±äºç¬¬ä¸€æ¬¡åŒ¹é…æ—¶å·²ç»æˆåŠŸåŒ¹é…äº†å­—ç¬¦ä¸²`"ab"`ï¼Œå› æ­¤æ–‡æœ¬ä¸²ä¸€å®šæ˜¯`"abxxxxxx"`ã€‚å› æ­¤åœ¨i=1çš„ä½ç½®ï¼Œæ¨¡å¼ä¸²ä¸€å®šä¸èƒ½å’Œæ–‡æœ¬ä¸²è¿›è¡ŒåŒ¹é…ï¼Œå› æ­¤è¿™æ¬¡å¤±è´¥æ˜¯æ³¨å®šçš„ã€‚

## KMPç®—æ³•

ä¸ºäº†ä½¿å¾—å·²ç»æˆåŠŸçš„ä¿¡æ¯å¾—åˆ°å……åˆ†çš„åˆ©ç”¨ï¼ŒKMPç®—æ³•å¯¹äºâ€œæ³¨å®šçš„å¤±è´¥â€é‡‡å–äº†èªæ˜çš„é¿è®©æªæ–½ï¼Œè¯¥ç®—æ³•çš„æ ¸å¿ƒæ˜¯nextæ•°ç»„ã€‚

### nextæ•°ç»„

ä¸ºäº†å°½å¯èƒ½åœ°åˆ©ç”¨å·²ç»åŒ¹é…çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®‰å…¨çš„å‰æä¸‹ï¼Œå¯¹æ¨¡å¼ä¸²è¿›è¡Œå¿«é€Ÿç§»åŠ¨ï¼Œè€Œä¸æ˜¯åƒæš´åŠ›ç®—æ³•ä¸€æ ·ä¸€æ¬¡ä»…å‰è¿›ä¸€æ ¼ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ¨¡å¼ä¸²å‘å³ç§»åŠ¨çš„è·ç¦»ä¹‹å’Œè‡ªèº«æœ‰å…³ï¼Œå³æ— è®ºä½•æ—¶ï¼Œåªè¦åŒ¹é…åˆ°`"abd"`ä¸­çš„`'d'`å¤±è´¥åï¼Œå°±éœ€è¦å°†æ¨¡å¼ä¸²çš„`j`ç§»åŠ¨åˆ°`next[j]`çš„ä½ç½®ï¼Œç§°ä¹‹ä¸ºæ¨¡å¼ä¸²Pçš„nextæ•°ç»„ã€‚

ä¾‹å¦‚åœ¨ä¸Šè¿°çš„ä¾‹å­ä¸­ï¼ŒåŒ¹é…åˆ°`"abd"`ä¸­çš„`'d'`å¤±è´¥åï¼Œæˆ‘ä»¬çŸ¥é“å½“å‰ä½ç½®çš„å‰ä¸¤ä¸ªå­—ç¬¦ä¸€å®šä¸º`"ab"`ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å‘å³å°†æ¨¡å¼ä¸²ç§»åŠ¨ä¸¤ä½ï¼Œå³`next[2] = 0`ï¼Œè¡¨ç¤ºå°†j=2å¯¹åº”çš„'d'å­—ç¬¦ç›´æ¥ç§»åŠ¨åˆ°'a'å­—ç¬¦è¿›è¡Œæ¯”å¯¹ã€‚è¿™ä¸€æ¯”å¯¹è¿‡ç¨‹ä¸ºï¼š

|åºå·|0|1|2|3|4|5|6|7|8|å¤‡æ³¨|
|æ–‡æœ¬ä¸²|a|b|c|a|b|d|a|b|d||
|åŒ¹é…1|<b><font color="#ff0000">a</font></b>|<b><font color="#ff0000">b</font></b>|<del>d</del><font color="#0000ff">(j=2)</font>|||||||j=2åŒ¹é…å¤±è´¥ï¼Œç§»åŠ¨j=next[j]=0|
|ç§»åŠ¨æ¨¡å¼ä¸²|||<font color="#aaaaaa">a</font><font color="#0000ff">(j=0)</font>|<font color="#aaaaaa">b</font>|<font color="#aaaaaa">d</font>||||||

å½“æ–‡æœ¬ä¸²ä¸æ¨¡å¼ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦éƒ½ä¸åŒ¹é…æ—¶ï¼Œæ¨¡å¼ä¸²åº”å½“å³ç§»ä¸€ä½ï¼Œç»§ç»­å’Œä¸‹ä¸€å’Œæ–‡æœ¬ä¸²å­—ç¬¦è¿›è¡Œå¯¹æ¯”ã€‚ä¸ºäº†ç»Ÿä¸€èµ·è§ï¼Œæˆ‘ä»¬å¯ä»¥ä»¤`next[0] = -1`ï¼Œè¡¨ç¤ºå½“ç¬¬0å·å­—ç¬¦ä¸åŒ¹é…æ—¶ï¼Œéœ€è¦å°†å…¶ç§»åŠ¨åˆ°-1çš„ä½ç½®ï¼Œä¹Ÿå³å‘å³ç§»åŠ¨ä¸€ä½æ¨¡å¼ä¸²ã€‚

é€šè¿‡ä¸Šè¿°ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä»»æ„æ¨¡å¼ä¸²çš„nextæ•°ç»„ï¼Œä¾‹å¦‚å¯¹äº`P = "chinchilla"`ï¼Œå…¶nextè¡¨ä¸ºï¼š

|j|0|1|2|3|4|5|6|7|8|9|
|T[j]|c|h|i|n|c|h|i|l|l|a|
|next[j]|-1|0|0|0|0|1|2|3|0|0|

- j = 0æ—¶ï¼ŒåŒ¹é…å¤±è´¥è¯´æ˜è¯¥ä½ç½®çš„æ–‡æœ¬ä¸²ä¸æ¨¡å¼ä¸²çš„ç¬¬ä¸€ä½ä¸ç›¸ç­‰ï¼Œæ­¤æ—¶åº”å³ç§»ä¸€ä½ï¼Œå³`next[0] = -1`;
- j = 1æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"c"`åŒ¹é…æˆåŠŸï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"cxxxx"`ï¼Œåº”å‘å³ç§»åŠ¨ä¸€ä½ï¼Œå³`next[1] = 0`;
- j = 2æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"ch"`åŒ¹é…æˆåŠŸï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chxxxx"`ï¼Œåº”å‘å³ç§»åŠ¨ä¸¤ä½ï¼ˆå› ä¸ºå¦‚æœåªç§»åŠ¨ä¸€ä½ï¼Œæ–‡æœ¬ä¸²å˜ä¸º`"hxxxx"`ï¼Œæ¨¡å¼ä¸²ä¸º`"chin..."`ï¼Œå¿…ç„¶åŒ¹é…å¤±è´¥ï¼‰ï¼Œå³`next[2] = 0`;
- j = 3æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"chi"`åŒ¹é…æˆåŠŸï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chixxxx"`ï¼Œåº”å‘å³ç§»åŠ¨ä¸‰ä½ï¼Œå³`next[3] = 0`;
- j = 4æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"chin"`åŒ¹é…æˆåŠŸï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chinxxxx"`ï¼Œåº”å‘å³ç§»åŠ¨å››ä½ï¼Œå³`next[4] = 0`;
- j = 5æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"chinc"`åŒ¹é…æˆåŠŸï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chincxxxx"`ï¼Œæ­¤æ—¶æˆ‘ä»¬å‘ç°å¦‚æœå°†æ¨¡å¼ä¸²å³ç§»å››ä½ï¼Œåˆ™æ–‡æœ¬ä¸²å˜ä¸º`"cxxxx"`ï¼Œä¸æ¨¡å¼ä¸²`"chin..."`æœ‰å¯èƒ½åŒ¹é…æˆåŠŸï¼Œå› æ­¤`next[5] = 1`ï¼Œå³ä½¿å¾—å­—ç¬¦`'h'`ç§»åŠ¨åˆ°å‰é¢çš„`'h'`å¤„;
- ...
- j = 8æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"chinchil"`åŒ¹é…æˆåŠŸï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chinchilxxxx"`ï¼Œæ­¤æ—¶æˆ‘ä»¬å¿…é¡»å°†æ¨¡å¼ä¸²å³ç§»8ä½ï¼Œå¦åˆ™æ— è®ºå¦‚ä½•å‡ä¸èƒ½ä¸æ¨¡å¼ä¸²`"chinchilla"`åŒ¹é…æˆåŠŸï¼Œå› æ­¤`next[8] = 0`ï¼›
- ...

é€šè¿‡ä¸Šè¿°æ–¹æ³•ï¼Œæˆ‘ä»¬å³å¯å¾—åˆ°ä»»æ„å­—ç¬¦ä¸²çš„nextæ•°ç»„ã€‚

### KMPç®—æ³•åŒ¹é…

æ ¹æ®nextæ•°ç»„çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå¿«å†™å‡ºKMPç®—æ³•è¿›è¡ŒåŒ¹é…è®¡ç®—çš„ä»£ç ï¼š

```java
public int KMP(String P, String T) {
	int n = T.length(), i = 0; // æ–‡æœ¬ä¸²æŒ‡é’ˆ
	int m = P.length(), j = 0; // æ¨¡å¼ä¸²æŒ‡é’ˆ
	int[] next = buildNext(P); // æ„å»ºæ¨¡å¼ä¸²Pçš„nextè¡¨
	while ((j < m) && (i < n)) {
		if ((j < 0) || (P.charAt(j) == T.charAt(i))) { // åŒ¹é…æ—¶ï¼Œç§»åŠ¨åˆ°ä¸‹ä¸€å­—ç¬¦
			j ++; i ++;
		} else { // ä¸åŒ¹é…æ—¶ï¼ŒåŠ é€Ÿç§»åŠ¨æ¨¡å¼ä¸²
			j = next[j];
		}
	}
	return (i - j > n - m) ? -1 : i - j;
}
```

ç”±äºæ–‡æœ¬ä¸²æŒ‡é’ˆæ°¸è¿œä¸ä¼šåé€€ï¼Œæ¨¡å¼ä¸²æŒ‡é’ˆåªå¯èƒ½è¿›è¡ŒåŠ 1æ“ä½œæˆ–è€…nextæ“ä½œï¼ˆç›¸ç­‰äºåšå‡æ³•ï¼‰ï¼Œå› æ­¤è¯¥æ–¹æ³•æœ€å¤šåªå¯èƒ½è¿›è¡Œ2*næ¬¡æ“ä½œï¼Œå› æ­¤KMPç®—æ³•ä¸­é™¤nextè¡¨æ„å»ºå¤–ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚æ ¹æ®åç»­çš„åˆ†æï¼Œæˆ‘ä»¬å¾—åˆ°nextè¡¨çš„æ„å»ºæœ€å¤šéœ€è¦O(m)æ—¶é—´ï¼Œå› æ­¤KMPç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸è¶…è¿‡O(m+n)ã€‚åŒæ—¶å¯¹äºæ„å»ºå¥½çš„nextè¡¨ï¼Œåªè¦æ¨¡å¼ä¸²ä¸å‘ç”Ÿå˜åŒ–ï¼Œå°±å¯ä»¥è¿ç»­ä¸æ–­ä½¿ç”¨ï¼Œè¿™ä¹Ÿä½¿å¾—æ¸è¿›å¤æ‚åº¦æ¥è¿‘äºO(n)ã€‚

### nextæ•°ç»„çš„æ”¹è¿›

å½“æ¨¡å¼ä¸²`P = "chinchilla"`æ—¶ï¼Œæˆ‘ä»¬æ„é€ ä»¥ä¸‹æ–‡æœ¬ä¸²`T = "chincy..."`ï¼Œå…¶æ¯”å¯¹è¿‡ç¨‹å¦‚ä¸‹ï¼š

|åºå·|0|1|2|3|4|5|6|7|8|9|å¤‡æ³¨|
|æ–‡æœ¬ä¸²|c|h|i|n|c|y<font color="#0000ff">(i=5)</font>|x|x|x|x||
|åŒ¹é…1|<b><font color="#ff0000">c</font></b>|<b><font color="#ff0000">h</font></b>|<b><font color="#ff0000">i</font></b>|<b><font color="#ff0000">n</font></b>|<b><font color="#ff0000">c</font></b>|<del>h</del><font color="#0000ff">(j=5)</font>|<font color="#aaaaaa">i</font>|<font color="#aaaaaa">l</font>|<font color="#aaaaaa">l</font>|<font color="#aaaaaa">a</font>|j=5åŒ¹é…å¤±è´¥ï¼Œj=next[j]=1|
|ç§»åŠ¨æ¨¡å¼ä¸²|||||<font color="#aaaaaa">c</font>|<font color="#aaaaaa">h</font><font color="#0000ff">(j=1)</font>|<font color="#aaaaaa">i</font>|<font color="#aaaaaa">n</font>|<font color="#aaaaaa">c</font>|<font color="#aaaaaa">h</font>|

æ˜¾ç„¶è¿™æ¬¡åŒ¹é…ä¹Ÿä¼šå¤±è´¥ï¼Œè€Œè¿™æ¬¡å¤±è´¥ä¹Ÿæ˜¯å¿…ç„¶çš„ã€‚æˆ‘ä»¬å‘ç°ï¼Œå½“æ¨¡å¼ä¸²åŒ¹é…åˆ°`"chinch"`è€Œå¤±è´¥æ—¶ï¼Œä¸ä»…è¯´æ˜æ­¤æ—¶æ–‡æœ¬ä¸²ä¸º`"chincxxxx"`ï¼ŒåŒæ—¶è¿˜è¯´æ˜æ–‡æœ¬ä¸²ä¸­ä¸‹ä¸€ä¸ªå­—ç¬¦å¿…ä¸ä¸º`'h'`ã€‚æŒæ¡è¿™ä¸ªç»†èŠ‚ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹nextæ•°ç»„è¿›è¡Œæ”¹è¿›ï¼š

|j|0|1|2|3|4|5|6|7|8|9|
|T[j]|c|h|i|n|c|h|i|l|l|a|
|next[j]|-1|0|0|0|-1|0|0|3|0|0|

- j = 4æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"chin"`åŒ¹é…æˆåŠŸï¼Œ`'c'`åŒ¹é…å¤±è´¥ï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chin[éc]xxxx"`ï¼Œæ­¤æ—¶æˆ‘ä»¬ç°å¦‚æœå°†æ¨¡å¼ä¸²å³ç§»4ä½ï¼Œåˆ™æ–‡æœ¬ä¸²å˜ä¸º`"[éc]xxxx"`ï¼Œä¸æ¨¡å¼ä¸²`"chin..."`ä»ç„¶åŒ¹é…å¤±è´¥ï¼Œå› æ­¤å¿…é¡»å°†æ¨¡å¼ä¸²ç§»åŠ¨5ä½ï¼Œå³`next[4] = -1`ï¼ˆæ³¨æ„å’Œæ”¹è¿›å‰çš„åŒºåˆ«ï¼‰;
- j = 5æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"chinc"`åŒ¹é…æˆåŠŸï¼Œ`'h'`åŒ¹é…å¤±è´¥ï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chinc[éh]xxx"`ï¼Œæ­¤æ—¶æˆ‘ä»¬å‘ç°å¦‚æœå°†æ¨¡å¼ä¸²å³ç§»4ä½ï¼Œåˆ™æ–‡æœ¬ä¸²å˜ä¸º`"c[éh]xxx"`ï¼Œä¸æ¨¡å¼ä¸²`"chin..."`ä»ç„¶åŒ¹é…å¤±è´¥ï¼Œå› æ­¤å¿…é¡»å°†æ¨¡å¼ä¸²ç§»åŠ¨5ä½ï¼Œå³`next[5] = 0`ï¼ˆæ³¨æ„å’Œæ”¹è¿›å‰çš„åŒºåˆ«ï¼‰;
- j = 7æ—¶ï¼Œæ–‡æœ¬ä¸²ä¸­`"chinchi"`åŒ¹é…æˆåŠŸï¼Œ`'l'`åŒ¹é…å¤±è´¥ï¼Œè¯´æ˜æ–‡æœ¬ä¸²æ ¼å¼ä¸º`"chinchi[él]xxxx"`ï¼Œæ­¤æ—¶æˆ‘ä»¬å°†æ¨¡å¼ä¸²å³ç§»4ä½ï¼Œæ–‡æœ¬ä¸²å˜ä¸º`"chi[él]xxxx"`ï¼Œä¸æ¨¡å¼ä¸²æœ‰æ¦‚ç‡åŒ¹é…ã€‚å› æ­¤`next[7] = 3`ï¼›

åˆ©ç”¨è¿™ç§æ–¹å¼åˆ›å»ºçš„nextè¡¨ï¼Œä¸ä»…å¯ä»¥ä»â€œæˆåŠŸâ€ä¸­è·å–ç»éªŒï¼Œè¿˜å¯ä»¥ä»â€œå¤±è´¥â€ä¸­è·å–æ•™è®­ï¼Œä½¿å¾—æ¨¡å¼ä¸²å¯ä»¥å°½å¯èƒ½å¿«åœ°ç§»åŠ¨ã€‚

### nextè¡¨æ„å»ºåˆ†æ

é€šè¿‡ä¸Šè¿°åˆ†æï¼Œæˆ‘ä»¬å·²ç»å¯¹nextè¡¨çš„è®¡ç®—æ–¹æ³•æœ‰äº†ä¸€å®šçš„è®¤çŸ¥ã€‚æ€»ç»“æ¥çœ‹ï¼Œnextè¡¨ä¸­next[j]çš„è®¡ç®—æ–¹æ³•ä¸ºï¼š

![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180805_next1.png)

1. ç”±äºæ¨¡å¼ä¸²åŒ¹é…åˆ°jä½æ—¶å¤±è´¥ï¼Œå› æ­¤å¯¹äºæ¨¡å¼ä¸²çš„å‰j-1ä½å¿…ç„¶ä¸æ–‡æœ¬ä¸²åŒ¹é…ï¼Œå³`P[0, j) = T[i - j, i)`ã€‚åŒæ—¶ç”±äºåŒ¹é…å¤±è´¥ï¼Œè¿˜å¯ä»¥å¾—åˆ°`P[j] â‰ T[i]`ã€‚
2. è‹¥æˆ‘ä»¬ä¸‹ä¸€è½®åŒ¹é…æ—¶ï¼Œä»¤T[i]å’ŒP[t]å¯¹é½ï¼Œè¯´æ˜æˆ‘ä»¬å°†æ¨¡å¼ä¸²å‘å³ç§»åŠ¨äº†j-tä½ã€‚è‹¥æ­¤æ—¶èƒ½æœ‰ä¸å·²çŸ¥çš„æ–‡æœ¬ä¸²åŒ¹é…ï¼Œåº”æœ‰`P[0, t) = T[i - t, i]`ï¼ŒåŒæ—¶åœ¨`P[t] â‰ P[j]`çš„æƒ…å†µä¸‹æ‰æœ‰å¯èƒ½ä¸T[i]è¿›è¡ŒåŒ¹é…ã€‚
3. è‹¥å­˜åœ¨å¾ˆå¤šç»„tï¼Œä¿é™©èµ·è§æˆ‘ä»¬åº”å½“ä½¿å¾—ç§»åŠ¨è·ç¦»æœ€å°ï¼Œå› æ­¤éœ€è¦ä½¿å¾—`next[j] = max(t)`ã€‚

å½’çº³ä¸ºæ•°å­¦è¯­è¨€å¦‚ä¸‹ï¼š

```java
next[j] = max({ t | P[0, t) = P[j - t, j) ä¸” P[t] â‰ P[j] })
```

å› æ­¤å®è´¨ä¸Šï¼Œnextè¡¨çš„æ„å»ºæ˜¯ä¸€ä¸ªè‡ªæˆ‘åŒ¹é…çš„è¿‡ç¨‹ï¼Œä»¿ç…§åŒ¹é…ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºnextè¡¨çš„æ„å»ºä»£ç ï¼š

```java
public int[] buildNext(String P) {
	int m = P.length();
	int[] next = new int[m];
	next[0] = -1; // åˆå§‹åŒ–nextè¡¨
	int t = -1, j = 0; // jä¸ºâ€œä¸»â€ä¸²æŒ‡é’ˆï¼Œtä¸ºç§»åŠ¨ä¸²æŒ‡é’ˆ
	while (j < m - 1) {
		if ((t < 0) || (P.charAt(j) == P.charAt(t))) {
			// åŒ¹é…çš„æƒ…å†µä¸‹ï¼Œè‹¥åä¸€å…ƒç´ ä¸ç›¸ç­‰æ—¶æ‰èƒ½ç§»åŠ¨åˆ°tï¼Œå¦åˆ™è¦ç›´æ¥ç§»åŠ¨åˆ°next[t]
			j ++; t ++;
			next[j] = (P.charAt(j) != P.charAt(t) ? t : next[t]);
		} else { // ä¸åŒ¹é…æ—¶ï¼ŒåŠ é€Ÿç§»åŠ¨æ¨¡å¼ä¸²
			t = next[t];
		}
	}
	return next;
}
```

è¿™é‡Œå¯ä»¥çœ‹å‡ºæ¥ï¼Œå½“æ¨¡å¼ä¸²è¿›è¡Œç§»åŠ¨çš„æ—¶å€™ï¼Œåªæœ‰next[t]æ‰èƒ½æˆä¸ºå€™é€‰è€…ï¼Œå› æ­¤åˆ©ç”¨å·²æ„å»ºçš„éƒ¨åˆ†nextè¡¨ï¼Œå¯ä»¥é¿å…æ— ç”¨çš„ç§»åŠ¨ã€‚

### æ‰‹åŠ¨è®¡ç®—nextè¡¨

ä½¿ç”¨ä»£ç è®¡ç®—nextè¡¨çš„è¿‡ç¨‹å¾ˆå¿«ï¼Œä½†æ˜¯å´ä¸å¤Ÿç›´è§‚ã€‚æ ¹æ®nextè¡¨çš„æ•°å­¦å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ç¨å¾®ç¹çï¼Œä½†æ˜¯å´éå¸¸ç›´è§‚åœ°æ–¹å¼è¿›è¡Œæ‰‹åŠ¨è®¡ç®—ï¼š

1. åœ¨ç¬¬ä¸€è¡Œå†™ä¸Šå®Œæ•´çš„æ¨¡å¼ä¸²Pï¼Œå¹¶æ ‡æ˜å…¶åºå·ï¼›
2. ä¾æ¬¡å‘å³ç§»åŠ¨æ¨¡å¼ä¸²ï¼Œè‹¥å¯ä»¥åŒ¹é…ï¼Œåˆ™ç»§ç»­å‘åå†™ï¼Œå¦åˆ™åœæ­¢ï¼Œå¹¶åœ¨åé¢æ ‡æ˜é¦–æ¬¡å¤±é…ä½ç½®indexT(é¦–æ¬¡å¤±é…ä½ç½®åœ¨åŸä¸²ä¸­çš„ä½ç½®)å’ŒindexPï¼ˆé¦–æ¬¡å¤±é…æ—¶åœ¨ç§»åŠ¨ä¸²ä¸­çš„ä½ç½®ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…¨åŒ¹é…æ—¶ï¼Œå¤±é…ä½ç½®ä¸å­˜åœ¨ï¼›
3. æŸ¥æ‰¾next[j]æ—¶ï¼Œç”±ä¸Šå‘ä¸‹æŸ¥æ‰¾indexTåˆ—ï¼Œé¦–æ¬¡å‡ºç°jå€¼çš„è¡Œå¯¹åº”çš„indexPå€¼å³ä¸ºnext[j]ã€‚è‹¥ä¸å­˜åœ¨jå€¼ï¼Œåˆ™åº”å¡«-1ã€‚

ä»¥`"chinchillach"`ä¸ºä¾‹ï¼Œæ‰‹åŠ¨è®¡ç®—å…¶nextè¡¨å¦‚ä¸‹ï¼š

|0|1|2|3|4|5|6|7|8|9|10|11|indexT|indexP|
|c|h|i|n|c|h|i|l|l|a|c|h|||
||c|||||||||||1|0|
|||c||||||||||2|0|
||||c|||||||||3|0|
|||||c|h|i|n|||||7|3|
||||||c|||||||5|0|
|||||||c||||||6|0|
||||||||c|||||7|0|
|||||||||c||||8|0|
||||||||||c|||9|0|
|||||||||||c|h|-|-|
||||||||||||c|11|0|

æ ¹æ®ä¸Šè¿°è¡¨æ ¼ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“å¾—åˆ°nextè¡¨çš„ç»“æœä¸ºï¼š

|j|0|1|2|3|4|5|6|7|8|9|10|11|
|P[j]|c|h|i|n|c|h|i|l|l|a|c|h|
|next[j]|-1|0|0|0|-1|0|0|3|0|0|-1|0|

å†ä»¥å­—ç¬¦ä¸²`"abababb"`ä¸ºä¾‹ï¼Œå…¶è®¡ç®—è¿‡ç¨‹ä¸ºï¼š

|0|1|2|3|4|5|6|indexT|indexP|
|a|b|a|b|a|b|b|||
||a||||||1|0|
|||a|b|a|b|a|6|4|
||||a||||3|0|
|||||a|b|a|6|2|
||||||a||5|0|
|||||||a|6|0|

å› æ­¤å…¶nextè¡¨ä¸ºï¼š

|j|0|1|2|3|4|5|6|
|P[j]|a|b|a|b|a|b|b|
|next[j]|-1|0|-1|0|-1|0|4|

é€šè¿‡è¿™ä¸¤ä¸ªä¾‹å­ï¼Œæƒ³å¿…å¯¹äºnextè¡¨çš„æ‰‹åŠ¨è®¡ç®—ä¹Ÿä¸ä¼šå†å®³æ€•äº†ã€‚


äºŒå‰æ ‘æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼Œä¸€èˆ¬æ„ä¹‰ä¸Šå¯¹æ ‘çš„éå†å‡éœ€è¦`O(n)`çš„æ—¶é—´å¤æ‚åº¦å’Œ`O(logn)`çš„ç©ºé—´å¤æ‚åº¦ã€‚æœ¬æ–‡å°†ä»‹ç»ä¸€ç§`O(1)`ç©ºé—´å¤æ‚åº¦çš„ç®—æ³•ï¼Œè¿™å°±æ˜¯Morrisæ ‘éå†ç®—æ³•ã€‚


## äºŒå‰æ ‘çš„éå†

ä¸€èˆ¬æ„ä¹‰ä¸Šæ¥è¯´ï¼ŒäºŒå‰æ ‘ç”±å¾ˆå¤šä¸ªæ ‘èŠ‚ç‚¹æ„æˆçš„ï¼Œéçº¿æ€§çš„æ•°æ®ç»“æ„ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æ‹¥æœ‰ä¸¤ä¸ªâ€œå­èŠ‚ç‚¹â€ï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¹Ÿè¢«ç§°ä¹‹ä¸ºå­èŠ‚ç‚¹çš„â€œçˆ¶èŠ‚ç‚¹â€ã€‚é€šå¸¸åœ°ï¼Œæˆ‘ä»¬ç§°æ²¡æœ‰çˆ¶èŠ‚ç‚¹çš„èŠ‚ç‚¹ä¸ºâ€œæ ¹èŠ‚ç‚¹â€ï¼Œä¸¤ä¸ªå­èŠ‚ç‚¹å‡ä¸ºnullçš„èŠ‚ç‚¹ä¸ºâ€œå¶å­èŠ‚ç‚¹â€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_binarytree.png)

ä¸ºç»Ÿä¸€èµ·è§ï¼Œæœ¬æ–‡å®šä¹‰æ ‘èŠ‚ç‚¹çš„æ ¼å¼ä¸ºï¼š

```java
class TreeNode {
	public Value val;       // èŠ‚ç‚¹çš„å€¼
	public TreeNode left;   // å·¦å­©å­
	public TreeNode right;  // å³å­©å­
}
```

è€Œä¸ºäº†å°†è¿™ç§éçº¿æ€§ç»“æ„è½¬åŒ–ä¸ºçº¿æ€§ç»“æ„ä½¿ç”¨ï¼Œå„ç§éå†é¡ºåºåº”è¿è€Œç”Ÿï¼Œä¸€èˆ¬åŒ…æ‹¬ï¼š

1. å…ˆåºéå†ï¼šæŒ‰ç…§ `çˆ¶èŠ‚ç‚¹ -> å·¦å­©å­ -> å³å­©å­` çš„é¡ºåºéå†ï¼Œä¸DFSï¼ˆæ·±åº¦ä¼˜å…ˆæœç´¢ï¼‰æœ‰ä¸€å®šè”ç³»ï¼›
2. ä¸­åºéå†ï¼šæŒ‰ç…§ `å·¦å­©å­ -> çˆ¶èŠ‚ç‚¹ -> å³å­©å­` çš„é¡ºåºéå†ã€‚å½“äºŒå‰æ ‘ä¸ºäºŒå‰æœç´¢æ ‘æ—¶ï¼Œä¸­åºéå†è¿”å›ç»“æœä¸ºæœ‰åºåºåˆ—ï¼Œå› æ­¤ä¹Ÿå«é¡ºåºéå†ï¼›
3. ååºéå†ï¼šæŒ‰ç…§ `å·¦å­©å­ -> å³å­©å­ -> çˆ¶èŠ‚ç‚¹` çš„é¡ºåºéå†ã€‚
4. å±‚æ¬¡éå†ï¼šä»å·¦åˆ°å³ï¼Œä¸€å±‚ä¸€å±‚éå†æ•´ä¸ªæ ‘ï¼Œä¸BFSï¼ˆå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼‰æœ‰ä¸€å®šè”ç³»ã€‚

### é€’å½’éå†æ–¹æ³•

åˆ©ç”¨é€’å½’å¤„ç†äºŒå‰æ ‘çš„éå†é—®é¢˜éå¸¸æ–¹ä¾¿ï¼Œä»¥å…ˆåºéå†ä¸ºä¾‹ï¼Œå…¶éå†æ–¹æ³•å¦‚ä¸‹ï¼š

```java
public void preOrderTraversal(TreeNode root) {
	if (root == null) return;
	visit(root);                    // è®¿é—®èŠ‚ç‚¹
	preOrderTraversal(root.left);   // è®¿é—®å·¦å­æ ‘
	preOrderTraversal(root.right);  // è®¿é—®å³å­æ ‘
}
```

ä¸­åºéå†ã€ååºéå†ä¸å…ˆåºéå†ç±»ä¼¼ï¼Œä»…ä»…éœ€è¦è°ƒæ•´è®¿é—®é¡ºåºå³å¯ã€‚å¯ä»¥çœ‹å‡ºï¼Œé€’å½’æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º`O(n)`ï¼Œç©ºé—´å¤æ‚åº¦ä¸é€’å½’æ·±åº¦æœ‰å…³ï¼Œæœ€ä¼˜æƒ…å†µä¸ä¸€èˆ¬æƒ…å†µä¸‹ä¸º`O(logn)`ï¼Œæœ€å·®æƒ…å†µä¸‹ç”šè‡³éœ€è¦`O(n)`çš„ç©ºé—´ã€‚

å±‚æ¬¡éå†åˆ©ç”¨é€’å½’åˆ™ç¨æ˜¾å¤æ‚ï¼Œåœ¨æ­¤ä¸èµ˜è¿°ã€‚

### éé€’å½’éå†æ–¹æ³•

ä¸ºä½¿ç”¨éé€’å½’éå†æ–¹æ³•éå†æ•´ä¸ªäºŒå‰æ ‘ï¼Œå¾€å¾€éœ€è¦å€ŸåŠ©æ ˆ/é˜Ÿåˆ—ç­‰æ•°æ®ç»“æ„è¾…åŠ©å®ç°ã€‚

#### å…ˆåºéå†

![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_preorder.png)

å…ˆåºéå†çš„æ¦‚å¿µéå¸¸æ¸…æ™°ï¼Œåˆ©ç”¨æ ˆçš„è¾…åŠ©ï¼Œåœ¨è®¿é—®å®Œè¯¥èŠ‚ç‚¹ä¹‹åå°†å­æ ‘å…¥æ ˆå³å¯ï¼š

```java
public void preOrderTraversal(TreeNode root) {
	if (root == null) return;
	Stack<TreeNode> stack = new Stack<TreeNode>(); // åˆ©ç”¨æ ˆè¿›è¡Œä¸´æ—¶å­˜å‚¨
	stack.push(root);

	while (!stack.isEmpty()) {
		TreeNode node = stack.pop(); // å–å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¡¨ç¤ºå¼€å§‹è®¿é—®ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘
		visit(node); // é¦–å…ˆè®¿é—®è¯¥èŠ‚ç‚¹ï¼ˆå…ˆåºï¼‰ï¼Œä¹‹åé¡ºåºå…¥æ ˆå³å­æ ‘ã€å·¦å­æ ‘
		if (node.right != null) stack.push(node.right);
		if (node.left != null) stack.push(node.left);
	}
}
```

æˆ–è€…ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•ï¼Œåœ¨èŠ‚ç‚¹åˆ°è¾¾nullå±‚æ—¶è¿›è¡Œåˆ¤æ–­ï¼š

```java
public void preOrderTraversal2(TreeNode root) {
	if (root == null) return;
	Stack<TreeNode> stack = new Stack<TreeNode>(); // åˆ©ç”¨æ ˆè¿›è¡Œä¸´æ—¶å­˜å‚¨
	TreeNode node = root;
	
	while (!stack.isEmpty() || node != null) { // stackä¸ºç©ºä¸”nodeä¸ºnullæ—¶ï¼Œè¯´æ˜å·²ç»éå†ç»“æŸ
		if (node != null) { // å¯ä»¥æ·±å…¥å·¦å­©å­æ—¶ï¼Œå…ˆè®¿é—®ï¼Œå†æ·±å…¥
			visit(node);
			stack.push(node);
			node = node.left;
		} else { // å¦åˆ™æ·±å…¥æ ˆä¸­èŠ‚ç‚¹çš„å³å­©å­
			node = stack.pop().right;
		}
	}
}
```

ä»¥ä¹‹å‰çš„æ ‘ä¸ºä¾‹ï¼Œå…¶å…ˆåºéå†ç»“æœåº”ä¸ºï¼š`2 -> 0 -> 1 -> 4 -> 3 -> 5 -> 6`

#### ä¸­åºéå†

![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_inorder.png)

ä¸­åºéå†çš„æ€æƒ³æ˜¯ï¼š

1. è‹¥èŠ‚ç‚¹è¿˜æœ‰å·¦å­æ ‘ï¼Œå°±è¦å…ˆæŠŠå·¦å­æ ‘è®¿é—®å®Œ
2. æ²¡æœ‰å·¦å­æ ‘å¯è®¿é—®æ—¶ï¼Œè®¿é—®è¯¥èŠ‚ç‚¹ï¼Œå¹¶å°è¯•è®¿é—®å³å­æ ‘

æŒ‰ç…§è¿™ç§æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä¸€ç§ç›´æ¥çš„æ–¹æ³•ï¼š

```java
public void inOrderTraversal(TreeNode root) {
	if (root == null) return;
	Stack<TreeNode> stack = new Stack<TreeNode>(); // åˆ©ç”¨æ ˆè¿›è¡Œä¸´æ—¶å­˜å‚¨
	TreeNode node = root;
	
	while (node != null) { // å½“nodeä¸ºnullæ—¶ï¼Œè¯´æ˜å·²ç»éå†ç»“æŸ
		if (node.left != null) { // å­˜åœ¨å·¦å­æ ‘æ—¶ï¼Œå…¥æ ˆå¹¶æ·±å…¥å·¦å­æ ‘
			stack.push(node);
			node = node.left;
		} else { // å¦åˆ™å°±å¯»æ‰¾å¯ä»¥æ·±å…¥å³å­æ ‘çš„èŠ‚ç‚¹
			while (!stack.isEmpty() && node.right == null) {
				// å¯¹äºä¸èƒ½æ·±å…¥å³å­æ ‘çš„èŠ‚ç‚¹ï¼šç›´æ¥è®¿é—®ï¼Œæ­¤æ—¶å­æ ‘è®¿é—®ç»“æŸ
				visit(node);
				node = stack.pop();
			}
			visit(node); // å¦‚æœå¯ä»¥æ·±å…¥å³å­æ ‘ï¼Œè®¿é—®è¯¥èŠ‚ç‚¹åï¼Œæ·±å…¥å³å­æ ‘
			node = node.right;
		}
	}
}
```

æˆ–è€…æ ¹æ®å…ˆåºéå†æ–¹æ³•2è¿›è¡Œä¿®æ”¹ï¼Œåœ¨èŠ‚ç‚¹å‡ºæ ˆæ—¶è®¿é—®èŠ‚ç‚¹ï¼š

```java
public void inOrderTraversal2(TreeNode root) {
	if (root == null) return;
	Stack<TreeNode> stack = new Stack<TreeNode>(); // åˆ©ç”¨æ ˆè¿›è¡Œä¸´æ—¶å­˜å‚¨
	TreeNode node = root;
	
	while (!stack.isEmpty() || node != null) { // stackä¸ºç©ºä¸”nodeä¸ºnullæ—¶ï¼Œè¯´æ˜å·²ç»éå†ç»“æŸ
		if (node != null) { // å¯ä»¥æ·±å…¥å·¦å­©å­
			stack.push(node);
			node = node.left;
		} else { // å¦åˆ™è®¿é—®æ ˆä¸­èŠ‚ç‚¹ï¼Œå¹¶æ·±å…¥å³å­©å­
			node = stack.pop();
			visit(node);
			node = node.right;
		}
	}
}
```

ä»¥ä¹‹å‰çš„æ ‘ä¸ºä¾‹ï¼Œå…¶ä¸­åºéå†ç»“æœåº”ä¸ºï¼š`0 -> 1 -> 2 -> 3 -> 4 -> 5 -> 6`

#### ååºéå†

![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_postorder.png)

ååºéå†ä»æƒ³æ³•ä¸Šæ˜¯æœ€éš¾å®ç°çš„ï¼Œå…¶ä¸»è¦æ€æƒ³æ˜¯ï¼š

1. å°è¯•æŒ‰é¡ºåºè®¿é—®è¯¥èŠ‚ç‚¹çš„å·¦å³å­æ ‘
2. å½“å·¦å³å­æ ‘éƒ½è®¿é—®å®Œæ¯•æ—¶ï¼Œæ‰å¯ä»¥è®¿é—®è¯¥èŠ‚ç‚¹

å› æ­¤å¯ä»¥è€ƒè™‘é‡‡ç”¨æ ˆçš„æ–¹å¼ï¼Œä¾æ¬¡å°†æ ¹èŠ‚ç‚¹ã€å³å­©å­ã€å·¦å­©å­å…¥æ ˆï¼Œä»¥ä¿è¯è®¿é—®æ¬¡åºã€‚ç”±äºåç»­éå†çš„å›æº¯è¿‡ç¨‹åªå¯èƒ½ä¸Šå‡ä¸€å±‚ï¼Œå› æ­¤å¯ä»¥æ·»åŠ ä¸´æ—¶å˜é‡lastNodeè®°å½•åˆšåˆšè®¿é—®çš„èŠ‚ç‚¹ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯ä¸Šæ¬¡è®¿é—®èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œåˆ™è¯´æ˜å­æ ‘è®¿é—®å®Œæˆï¼Œå¯ä»¥è®¿é—®å½“å‰èŠ‚ç‚¹äº†ã€‚

```java
public void postOrderTraversal(TreeNode root) {
	if (root == null) return;
	Stack<TreeNode> stack = new Stack<TreeNode>(); // åˆ©ç”¨æ ˆè¿›è¡Œä¸´æ—¶å­˜å‚¨
	stack.push(root);
	TreeNode lastNode = root; // ä¸ºäº†åˆ¤æ–­çˆ¶å­èŠ‚ç‚¹å…³ç³»
	
	while (!stack.isEmpty()) {
		TreeNode node = stack.pop(); // å–å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¡¨ç¤ºå¼€å§‹è®¿é—®ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘
		if ((node.left == null && node.right == null) || // å¦‚æœè¯¥èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹
			(node.left == lastNode || node.right == lastNode)) { // æˆ–è€…å·²ç»è®¿é—®è¿‡è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹
			visit(node); // ç›´æ¥è®¿é—®
			lastNode = node;
		} else { // å¦åˆ™å°±æŒ‰é¡ºåºæŠŠå½“å‰èŠ‚ç‚¹ã€å³å­©å­ã€å·¦å­©å­å…¥æ ˆ
			stack.push(node); 
			if (node.right != null) stack.push(node.right);
			if (node.left != null) stack.push(node.left);
		}
	}
}
```

å½“ç„¶ï¼Œå¯¹ä¸Šè¿°æ–¹æ³•çš„ä¸€ä¸ªä¿®æ”¹æ˜¯æ·»åŠ â€œå“¨å…µâ€èŠ‚ç‚¹ï¼Œç”¨äºåˆ¤æ–­å›æº¯ä½ç½®ã€‚ä¸è¿‡æ˜¾ç„¶è¿™ç§æ–¹å¼è¿˜éœ€è¦å¯¹ä¸€äº›æ–¹æ³•è¿›è¡Œæ·»åŠ ï¼Œå¹¶ä¸æ˜¯ç‰¹åˆ«â€œä¼˜é›…â€ï¼š

```java
public void postOrderTraversal2(TreeNode root) {
	if (root == null) return;
	Stack<TreeNode> stack = new Stack<TreeNode>(); // åˆ©ç”¨æ ˆè¿›è¡Œä¸´æ—¶å­˜å‚¨
	stack.push(root);
	
	while (!stack.isEmpty()) {
		TreeNode node = stack.pop(); // å–å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¡¨ç¤ºå¼€å§‹è®¿é—®ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹çš„å­æ ‘
		if (!node.isValid()) { // åˆ¤æ–­æ˜¯â€œå“¨å…µâ€èŠ‚ç‚¹ï¼Œè¯´æ˜ä¹‹åçš„èŠ‚ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹ï¼Œå¯ä»¥ç›´æ¥è®¿é—®
			node = stack.pop();
			visit(node);
		} else if ((node.left == null && node.right == null)) { // å¦‚æœè¯¥èŠ‚ç‚¹ä¸ºå¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå¯ç›´æ¥è®¿é—®
			visit(node);
		} else { // å¦åˆ™å°±æŒ‰é¡ºåºæŠŠå½“å‰èŠ‚ç‚¹ã€â€œå“¨å…µâ€èŠ‚ç‚¹ã€å³å­©å­ã€å·¦å­©å­å…¥æ ˆ
			stack.push(node); 
			stack.push(new TreeNode(new Value(Value.INVALID_VALUE)));
			if (node.right != null) stack.push(node.right);
			if (node.left != null) stack.push(node.left);
		}
	}
}
```

ä»¥ä¹‹å‰çš„æ ‘ä¸ºä¾‹ï¼Œå…¶ååºéå†ç»“æœåº”ä¸ºï¼š`1 -> 0 -> 3 -> 6 -> 5 -> 4 -> 2`

#### å±‚æ¬¡éå†

![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_levelorder.png)

ç›¸è¾ƒäºå‰é¢å‡ ç§éå†æ–¹å¼ï¼Œå±‚æ¬¡éå†æ˜¯æœ€ç›´è§‚çš„éå†æ–¹å¼ï¼Œå¯ä»¥åˆ©ç”¨é˜Ÿåˆ—æ¥è¾…åŠ©å®ç°ï¼š

```java
public void levelTraversal(TreeNode root) {
	if (root == null) return;
	Queue<TreeNode> queue = new LinkedList<TreeNode>(); // åˆ©ç”¨é˜Ÿåˆ—è¿›è¡Œä¸´æ—¶å­˜å‚¨
	queue.offer(root);
	
	while(!queue.isEmpty()) { // å–å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶å°†å…¶å·¦å³èŠ‚ç‚¹å…¥åˆ—
		TreeNode node = queue.poll();
		visit(node);
		if (node.left != null) queue.offer(node.left);
		if (node.right != null) queue.offer(node.right);
	}
}
```

å¯ä»¥çœ‹åˆ°ï¼Œå±‚æ¬¡éå†å’Œå…ˆåºéå†ç›¸æ¯”ï¼Œåªæ˜¯å°†æ ˆæ¢æˆäº†é˜Ÿåˆ—ï¼Œå…¶ä½™å¤„ç†æ–¹å¼å®Œå…¨ç›¸åŒã€‚ä»¥ä¹‹å‰çš„æ ‘ä¸ºä¾‹ï¼Œå…¶å±‚æ¬¡éå†ç»“æœåº”ä¸ºï¼š`2 -> 0 -> 4 -> 1 -> 3 -> 5 -> 6`

#### å¤æ‚åº¦åˆ†æ

å¾ˆæ˜¾ç„¶ï¼Œæ— è®ºå“ªç§éå†æ–¹å¼ï¼Œä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šåªå¯èƒ½è¢«è®¿é—®ä¸¤æ¬¡ï¼Œå› æ­¤å…¶æ—¶é—´å¤æ‚åº¦å‡ä¸º`O(n)`ã€‚è€Œç”±äºå€ŸåŠ©äº†æ ˆå’Œé˜Ÿåˆ—è¿™æ ·çš„è¾…åŠ©æ•°æ®ç»“æ„ï¼Œå…¶ç©ºé—´å¤æ‚åº¦ä¸æ ‘é«˜æœ‰ç›´æ¥å…³ç³»ï¼Œå› æ­¤å…¶ç©ºé—´å¤æ‚åº¦ä¸ºæœ€å¥½å’Œå¹³å‡`O(logn)`ï¼Œæœ€å·®`O(n)`ï¼Œä¸é€’å½’æ–¹å¼çš„å®ç°ç›¸åŒã€‚

## Morriséå†

- æ‘˜è‡ªï¼š[é£ä¹‹ç­](https://ghh3809.github.io/2018/08/06/morris-traversal/)

### ä¸»è¦æ€æƒ³

Morriséå†æ–¹æ³•æ‰“ç ´äº†ä¸€èˆ¬éå†æ€æƒ³ä¸Šçš„â€œç¦é”¢â€ï¼Œé€šè¿‡ä¸´æ—¶å¯¹å­èŠ‚ç‚¹å¼•ç”¨çš„ä¿®æ”¹æ¥å®ç°â€œåç»§â€èŠ‚ç‚¹çš„ä¿å­˜ï¼Œä¹‹åå†æ¬¡éå†åˆ°æ—¶å¯ä»¥æ¢å¤æ ‘çš„ç»“æ„ï¼Œä»¥æ­¤ä»…ä»…é€šè¿‡`O(1)`çš„ç©ºé—´å®ç°æ ‘çš„éå†ã€‚æ²¡é”™ï¼Œè¿™åˆæ˜¯KMPç®—æ³•é‡Œé¢çš„Morriså‘æ˜çš„ï¼ˆä¸ºä»€ä¹ˆåˆ«äººå¯ä»¥è¿™ä¹ˆèªæ˜â€¦â€¦ï¼‰

å…ˆä»¥ä¸­åºéå†ä¸ºä¾‹ï¼Œä»‹ç»Morrisç®—æ³•çš„æ ¸å¿ƒæ€æƒ³ã€‚

å›é¡¾ä¸€ä¸‹ä¸­åºéå†çš„å†…å®¹ï¼š
1. è‹¥èŠ‚ç‚¹è¿˜æœ‰å·¦å­æ ‘ï¼Œå°±è¦å…ˆæŠŠå·¦å­æ ‘è®¿é—®å®Œ
2. æ²¡æœ‰å·¦å­æ ‘å¯è®¿é—®æ—¶ï¼Œè®¿é—®è¯¥èŠ‚ç‚¹ï¼Œå¹¶å°è¯•è®¿é—®å³å­æ ‘

ä¹‹å‰æåˆ°è¿‡ï¼Œå¦‚æœè¿™æ£µæ ‘æ˜¯ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œé‚£ä¹ˆä¸­åºéå†çš„ç»“æœåº”å½“æ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚ä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸­åºéå†çš„ç»“æœï¼Œå°†æ•´ä¸ªæ ‘ç»„æˆä¸€ä¸ªé“¾è¡¨ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰â€œå‰é©±â€èŠ‚ç‚¹å’Œâ€œåç»§â€èŠ‚ç‚¹ã€‚ä¾‹å¦‚åœ¨ä¹‹å‰ç¤ºä¾‹çš„äºŒå‰æ ‘ä¸Šï¼Œ0æ˜¯1çš„å‰é©±èŠ‚ç‚¹ï¼Œè€Œ2æ˜¯1çš„åç»§èŠ‚ç‚¹ã€‚
- ![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_succ.png)

æ˜¾ç„¶ï¼Œä¸­åºéå†å¯ä»¥è½¬åŒ–ä¸ºå¯¹åç»§èŠ‚ç‚¹çš„è®¡ç®—è¿‡ç¨‹ã€‚åç»§èŠ‚ç‚¹çš„è®¡ç®—æ–¹æ³•ä¸ºï¼š
1. å¯¹äºå­˜åœ¨å³å­æ ‘çš„èŠ‚ç‚¹Aï¼Œå…¶åç»§èŠ‚ç‚¹æ˜¯å…¶å³å­æ ‘ä¸­æœ€å·¦ä¾§çš„èŠ‚ç‚¹ï¼›
2. å¯¹äºæ²¡æœ‰å³å­æ ‘çš„èŠ‚ç‚¹Bï¼Œå…¶åç»§èŠ‚ç‚¹æ˜¯å…¶è‡ªä¸‹è€Œä¸Šçš„çˆ¶èŠ‚ç‚¹ä¸­ç¬¬ä¸€ä¸ªå°†å…¶ä½œä¸ºå·¦å­æ ‘çš„èŠ‚ç‚¹ã€‚

èŠ‚ç‚¹Açš„åç»§è®¡ç®—éå¸¸ç®€å•ã€‚ç„¶è€Œç”±äºäºŒå‰æ ‘çš„ä¿¡æ¯ä¸­ä¸åŒ…æ‹¬çˆ¶èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œå› æ­¤ç¬¬2æ¡æ“ä½œèµ·æ¥éå¸¸å›°éš¾ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä½•ä¹‹å‰é‡‡ç”¨äº†æ ˆ/é˜Ÿåˆ—çš„æ–¹å¼å­˜å‚¨çˆ¶èŠ‚ç‚¹çš„ä¿¡æ¯ã€‚

ä½†æ˜¯æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè™½ç„¶å¯¹äºè¿™æ ·çš„èŠ‚ç‚¹Bï¼Œæ±‚å–å…¶åç»§èŠ‚ç‚¹éå¸¸å›°éš¾ï¼›ä½†æ˜¯å…¶åç»§èŠ‚ç‚¹æ¥è¯´ï¼Œç”±äºèŠ‚ç‚¹Bæ˜¯å…¶å­æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤æ±‚å‰é©±èŠ‚ç‚¹å°±å¾ˆå®¹æ˜“äº†ï¼ä¸ºäº†ä½¿å¾—è®¿é—®åˆ°èŠ‚ç‚¹Bæ—¶èƒ½å¤Ÿç›´æ¥å¾—åˆ°åç»§ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æš‚æ—¶**ä½¿ç”¨BèŠ‚ç‚¹å³å­æ ‘çš„é“¾æ¥ï¼Œå­˜å‚¨åç»§èŠ‚ç‚¹**ï¼Œä»¥å®ç°å¯¹åç»§èŠ‚ç‚¹çš„ç›´æ¥è·å–ï¼ŒåŒæ—¶ä¸å ç”¨é¢å¤–çš„ç©ºé—´ã€‚è¿™å°±æ˜¯Morriséå†ç®—æ³•çš„ä¸»è¦æ€æƒ³ã€‚

### Morrisä¸­åºéå†ç®—æ³•

æ ¹æ®ä¸Šè¿°åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºç¨‹åºçš„ä¸»è¦è®¡ç®—è¿‡ç¨‹ï¼š
1. ä»æ ¹èŠ‚ç‚¹å¼€å§‹è®¿é—®ã€‚
2. å¦‚æœå½“å‰èŠ‚ç‚¹Cä¸å­˜åœ¨å·¦å­æ ‘ï¼ŒæŒ‰ä¸­åºéå†çš„è§„åˆ™ï¼Œåº”å½“è®¿é—®èŠ‚ç‚¹Cï¼Œå¹¶è¿›å…¥å…¶å³å­æ ‘è¿›è¡Œéå†ã€‚
3. å¦‚æœå½“å‰èŠ‚ç‚¹Cå­˜åœ¨å·¦å­æ ‘ï¼Œå°±æ‰¾åˆ°Cçš„å‰é©±èŠ‚ç‚¹Bï¼Œå¹¶å°†Bçš„å³å­©å­æŒ‡å‘Cï¼ˆå­˜å‚¨åç»§ï¼‰ï¼ŒåŒæ—¶å½“å‰èŠ‚ç‚¹è½¬å…¥å·¦å­æ ‘è¿›è¡Œéå†ã€‚
4. æ­¥éª¤2ä¸­è®¿é—®å³å­æ ‘æ—¶ï¼Œå¦‚æœèŠ‚ç‚¹æœ¬èº«æ²¡æœ‰å³å­æ ‘ï¼Œåˆ™ä¼šç›´æ¥è½¬å…¥å…¶åç»§èŠ‚ç‚¹Cã€‚æ ¹æ®ä¸­åºéå†çš„è§„åˆ™ï¼Œè¯´æ˜æ­¤æ—¶Cçš„å·¦å­æ ‘éå†å®Œæˆã€‚ä¸ºäº†è¿˜åŸæ ‘ç»“æ„ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°æ‰¾åˆ°Cçš„å‰é©±èŠ‚ç‚¹ï¼Œå¹¶å°†å…¶å³å­©å­è®¾ç½®ä¸ºnullã€‚ä¹‹åæˆ‘ä»¬è®¿é—®èŠ‚ç‚¹Cï¼Œå¹¶è¿›å…¥å…¶å³å­æ ‘è¿›è¡Œéå†ã€‚

ä»¥ä¹‹å‰çš„ç¤ºä¾‹æ ‘ä¸ºä¾‹ï¼Œå›¾è§£ä¸€ä¸‹morriséå†çš„éƒ¨åˆ†è¿‡ç¨‹ï¼š
- ![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_morris1.png)
- ![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_morris2.png)
- ![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_morris3.png)
- ![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_morris4.png)
- ![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_morris5.png)

å› æ­¤ï¼Œæˆ‘ä»¬å†™å‡ºMorrisä¸­åºéå†ç®—æ³•çš„ç¨‹åºå¦‚ä¸‹ï¼š

```java
public void morrisInOrderTraversal(TreeNode root) {
	TreeNode node = root, prev = null; // ä»…å­˜æ”¾ä¸¤ä¸ªä¸´æ—¶å˜é‡ï¼ŒO(1)ç©ºé—´å¤æ‚åº¦
	while (node != null) { // å½“å‰èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œè¯´æ˜è®¿é—®å®Œæˆ
		if (node.left == null) { // å·¦å­æ ‘ä¸å­˜åœ¨æ—¶ï¼Œè®¿é—®+è¿›å…¥å³èŠ‚ç‚¹
			visit(node);
			node = node.right;
		} else { // å·¦å­æ ‘å­˜åœ¨ï¼Œå¯»æ‰¾å‰é©±èŠ‚ç‚¹ã€‚æ³¨æ„å¯»æ‰¾å‰é©±èŠ‚ç‚¹æ—¶ï¼Œä¼šä¸æ–­æ·±å…¥å³å­æ ‘ã€‚ä¸åŠ åˆ¤æ–­æ—¶ï¼Œè‹¥å‰é©±èŠ‚ç‚¹çš„å³å­æ ‘å·²æŒ‡å‘è‡ªå·±ï¼Œä¼šå¼•èµ·æ­»å¾ªç¯
			prev = node.left;
			while (prev.right != null && prev.right != node) prev = prev.right;
			if (prev.right == null) { // å‰é©±èŠ‚ç‚¹æœªè®¿é—®è¿‡ï¼Œå­˜æ”¾åç»§èŠ‚ç‚¹
				prev.right = node;
				node = node.left;
			} else { // å‰é©±èŠ‚ç‚¹å·²è®¿é—®è¿‡ï¼Œæ¢å¤æ ‘ç»“æ„
				visit(node); // ç¡®å®šè®¿é—®è¿‡å·¦å­æ ‘åï¼Œè®¿é—®å½“å‰èŠ‚ç‚¹
				prev.right = null;
				node = node.right;
			}
		}
	}
}
```

å…¶ä¸­æœ€å…³é”®çš„ä¸€æ­¥æ˜¯åˆ¤æ–­å‰é©±èŠ‚ç‚¹æ˜¯å¦è®¿é—®è¿‡ã€‚æ³¨æ„åˆ°å¦‚æœå‰é©±èŠ‚ç‚¹è®¿é—®è¿‡ï¼Œåˆ™å…¶å³å­©å­å¿…ç„¶ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œå¦åˆ™å¿…ç„¶ä¸ºç©ºã€‚æ®æ­¤å¯ä»¥åˆ¤æ–­åº”å½“æ·±å…¥å·¦å­æ ‘è¿˜æ˜¯å³å­æ ‘ã€‚

### å¤æ‚åº¦åˆ†æ

`O(1)`çš„ç©ºé—´å¤æ‚åº¦æ˜¯æ¯‹åº¸ç½®ç–‘çš„ï¼Œä½†æ˜¯è¯¥ç®—æ³•æ˜¯å¦ä¸æ™®é€šçš„éå†ç®—æ³•å…·æœ‰ç›¸åŒçš„æ—¶é—´æ•ˆç‡ï¼Ÿæˆ‘ä»¬å¯¹æ—¶é—´å¤æ‚åº¦è¿›è¡Œç®€è¦çš„åˆ†æã€‚

æ•´ä¸ªè®¡ç®—è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸»è¦çš„å¤æ‚åº¦ä¸ºè®¡ç®—å‰é©±çš„å¾ªç¯ï¼Œè¿™é‡Œçš„å¤æ‚åº¦ä¸æ ‘é«˜æœ‰ç›´æ¥å…³ç³»ï¼Œä¸€èˆ¬ä¸º`O(logn)`ã€‚ä½†è¿™æ˜¯å¦è¯´æ˜Morriséå†çš„å¤æ‚åº¦ä¸º`O(nlogn)`å‘¢ï¼Ÿä»”ç»†åˆ†æåå‘ç°ï¼Œå¯¹äºæ¯ä¸€ä¸ªæœ‰å·¦å­æ ‘çš„èŠ‚ç‚¹ï¼Œå…¶å¯»æ‰¾å‰é©±çš„è¿‡ç¨‹åªä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯å»ºç«‹å‰é©±-åç»§å…³ç³»çš„æ—¶å€™ï¼Œä¸€æ¬¡æ˜¯æ¢å¤æ ‘ç»“æ„çš„æ—¶å€™ã€‚å› æ­¤äº‹å®ä¸Šï¼ŒäºŒå‰æ ‘çš„æ¯æ¡è·¯æœ€å¤šåªå¯èƒ½è¢«å¾ªç¯è®¿é—®ä¸¤æ¬¡ï¼Œå…¶æ—¶é—´å¤æ‚åº¦å¿…ç„¶ä¸º`O(n)`ã€‚
- ![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_complex.png)

å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€å±‚è®¡ç®—å¾ªç¯æ€»è®¡ç®—æ¬¡æ•°ã€‚ä¾‹å¦‚å¯¹äºä¸€æ£µæ»¡äºŒå‰æ ‘ï¼Œå…¶å€’æ•°ç¬¬äºŒå±‚çš„èŠ‚ç‚¹æ ‘ä¸ºn/4ï¼Œå¯»æ‰¾å‰é©±çš„é•¿åº¦ä¸º2ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ï¼š

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>

$$C = \sum_{i=1}^{\log_2(n/2)} \frac{n}{2^{i+1}} \times i = \frac{n}{4} \times 1 + \frac{n}{8} \times 2 + \frac{n}{16} \times 3 + \cdots + 1 \times \log_2(\frac{n}{2}) = n - 1 - \log_2(n) \sim O(n)$$

### Morriså…ˆåºéå†ä¸ååºéå†ç®—æ³•

ä»‹ç»å®Œäº†Morrisä¸­åºéå†ï¼Œå…¶å…ˆåºéå†å’Œååºéå†éƒ½æ˜¯åœ¨ä¸­åºéå†çš„åŸºç¡€ä¹‹ä¸ŠåŠ ä»¥æ”¹åŠ¨å¾—åˆ°çš„ã€‚ä¾‹å¦‚å…ˆåºéå†æ—¶ï¼Œéœ€è¦å…ˆè®¿é—®èŠ‚ç‚¹ï¼Œå†å†³å®šæ·±å…¥å·¦å­æ ‘æˆ–å³å­æ ‘ï¼š

```java
public void morrisPreOrderTraversal(TreeNode root) {
	TreeNode node = root, prev = null; // ä»…å­˜æ”¾ä¸¤ä¸ªä¸´æ—¶å˜é‡ï¼ŒO(1)ç©ºé—´å¤æ‚åº¦
	while (node != null) { // å½“å‰èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œè¯´æ˜è®¿é—®å®Œæˆ
		if (node.left == null) { // å·¦å­æ ‘ä¸å­˜åœ¨æ—¶ï¼Œè®¿é—®+è¿›å…¥å³èŠ‚ç‚¹
			visit(node);
			node = node.right;
		} else { // å·¦å­æ ‘å­˜åœ¨ï¼Œå¯»æ‰¾å‰é©±èŠ‚ç‚¹ã€‚æ³¨æ„å¯»æ‰¾å‰é©±èŠ‚ç‚¹æ—¶ï¼Œä¼šä¸æ–­æ·±å…¥å³å­æ ‘ã€‚ä¸åŠ åˆ¤æ–­æ—¶ï¼Œè‹¥å‰é©±èŠ‚ç‚¹çš„å³å­æ ‘å·²æŒ‡å‘è‡ªå·±ï¼Œä¼šå¼•èµ·æ­»å¾ªç¯
			prev = node.left;
			while (prev.right != null && prev.right != node) prev = prev.right;
			if (prev.right == null) { // å‰é©±èŠ‚ç‚¹æœªè®¿é—®è¿‡ï¼Œå­˜æ”¾åç»§èŠ‚ç‚¹
				visit(node); // åœ¨ç¡®å®šå‰é©±èŠ‚ç‚¹æœªè®¿é—®è¿‡æ—¶ï¼Œè®¿é—®å½“å‰èŠ‚ç‚¹ï¼ˆæ³¨æ„ä¸ä¸­åºéå†çš„åŒºåˆ«ï¼‰
				prev.right = node;
				node = node.left;
			} else { // å‰é©±èŠ‚ç‚¹å·²è®¿é—®è¿‡ï¼Œæ¢å¤æ ‘ç»“æ„
				prev.right = null;
				node = node.right;
			}
		}
	}
}
```

ååºéå†ç›¸æ¯”ä¸­åºéå†ç¨å¾®å¤æ‚ä¸€äº›ï¼Œä½†æ˜¯ååºéå†ä¹Ÿæœ‰å…¶ç‰¹æ€§ï¼šè‹¥ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å³å­©å­ï¼Œæˆ–è¯¥èŠ‚ç‚¹æ˜¯å·¦å­©å­ä½†æ˜¯æ²¡æœ‰å…„å¼ŸèŠ‚ç‚¹ï¼Œåˆ™è®¿é—®å®Œè¯¥èŠ‚ç‚¹åç«‹åˆ»ä¼šè®¿é—®è¯¥èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ã€‚

![](https://raw.githubusercontent.com/ghh3809/ghh3809.github.io/master/_posts/_pic/20180806_morris_post.png)

æ¨å¹¿åˆ°Morriséå†é‡Œï¼Œå¯ä»¥å¾—åˆ°ï¼š
- å½“è®¿é—®åˆ°ä»»ä½•èŠ‚ç‚¹Cçš„å‰é©±èŠ‚ç‚¹Bæ—¶ï¼Œç”±Båˆ°Cçš„è·¯å¾„ï¼ˆä¸åŒ…æ‹¬èŠ‚ç‚¹Cï¼‰å³ä¸ºä¹‹åçš„è®¿é—®é¡ºåºã€‚

å› æ­¤æ‰€æœ‰çš„è®¿é—®è¿‡ç¨‹å¯ä»¥åŒ–ä¸ºç”±Båˆ°Cçš„è®¿é—®ã€‚å¾—åˆ°çš„Morrisååºéå†ç¨‹åºå¦‚ä¸‹ï¼Œæ³¨æ„ä¸ºäº†ä¿è¯ç¨‹åºèƒ½å¤Ÿé¡ºåˆ©è®¿é—®å³å­æ ‘ï¼Œä¸ºæ ¹èŠ‚ç‚¹æ·»åŠ äº†ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ï¼š

```java
public void morrisPostOrderTraversal(TreeNode root) {
	TreeNode temp = new TreeNode(new Value(Value.INVALID_VALUE)), node = temp, prev = null; // ä»…å­˜æ”¾ä¸€ä¸ªâ€œå“¨å…µâ€èŠ‚ç‚¹å’Œä¸¤ä¸ªä¸´æ—¶å˜é‡ï¼ŒO(1)ç©ºé—´å¤æ‚åº¦
	temp.left = root;
	while (node != null) { // å½“å‰èŠ‚ç‚¹ä¸ºç©ºæ—¶ï¼Œè¯´æ˜è®¿é—®å®Œæˆ
		if (node.left == null) { // å·¦å­æ ‘ä¸å­˜åœ¨æ—¶ï¼Œè¿›å…¥å³èŠ‚ç‚¹
			node = node.right;
		} else { // å·¦å­æ ‘å­˜åœ¨ï¼Œå¯»æ‰¾å‰é©±èŠ‚ç‚¹ã€‚æ³¨æ„å¯»æ‰¾å‰é©±èŠ‚ç‚¹æ—¶ï¼Œä¼šä¸æ–­æ·±å…¥å³å­æ ‘ã€‚ä¸åŠ åˆ¤æ–­æ—¶ï¼Œè‹¥å‰é©±èŠ‚ç‚¹çš„å³å­æ ‘å·²æŒ‡å‘è‡ªå·±ï¼Œä¼šå¼•èµ·æ­»å¾ªç¯
			prev = node.left;
			while (prev.right != null && prev.right != node) prev = prev.right;
			if (prev.right == null) { // å‰é©±èŠ‚ç‚¹æœªè®¿é—®è¿‡ï¼Œå­˜æ”¾åç»§èŠ‚ç‚¹
				prev.right = node;
				node = node.left;
			} else { // å‰é©±èŠ‚ç‚¹å·²è®¿é—®è¿‡ï¼Œæ¢å¤æ ‘ç»“æ„
				visitReverse(node.left, prev); // ç¡®å®šè®¿é—®è¿‡å·¦å­æ ‘åï¼Œé€†åºè®¿é—®æ²¿è·¯èŠ‚ç‚¹ï¼ˆæ³¨æ„ä¸ä¸­åºéå†çš„åŒºåˆ«ï¼‰
				prev.right = null;
				node = node.right;
			}
		}
	}
}
```

å¯¹äºé€†åºè®¿é—®å‡½æ•°`visitReverse()`ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨é“¾è¡¨ç¿»è½¬çš„æ–¹å¼å®ç°ï¼Œä¸€ä¸ªå‚è€ƒå®ç°å¦‚ä¸‹ï¼š

```java
public void visitReverse(TreeNode node1, TreeNode node2) {
	reverse(node1, node2); // é¦–å…ˆè¿›è¡Œç¿»è½¬
	TreeNode node = node2; // ä¹‹åè¿›è¡Œé¡ºåºè®¿é—®
	while (node != node1) {
		visit(node);
		node = node.right;
	}
	visit(node1);
	reverse(node2, node1); // æ¢å¤ç»“æ„
}

public void reverse(TreeNode node1, TreeNode node2) {
	// å®ç°é“¾è¡¨ç¿»è½¬
	TreeNode prev = node1;
	TreeNode current = prev.right;
	TreeNode next = current.right;
	while (prev != node2) {
		current.right = prev;
		prev = current;
		current = next;
		next = next.right;
	}
}
```

ä»¥æ­¤å®ç°ååºéå†ç»“æœã€‚ç”±äºç›¸æ¯”è¾ƒå…¶ä»–ä¸¤ç§éå†ï¼Œååºéå†å¤šäº†é€†åºè®¿é—®çš„è¿‡ç¨‹ï¼Œå…¶æ—¶é—´å¤æ‚åº¦ä¸é“¾è¡¨é•¿åº¦æˆæ­£æ¯”ã€‚å› æ­¤ååºéå†çš„æ—¶é—´å¤æ‚åº¦ä»ç„¶ä¸ºO(n)ã€‚

# ç¼–ç¨‹å®è·µ


## ä»£ç ç¤ºä¾‹


### C++ ç¤ºä¾‹

ã€2022-6-1ã€‘[LeetCode C++ä»£ç ](https://github.com/kamyu104/LeetCode-Solutions/tree/master/C%2B%2B)

ä¸¤æ•°å’Œçš„å®ç°ä»£ç ï¼š[add-two-numbers.cpp](https://github.com/kamyu104/LeetCode-Solutions/blob/master/C%2B%2B/add-two-numbers.cpp)
- (1) å®šä¹‰æ•°æ®ç»“æ„
- (2) å®šä¹‰solutionç±»ï¼Œå†™publicæ–¹æ³•

```c++
// Time:  O(n) æ—¶é—´å¤æ‚åº¦
// Space: O(1) ç©ºé—´å¤æ‚åº¦

// Definition for singly-linked list.
// å®šä¹‰æ•°æ®ç»“æ„â€”â€”å•é“¾è¡¨
struct ListNode {
    int val; // å…ƒç´ å–å€¼
    ListNode *next;	 // æŒ‡èŠ‚ç‚¹é’ˆ
	// æ„é€ å‡½æ•°ï¼ŒåŒç±»
    ListNode(int x) : val(x), next(NULL) {}
};
// å®šä¹‰æ±‚è§£ç±»
class Solution {
public:
    ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) {
        ListNode dummy{0}; // åˆå§‹åŒ–åªæœ‰ä¸€ä¸ªå…ƒç´ 0çš„å•é“¾è¡¨
        auto curr = &dummy;

        auto carry = 0;
        while (l1 || l2 || carry) {
            auto a = l1? l1->val : 0, b = l2? l2->val : 0;
            auto val = carry + a + b;
            curr->next = new ListNode(val % 10);
            carry = val / 10;
			// é“¾è¡¨å¾€ä¸‹éå†ä¸€ä½
            l1 = l1 ? l1->next : nullptr;
            l2 = l2 ? l2->next : nullptr;
            curr = curr->next;
        }

        return dummy.next;
    }
};
```

äºŒå‰æ ‘å¤åˆ¶
- [add-one-row-to-tree.cpp](https://github.com/kamyu104/LeetCode-Solutions/blob/master/C%2B%2B/add-one-row-to-tree.cpp)

```c++
// Time:  O(n)
// Space: O(h)

// Definition for a binary tree node.
// å®šä¹‰äºŒå‰æ ‘ç»“æ„
struct TreeNode {
    int val; // dataå–å€¼
    TreeNode *left; // å·¦å­©å­
    TreeNode *right; // å³å­©å­
	// æ„é€ å‡½æ•°
    TreeNode(int x) : val(x), left(NULL), right(NULL) {}
};

class Solution {
public:
    TreeNode* addOneRow(TreeNode* root, int v, int d) {
        if (d == 0 || d == 1) {
            auto node = new TreeNode(v);
            (d == 1 ? node->left : node->right) = root;
            return node;
        }
        if (root && d >= 2) {
            root->left  = addOneRow(root->left,  v, d > 2 ? d - 1 : 1);
            root->right = addOneRow(root->right, v, d > 2 ? d - 1 : 0);
        }
        return root;
    }
};
```


## å¸¸è§é—®é¢˜

### æœ€é•¿å…¬å…±å­ä¸²

ã€2022-5-17ã€‘[æœ€é•¿å…¬å…±å­åºåˆ—å’Œæœ€é•¿å…¬å…±å­ä¸²](https://zhuanlan.zhihu.com/p/68409952)

é—®é¢˜æè¿°ï¼š
- ç»™å®šä¸¤ä¸ªåºåˆ—ï¼šX[ 1...m ] å’Œ Y[ 1...n ]ï¼Œæ±‚åœ¨ä¸¤ä¸ªåºåˆ—ä¸­åŒæ—¶å‡ºç°çš„**æœ€é•¿å­åºåˆ—**çš„é•¿åº¦ã€‚
- å‡è®¾ X å’Œ Y çš„åºåˆ—å¦‚ä¸‹ï¼š
  - X[ 1...m] = {A, B, C, B, D, A, B}
  - Y[ 1...n] = {B, D, C, A, B, A}

**æœ€é•¿å…¬å…±å­ä¸²**ï¼ˆLongest Common Substringï¼‰ä¸**æœ€é•¿å…¬å…±å­åºåˆ—**ï¼ˆLongest Common Subsequenceï¼‰çš„åŒºåˆ«ï¼š 
- å­ä¸²è¦æ±‚åœ¨åŸå­—ç¬¦ä¸²ä¸­æ˜¯**è¿ç»­**çš„ï¼Œè€Œå­åºåˆ—åˆ™åªéœ€ä¿æŒ**ç›¸å¯¹é¡ºåº**ï¼Œå¹¶ä¸è¦æ±‚è¿ç»­ã€‚
- ä¾‹å¦‚ X = {a, Q, 1, 1}; Y = {a, 1, 1, d, f}ï¼Œé‚£ä¹ˆï¼Œ{a, 1, 1}æ˜¯Xå’ŒYçš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œä½†ä¸æ˜¯å®ƒä»¬çš„æœ€é•¿å…¬å…±å­—ä¸²ã€‚

#### æœ€é•¿å…¬å…±å­ä¸²

X å’Œ Y çš„æœ€é•¿å…¬å…±å­ä¸²æœ‰ï¼šBD, AB

æœ€å¤§å…¬å…±å­ä¸²è¦æ±‚çš„å­—ä¸²æ˜¯è¿ç»­çš„

æ±‚å­ä¸²çš„æ–¹æ³•å’Œæ±‚å­åºåˆ—æ–¹æ³•ç±»ä¼¼ï¼š
- å½“str1\[i] == str2\[j]æ—¶ï¼Œå­åºåˆ—é•¿åº¦veca\[i]\[j] = veca\[i - 1][j - 1] + 1ï¼›
- å½“str1\[i] != str2\[j]æ—¶ï¼Œveca\[i]\[j]é•¿åº¦è¦ä¸º0ï¼Œè€Œä¸æ˜¯ max{ veca\[i - 1]\[j], veca\[i][j - 1] }ã€‚

ä¸‹é¢æ˜¯æ±‚è§£æ—¶çš„åŠ¨æ€è§„åˆ’è¡¨ï¼Œå¯ä»¥çœ‹å‡º X å’Œ Y çš„æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦ä¸º2ï¼š
- ![](https://pic1.zhimg.com/80/v2-b59f7f61a57d7b648af3783ee6eaa7bc_720w.jpg)

```c++
// åŠ¨æ€è§„åˆ’æ±‚è§£LCSé—®é¢˜
#include <iostream>
#include <string>
#include <vector>
using namespace std;
 
int max(int a, int b) 
{
	return (a>b)? a:b;
}
 
/**
 * è¿”å›X[0...m-1]å’ŒY[0...n-1]çš„LCSçš„é•¿åº¦ 
 */
int lcs(string &X, string &Y, int m, int n)
{
	int biggest = 0;
	// åŠ¨æ€è§„åˆ’è¡¨ï¼Œå¤§å°(m+1)*(n+1)
	vector<vector<int>> table(m+1,vector<int>(n+1));  
 
	for(int i=0; i<m+1; ++i)
	{
		for(int j=0; j<n+1; ++j)
		{
			// ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ç½®0
			if (i == 0 || j == 0)
				table[i][j] = 0;
			else if(X[i-1] == Y[j-1])
			{
				table[i][j] = table[i-1][j-1] + 1;
				if(table[i][j] > biggest)  // å¢åŠ äº†ä¸€ä¸ªæœ€å¤§å€¼
                                        biggest = table[i][j];
			}
			else
				table[i][j] = 0;  // æ­¤å¤„å˜åŒ–
		}
	}
 
	return biggest;
}
 
int main()
{
	string X = "ABCBDAB";
	string Y = "BDCABA";
 
	cout << "The length of LCS is " << lcs(X, Y, X.length(), Y.length());
	cout << endl;
 
	getchar();
	return 0;
}
```

æ±‚è§£æ—¶çš„åŠ¨æ€è§„åˆ’è¡¨ï¼Œå¯ä»¥çœ‹å‡º X å’Œ Y çš„æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦ä¸º2ï¼š
- ![](https://pic3.zhimg.com/80/v2-541861d0d359988663b6d6100ffa719a_720w.jpg)

è¾“å‡ºæœ€é•¿å…¬å…±å­ä¸²å¾ˆç®€å•ï¼Œåªéœ€è¦åˆ¤æ–­table\[i]\[j]æ˜¯å¦ç­‰äº**æœ€é•¿å…¬å…±å­ä¸²çš„é•¿åº¦**å³å¯ï¼Œç„¶åæ²¿ç€**å¯¹è§’çº¿**å¾€å·¦ä¸Šè§’æ‰¾å¤§äºç­‰äº1çš„æ•°å­—å³å¯ï¼›
- å¦‚æœtable\[i]\[j] == lcs_lenï¼ˆlcs_lenæŒ‡æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦ï¼‰ï¼Œåˆ™æŠŠè¿™ä¸ªå­—ç¬¦æ”¾å…¥LCSä¸­ï¼Œå¹¶è·³å…¥table\[i-1]\[j-1]ä¸­ç»§ç»­è¿›è¡Œåˆ¤æ–­ï¼›
- ç›´åˆ°table\[i]\[j] < 1ä¸ºæ­¢ï¼›å€’åºè¾“å‡ºLCSæ”¾å…¥setä¸­ã€‚
ä»ä¸Šå›¾çš„çº¢è‰²è·¯å¾„æ˜¾ç¤ºï¼ŒX å’Œ Y çš„æœ€é•¿å…¬å…±å­ä¸²æœ‰ 3 ä¸ªï¼Œåˆ†åˆ«ä¸º â€œBDâ€ã€â€œABâ€ã€â€œABâ€ã€‚å› â€œABâ€ä¸â€œABâ€é‡å¤ï¼Œæ•…åªè¾“å‡ºâ€œBDâ€ã€â€œABâ€å³å¯ã€‚

```c++
// åŠ¨æ€è§„åˆ’æ±‚è§£å¹¶è¾“å‡ºæ‰€æœ‰LCS
#include <iostream>
#include <string>
#include <vector>
#include <set>
#include <algorithm>
using namespace std;

string x = "ABCBDAB";
string y = "BDCABA";
vector<vector<int>> table; // åŠ¨æ€è§„åˆ’è¡¨
set<string> setOflcs;      // setä¿å­˜æ‰€æœ‰çš„LCS

/**
 * æ„é€ è¡¨ï¼Œå¹¶è¿”å›Xå’ŒYçš„LCSçš„é•¿åº¦
 */
int lcs(int m, int n)
{
    int biggest = 0;
    // è¡¨çš„å¤§å°ä¸º(m+1)*(n+1)
    table = vector<vector<int>>(m+1, vector<int>(n+1));
    for(int i = 0; i < m+1; i++)
    {
        for(int j = 0; j < n+1; j++)
        {
            // ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ç½®0
            if(i == 0 || j == 0)
                table[i][j] = 0;
            else if(x[i-1] == y[j-1])
            {
		table[i][j] = table[i-1][j-1] + 1;
		if(table[i][j] > biggest)
                    biggest = table[i][j]; // å­˜æ”¾LCSçš„é•¿åº¦
	    }
	    else
		table[i][j] = 0;
        }
    }
    return biggest;
}

/**
 * æ±‚å‡ºæ‰€æœ‰çš„æœ€é•¿å…¬å…±å­ä¸²ï¼Œå¹¶æ”¾å…¥setä¸­
 */
void traceBack(int m, int n, int lcs_len)
{
    string strOflcs;
    for(int i = 1; i < m+1; i++)
    {
        for(int j = 1; j < n+1; j++)
        {
            // æŸ¥åˆ°ç­‰äºlcs_lençš„å€¼ï¼Œå–å­—ç¬¦
            if(table[i][j] == lcs_len)
            {
                int ii = i, jj = j;
                while(table[ii][jj] >= 1)
                {
                    strOflcs.push_back(x[ii-1]);
                    ii--;
                    jj--;
                }
                string str(strOflcs.rbegin(), strOflcs.rend()); // strOflcsé€†åº
                if((int)str.size() == lcs_len)                       // åˆ¤æ–­strçš„é•¿åº¦æ˜¯å¦ç­‰äºlcs_len
                {
                    setOflcs.insert(str);
                    strOflcs.clear();                           // æ¸…ç©ºstrOflcs
                }
            }
        }
    }
}

// è¾“å‡ºset
void print()
{
    set<string>::iterator iter = setOflcs.begin();
    for(; iter != setOflcs.end(); iter++)
        cout << *iter << endl;
}

int main()
{
    int m = x.length();
    int n = y.length();
    int res = lcs(m, n);
    cout << "res = " << res << endl;

    traceBack(m, n, res);
    print();

    getchar();
    return 0;
}
```

#### æœ€é•¿å…¬å…±å­åºåˆ— 

X å’Œ Y çš„æœ€é•¿å…¬å…±å­åºåˆ—æœ‰ â€œBDABâ€ã€â€œBCABâ€ã€â€œBCBAâ€ï¼Œå³é•¿åº¦ä¸º4ã€‚

ï¼ˆ1ï¼‰ç©·ä¸¾æ³•

ç”¨ç©·ä¸¾æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå³æ±‚å‡º X ä¸­æ‰€æœ‰å­åºåˆ—ï¼Œçœ‹ Y ä¸­æ˜¯å¦å­˜åœ¨è¯¥å­åºåˆ—ã€‚
- X æœ‰å¤šå°‘å­åºåˆ— â€”â€” 2m ä¸ª
- æ£€æŸ¥ä¸€ä¸ªå­åºåˆ—æ˜¯å¦åœ¨ Y ä¸­ â€”â€” Î¸(n)
ç©·ä¸¾æ³•åœ¨æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ Î¸(n * 2m)ï¼Œä¹Ÿå°±æ˜¯è¯´èŠ±è´¹çš„æ—¶é—´æ˜¯**æŒ‡æ•°çº§**çš„

ï¼ˆ2ï¼‰åŠ¨æ€è§„åˆ’

LCS é—®é¢˜æ˜¯å¦å…·æœ‰åŠ¨æ€è§„åˆ’é—®é¢˜çš„ä¸¤ä¸ªç‰¹æ€§ã€‚
- â‘  æœ€ä¼˜å­ç»“æ„
  - è®¾ C[ i,j] = | LCS(x[ 1...i], y[ 1...j]) |ï¼Œå³ C[ i,j] è¡¨ç¤ºåºåˆ— X[ 1...i] å’Œ Y[ 1...j] çš„æœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œåˆ™ C[ m,n] = |LCS(x,y)|å°±æ˜¯é—®é¢˜çš„è§£ã€‚
  - é€’å½’æ¨å¯¼å¼ï¼š
    - ![](https://pic2.zhimg.com/80/v2-0df332d4e230d9ab8f14744991ef3a01_720w.jpg)
  - ä»è¿™ä¸ªé€’å½’å…¬å¼å¯ä»¥çœ‹å‡ºï¼Œé—®é¢˜å…·æœ‰**æœ€ä¼˜å­ç»“æ„**æ€§è´¨ï¼
- â‘¡ é‡å å­é—®é¢˜
  - æ±‚LCSé•¿åº¦çš„é€’å½’ä¼ªä»£ç ï¼š

```c++
LCS(x,y,i,j)
if x[i] = y[j]
	then C[i,j] â† LCS(x,y,i-1,j-1)+1
else C[i,j] â† max{LCS(x,y,i-1,j),LCS(x,y,i,j-1)}
	return C[i,j]
```

ã€2022-5-17ã€‘å°å†°å‘½ä¸­ä¸€æ¬¡ï¼Œå†™æˆåŠæˆå“

```python
# x = "ace"
# y = "bcedf"
# dp: lcs -> f(n) = max{ f(n-1)+1, f(n-1) }
max_seq = []

def lcs(x, y, max_seq):
	""" æœ€é•¿å…¬å…±å­ä¸² """
	# (0 ) è¾¹ç•Œæ¡ä»¶
	if not ( len(x) and len(y)):
		return 0
	# (1) æœ€åä¸€ä½ç›¸åŒ
	if x[0] == y[0]:
		max_seq.append(x[0])
		return lcs(x[1:], y[1:], max_seq)
	else: # (2) æœ€åä¸€ä½ä¸åŒï¼Œå–å¤§
		tmp = [lcs(x[1:], y, max_seq), lcs(x, y[1:], max_seq), lcs(x[1:], y[1:], max_seq)]
		# å­—ç¬¦ä¸²ä¸è¿ç»­æ—¶æ¸…ç©º
		if tmp[0] == tmp[2]:
			max_seq = []
		return max(tmp)

print(''.join(max_seq))
# æ•ˆç‡ï¼šO(mn)
# ä¼˜åŒ–ï¼šå¤‡å¿˜å½•ã€DP Table
```


c++ç®€å•é€’å½’æ±‚è§£

```c++
// ç®€å•çš„é€’å½’æ±‚è§£LCSé—®é¢˜
#include <iostream>
#include <string>
using namespace std;
 
int max(int a, int b) 
{
	return (a>b)? a:b;
}
 
// Return the length of LCS for X[0...m-1] and Y[0...n-1]
int lcs(string &X, string &Y, int m, int n)
{
	if (m == 0 || n == 0)
		return 0;
	if (X[m-1] == Y[n-1])
		return lcs(X, Y, m-1, n-1) + 1;
	else
		return max(lcs(X, Y, m, n-1), lcs(X, Y, m-1, n));
}

int main()
{
	string X = "ABCBDAB";
	string Y = "BDCABA";
	// è¾“å‡ºæœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦
	cout << "The length of LCS is " << lcs(X, Y, X.length(), Y.length());
	cout << endl;
	getchar();
	return 0;
}
```

ç®€å•é€’å½’ï¼Œåœ¨**æœ€å**æƒ…å†µä¸‹ï¼ˆX å’Œ Y çš„æ‰€æœ‰å­—ç¬¦éƒ½ä¸åŒ¹é…ï¼Œå³LCSçš„é•¿åº¦ä¸º0ï¼‰çš„æ—¶é—´å¤æ‚åº¦ä¸º **Î¸(2n)**ã€‚è¿™å’Œ**ç©·ä¸¾æ³•**ä¸€æ ·è¿˜æ˜¯**æŒ‡æ•°çº§**çš„ï¼Œå¤ªæ…¢äº†ã€‚

æ ¹æ®ç¨‹åºä¸­ X å’Œ Y çš„åˆå§‹å€¼ï¼Œç”»å‡ºéƒ¨åˆ†é€’å½’æ ‘ï¼š
- ![](https://pic2.zhimg.com/80/v2-601c7c49b6e50bf006285865a1c6af89_720w.jpg)
é€’å½’æ ‘ä¸­**çº¢æ¡†**æ ‡è®°çš„éƒ¨åˆ†è¢«è°ƒç”¨äº†ä¸¤æ¬¡ã€‚ç”»å‡ºå®Œæ•´çš„é€’å½’æ ‘åï¼Œå¯ä»¥å‘ç°æœ‰å¾ˆå¤šé‡å¤è°ƒç”¨ï¼Œè¿™ä¸ªé—®é¢˜å…·æœ‰**é‡å å­é—®é¢˜**çš„ç‰¹æ€§ã€‚

é€’å½’ä¹‹æ‰€ä»¥å’Œç©·ä¸¾æ³•ä¸€æ ·æ…¢ï¼Œå› ä¸ºåœ¨é€’å½’è¿‡ç¨‹ä¸­è¿›è¡Œäº†å¤§é‡çš„é‡å¤è°ƒç”¨ã€‚è€Œ**åŠ¨æ€è§„åˆ’**å°±æ˜¯è§£è¿™ä¸ªé—®é¢˜çš„ï¼Œé€šè¿‡ç”¨ä¸€ä¸ª**è¡¨**æ¥ä¿å­˜å­é—®é¢˜çš„ç»“æœï¼Œé¿å…é‡å¤çš„è®¡ç®—ï¼Œä»¥**ç©ºé—´**æ¢**æ—¶é—´**ã€‚å‰é¢å·²ç»è¯æ˜ï¼Œæœ€é•¿å…¬å…±å­åºåˆ—é—®é¢˜å…·æœ‰åŠ¨æ€è§„åˆ’æ‰€è¦æ±‚çš„ä¸¤ä¸ªç‰¹æ€§ï¼Œæ‰€ä»¥ LCS é—®é¢˜å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’æ¥æ±‚è§£ã€‚
- ![](https://pic3.zhimg.com/80/v2-2a9422e517d8fc878a7583388204bdda_720w.jpg)

æ”¹è¿›ç‰ˆï¼šDP Tableå­˜å‚¨ï¼Œé˜²æ­¢é‡å¤è®¡ç®—æ•°å€¼

```c++
// åŠ¨æ€è§„åˆ’æ±‚è§£LCSé—®é¢˜ 
#include <iostream>
#include <string>
#include <vector>
using namespace std;
 
int max(int a, int b) 
{
	return (a>b)? a:b;
}
 
/**
 * è¿”å›X[0...m-1]å’ŒY[0...n-1]çš„LCSçš„é•¿åº¦ 
 */
int lcs(string &X, string &Y, int m, int n)
{
	// åŠ¨æ€è§„åˆ’è¡¨ï¼Œå¤§å°(m+1)*(n+1)
	vector<vector<int>> table(m+1,vector<int>(n+1));  
 
	for(int i=0; i<m+1; ++i)
	{
		for(int j=0; j<n+1; ++j)
		{
			// ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ç½®0
			if (i == 0 || j == 0)
				table[i][j] = 0;
			else if(X[i-1] == Y[j-1])
				table[i][j] = table[i-1][j-1] + 1;
			else
				table[i][j] = max(table[i-1][j], table[i][j-1]);
		}
	}
	return table[m][n];
}
 
int main()
{
	string X = "ABCBDAB";
	string Y = "BDCABA";
 
	cout << "The length of LCS is " << lcs(X, Y, X.length(), Y.length());
	cout << endl;
 
	getchar();
	return 0;
}
```

åŠ¨æ€è§„åˆ’è§£å†³LCSé—®é¢˜çš„æ—¶é—´å¤æ‚åº¦ä¸º**Î¸(mn)**ï¼Œè¿™æ¯”ç®€å•é€’å½’å®ç°è¦å¿«å¤šäº†ã€‚
- ç©ºé—´å¤æ‚åº¦æ˜¯Î¸(mn)ï¼Œå› ä¸ºä½¿ç”¨äº†ä¸€ä¸ª**åŠ¨æ€è§„åˆ’è¡¨**ã€‚
- å½“ç„¶ï¼Œç©ºé—´å¤æ‚åº¦è¿˜å¯ä»¥è¿›è¡Œä¼˜åŒ–ï¼Œå³æ ¹æ®é€’æ¨å¼å¯ä»¥åªä¿å­˜å¡«ä¸‹ä¸€ä¸ªä½ç½®æ‰€ç”¨åˆ°çš„å‡ ä¸ªä½ç½®å°±è¡Œäº†ã€‚

æ€»ç»“ï¼š
- åŠ¨æ€è§„åˆ’å°†åŸæ¥å…·æœ‰**æŒ‡æ•°çº§**æ—¶é—´å¤æ‚åº¦çš„æœç´¢ç®—æ³•æ”¹è¿›æˆäº†å…·æœ‰**å¤šé¡¹å¼**æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•ã€‚
- å…¶ä¸­çš„å…³é”®åœ¨äºè§£å†³**å†—ä½™**ï¼ˆé‡å¤è®¡ç®—ï¼‰ï¼Œè¿™æ˜¯åŠ¨æ€è§„åˆ’ç®—æ³•çš„æ ¹æœ¬ç›®çš„ã€‚
- åŠ¨æ€è§„åˆ’å®è´¨ä¸Šæ˜¯ä¸€ç§**ä»¥ç©ºé—´æ¢æ—¶é—´**çš„æŠ€æœ¯ï¼Œå®ƒåœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼Œä¸å¾—ä¸å­˜å‚¨äº§ç”Ÿè¿‡ç¨‹ä¸­çš„å„ç§çŠ¶æ€ï¼Œæ‰€ä»¥å®ƒçš„ç©ºé—´å¤æ‚åº¦è¦å¤§äºå…¶å®ƒçš„ç®—æ³•ã€‚

åŠ¨æ€è§„åˆ’è§£å†³æœ€ä¼˜åŒ–é—®é¢˜çš„ä¸€èˆ¬æ­¥éª¤ï¼š
1. åˆ†ææœ€ä¼˜è§£çš„æ€§è´¨ï¼Œå¹¶åˆ»åˆ’å…¶ç»“æ„ç‰¹å¾ã€‚
1. é€’å½’åœ°å®šä¹‰æœ€ä¼˜å€¼ã€‚
1. ä»¥è‡ªåº•å‘ä¸Šçš„æ–¹å¼æˆ–è‡ªé¡¶å‘ä¸‹çš„è®°å¿†åŒ–æ–¹æ³•è®¡ç®—å‡ºæœ€ä¼˜å€¼ã€‚
1. æ ¹æ®è®¡ç®—æœ€ä¼˜å€¼æ—¶å¾—åˆ°çš„ä¿¡æ¯ï¼Œæ„é€ ä¸€ä¸ªæœ€ä¼˜è§£ã€‚

æ­¥éª¤(1)â€”(3)æ˜¯åŠ¨æ€è§„åˆ’ç®—æ³•çš„åŸºæœ¬æ­¥éª¤ã€‚åœ¨åªéœ€è¦æ±‚å‡ºæœ€ä¼˜å€¼çš„æƒ…å½¢ï¼Œæ­¥éª¤(4)å¯ä»¥çœç•¥ï¼Œè‹¥éœ€è¦æ±‚å‡ºé—®é¢˜çš„ä¸€ä¸ªæœ€ä¼˜è§£ï¼Œåˆ™å¿…é¡»æ‰§è¡Œæ­¥éª¤(4)ã€‚æ­¤æ—¶ï¼Œåœ¨æ­¥éª¤(3)ä¸­è®¡ç®—æœ€ä¼˜å€¼æ—¶ï¼Œé€šå¸¸éœ€è®°å½•æ›´å¤šçš„ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨æ­¥éª¤(4)ä¸­ï¼Œæ ¹æ®æ‰€è®°å½•çš„ä¿¡æ¯ï¼Œå¿«é€Ÿåœ°æ„é€ å‡ºä¸€ä¸ªæœ€ä¼˜è§£ã€‚

è¾“å‡ºä¸€ä¸ªæœ€é•¿å…¬å…±å­åºåˆ—å¹¶ä¸éš¾ï¼ˆç½‘ä¸Šå¾ˆå¤šç›¸å…³ä»£ç ï¼‰ï¼Œéš¾ç‚¹åœ¨äºè¾“å‡º**æ‰€æœ‰**çš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œå› ä¸º LCS é€šå¸¸ä¸å”¯ä¸€ã€‚

æ€»ä¹‹ï¼Œéœ€è¦åœ¨åŠ¨æ€è§„åˆ’è¡¨ä¸Šè¿›è¡Œ**å›æº¯** â€”â€” ä»table\[m][n]ï¼Œå³å³ä¸‹è§’çš„æ ¼å­ï¼Œå¼€å§‹è¿›è¡Œåˆ¤æ–­ï¼š
- å¦‚æœæ ¼å­table\[i]\[j]å¯¹åº”çš„X\[i-1] == Y\[j-1]ï¼Œåˆ™æŠŠè¿™ä¸ªå­—ç¬¦æ”¾å…¥ LCS ä¸­ï¼Œå¹¶è·³å…¥table\[i-1]\[j-1]ä¸­ç»§ç»­è¿›è¡Œåˆ¤æ–­ï¼›
- å¦‚æœæ ¼å­table\[i]\[j]å¯¹åº”çš„ X\[i-1] â‰  Y\[j-1]ï¼Œåˆ™æ¯”è¾ƒtable\[i-1]\[j]å’Œtable\[i]\[j-1]çš„å€¼ï¼Œè·³å…¥å€¼è¾ƒå¤§çš„æ ¼å­ç»§ç»­è¿›è¡Œåˆ¤æ–­ï¼›
- ç›´åˆ° i æˆ– j å°äºç­‰äºé›¶ä¸ºæ­¢ï¼Œå€’åºè¾“å‡º LCS ã€‚
å¦‚æœå‡ºç°table\[i-1]\[j]ç­‰äºtable\[i]\[j-1]çš„æƒ…å†µï¼Œè¯´æ˜æœ€é•¿å…¬å…±å­åºåˆ—æœ‰å¤šä¸ªï¼Œæ•…ä¸¤è¾¹éƒ½è¦è¿›è¡Œå›æº¯ï¼ˆè¿™é‡Œç”¨åˆ°é€’å½’ï¼‰
- ![](https://pic1.zhimg.com/80/v2-b0f663ab82935625d3e28c18d9f3ff3c_720w.jpg)
- ä»ä¸Šå›¾çš„çº¢è‰²è·¯å¾„æ˜¾ç¤ºï¼ŒX å’Œ Y çš„æœ€é•¿å…¬å…±å­åºåˆ—æœ‰ 3 ä¸ªï¼Œåˆ†åˆ«ä¸º â€œBDABâ€ã€â€œBCABâ€ã€â€œBCBAâ€ã€‚

```c++
// åŠ¨æ€è§„åˆ’æ±‚è§£å¹¶è¾“å‡ºæ‰€æœ‰LCS
#include <iostream>
#include <string>
#include <vector>
#include <set>
#include <algorithm>
using namespace std;

string X = "ABCBDAB";
string Y = "BDCABA";
vector<vector<int>> table; // åŠ¨æ€è§„åˆ’è¡¨
set<string> setOfLCS;      // setä¿å­˜æ‰€æœ‰çš„LCS

int max(int a, int b)
{
	return (a>b)? a:b;
}

/**
 * æ„é€ è¡¨ï¼Œå¹¶è¿”å›Xå’ŒYçš„LCSçš„é•¿åº¦
 */
int lcs(int m, int n)
{
	// è¡¨çš„å¤§å°ä¸º(m+1)*(n+1)
	table = vector<vector<int>>(m+1,vector<int>(n+1));

	for(int i=0; i<m+1; ++i)
	{
		for(int j=0; j<n+1; ++j)
		{
			// ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ç½®0
			if (i == 0 || j == 0)
				table[i][j] = 0;
			else if(X[i-1] == Y[j-1])
				table[i][j] = table[i-1][j-1] + 1;
			else
				table[i][j] = max(table[i-1][j], table[i][j-1]);
		}
	}

	return table[m][n];
}

/**
 * æ±‚å‡ºæ‰€æœ‰çš„æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œå¹¶æ”¾å…¥setä¸­
 */
void traceBack(int i, int j, string lcs_str, int lcs_len)
{
	while (i>0 && j>0)
	{
		if (X[i-1] == Y[j-1])
		{
			lcs_str.push_back(X[i-1]);
			--i;
			--j;
		}
		else
		{
			if (table[i-1][j] > table[i][j-1])
				--i;
			else if (table[i-1][j] < table[i][j-1])
				--j;
			else   // ç›¸ç­‰çš„æƒ…å†µ
			{
				traceBack(i-1, j, lcs_str, lcs_len);
				traceBack(i, j-1, lcs_str, lcs_len);
				return;
			}
		}
	}

	string str(lcs_str.rbegin(), lcs_str.rend()); // lcs_stré€†åº
        if((int)str.size() == lcs_len)                // åˆ¤æ–­strçš„é•¿åº¦æ˜¯å¦ç­‰äºlcs_len
            setOfLCS.insert(str);
}

void print()
{
    set<string>::iterator beg = setOfLCS.begin();
	for( ; beg!=setOfLCS.end(); ++beg)
		cout << *beg << endl;
}
int main()
{
	int m = X.length();
	int n = Y.length();
	int length = lcs(m, n);
	cout << "The length of LCS is " << length << endl;

	string str;
	traceBack(m, n, str, length);
	print();

	getchar();
	return 0;
}
```


### åè½¬ä¸€ä¸ªé“¾è¡¨ï¼ˆæ‹›é“¶ç½‘ç»œäºŒé¢ï¼‰

```c++
ListNode* reverse(ListNode* root){
  ListNode* pre=nullptr,cur=root,nxt;
  while(cur!=nullptr){
    nxt=cur->next;
    cur->next=pre;
    pre=cur;cur=nxt;
  }
  return pre;
}
```

### Top Ké—®é¢˜ï¼ˆé‡ç‚¹ï¼‰

*Top K é—®é¢˜çš„å¸¸è§å½¢å¼ï¼š*
>ç»™å®š10000ä¸ªæ•´æ•°ï¼Œæ‰¾ç¬¬Kå¤§ï¼ˆç¬¬Kå°ï¼‰çš„æ•°<br>
 ç»™å®š10000ä¸ªæ•´æ•°ï¼Œæ‰¾å‡ºæœ€å¤§ï¼ˆæœ€å°ï¼‰çš„å‰Kä¸ªæ•°<br>
ç»™å®š100000ä¸ªå•è¯ï¼Œæ±‚å‰Kè¯é¢‘çš„å•è¯<br>

*è§£å†³Top Ké—®é¢˜è‹¥å¹²ç§æ–¹æ³•*
* ä½¿ç”¨æœ€å¤§æœ€å°å †ã€‚æ±‚æœ€å¤§çš„æ•°ç”¨æœ€å°å †ï¼Œæ±‚æœ€å°çš„æ•°ç”¨æœ€å¤§å †ã€‚
* Quick Selectç®—æ³•ã€‚ä½¿ç”¨ç±»ä¼¼å¿«æ’çš„æ€è·¯ï¼Œæ ¹æ®pivotåˆ’åˆ†æ•°ç»„ã€‚
* ä½¿ç”¨æ’åºæ–¹æ³•ï¼Œæ’åºåå†å¯»æ‰¾top Kå…ƒç´ ã€‚
* ä½¿ç”¨é€‰æ‹©æ’åºçš„æ€æƒ³ï¼Œå¯¹å‰Kä¸ªå…ƒç´ éƒ¨åˆ†æ’åºã€‚
* å°†1000.....ä¸ªæ•°åˆ†æˆmç»„ï¼Œæ¯ç»„å¯»æ‰¾top Kä¸ªæ•°ï¼Œå¾—åˆ°mÃ—Kä¸ªæ•°ï¼Œåœ¨è¿™mÃ—kä¸ªæ•°é‡Œé¢æ‰¾top Kä¸ªæ•°ã€‚

1. ä½¿ç”¨æœ€å¤§æœ€å°å †çš„æ€è·¯ ï¼ˆä»¥top K æœ€å¤§å…ƒç´ ä¸ºä¾‹ï¼‰<br>
æŒ‰é¡ºåºæ‰«æè¿™10000ä¸ªæ•°ï¼Œå…ˆå–å‡ºKä¸ªå…ƒç´ æ„å»ºä¸€ä¸ªå¤§å°ä¸ºKçš„æœ€å°å †ã€‚æ¯æ‰«æåˆ°ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœè¿™ä¸ªå…ƒç´ å¤§äºå †é¡¶çš„å…ƒç´ ï¼ˆè¿™ä¸ªå †æœ€å°çš„ä¸€ä¸ªæ•°ï¼‰ï¼Œå°±æ”¾å…¥å †ä¸­ï¼Œå¹¶åˆ é™¤å †é¡¶çš„å…ƒç´ ï¼ŒåŒæ—¶æ•´ç†å †ã€‚å¦‚æœè¿™ä¸ªå…ƒç´ å°äºå †é¡¶çš„å…ƒç´ ï¼Œå°±ç›´æ¥passã€‚æœ€åå †ä¸­å‰©ä¸‹çš„å…ƒç´ å°±æ˜¯æœ€å¤§çš„å‰Top Kä¸ªå…ƒç´ ï¼Œæœ€å³çš„å¶èŠ‚ç‚¹å°±æ˜¯Top ç¬¬Kå¤§çš„å…ƒç´ ã€‚

>noteï¼šæœ€å°å †çš„æ’å…¥æ—¶é—´å¤æ‚åº¦ä¸ºlog(n)ï¼Œnä¸ºå †ä¸­å…ƒç´ ä¸ªæ•°ï¼Œåœ¨è¿™é‡Œæ˜¯Kã€‚æœ€å°å †çš„åˆå§‹åŒ–æ—¶é—´å¤æ‚åº¦æ˜¯nlog(n)

C++ä¸­çš„æœ€å¤§æœ€å°å †è¦ç”¨æ ‡å‡†åº“çš„priority_queueæ¥å®ç°ã€‚
```c++
struct Node {
    int value;
    int idx;
    Node (int v, int i): value(v), idx(i) {}
    friend bool operator < (const struct Node &n1, const struct Node &n2) ; 
};

inline bool operator < (const struct Node &n1, const struct Node &n2) {
    return n1.value < n2.value;
}

priority_queue<Node> pq; // æ­¤æ—¶pqä¸ºæœ€å¤§å †
```

2. ä½¿ç”¨Quick Selectçš„æ€è·¯ï¼ˆä»¥å¯»æ‰¾ç¬¬Kå¤§çš„å…ƒç´ ä¸ºä¾‹ï¼‰<br>
Quick Selectè„±èƒäºå¿«é€Ÿæ’åºï¼Œæå‡ºè¿™ä¸¤ä¸ªç®—æ³•çš„éƒ½æ˜¯åŒä¸€ä¸ªäººã€‚ç®—æ³•çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š
é¦–å…ˆé€‰å–ä¸€ä¸ªæ¢è½´ï¼Œç„¶åå°†æ•°ç»„ä¸­å°äºè¯¥æ¢è½´çš„æ•°æ”¾åˆ°å·¦è¾¹ï¼Œå¤§äºè¯¥æ¢è½´çš„æ•°æ”¾åˆ°å³è¾¹ã€‚
æ­¤æ—¶ï¼Œå¦‚æœå·¦è¾¹çš„æ•°ç»„ä¸­çš„å…ƒç´ ä¸ªæ•°å¤§äºç­‰äºKï¼Œåˆ™ç¬¬Kå¤§çš„æ•°è‚¯å®šåœ¨å·¦è¾¹æ•°ç»„ä¸­ï¼Œç»§ç»­å¯¹å·¦è¾¹æ•°ç»„æ‰§è¡Œç›¸åŒæ“ä½œï¼›
å¦‚æœå·¦è¾¹çš„æ•°ç»„å…ƒç´ ä¸ªæ•°ç­‰äºK-1ï¼Œåˆ™ç¬¬Kå¤§çš„æ•°å°±æ˜¯pivotï¼›
å¦‚æœå·¦è¾¹çš„æ•°ç»„å…ƒç´ ä¸ªæ•°å°äºKï¼Œåˆ™ç¬¬Kå¤§çš„æ•°è‚¯å®šåœ¨å³è¾¹æ•°ç»„ä¸­ï¼Œå¯¹å³è¾¹æ•°ç»„æ‰§è¡Œç›¸åŒæ“ä½œã€‚

è¿™ä¸ªç®—æ³•ä¸å¿«æ’æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼Œæ¯æ¬¡åˆ’åˆ†ååªå¤„ç†å·¦åŠè¾¹æˆ–è€…å³åŠè¾¹ï¼Œè€Œå¿«æ’åœ¨åˆ’åˆ†åå¯¹å·¦å³åŠè¾¹éƒ½ç»§ç»­æ’åºã€‚
```java
//æ­¤ä¸ºJavaå®ç°
public int findKthLargest(int[] nums, int k) {
  return quickSelect(nums, k, 0, nums.length - 1);
}

// quick select to find the kth-largest element
public int quickSelect(int[] arr, int k, int left, int right) {
  if (left == right) return arr[right];
  int index = partition(arr, left, right);
  if (index - left + 1 > k)
    return quickSelect(arr, k, left, index - 1);
  else if (index - left + 1 == k)
    return arr[index];
  else
    return quickSelect(arr, k - (index - left + 1), index + 1, right);

}
```

3. ä½¿ç”¨é€‰æ‹©æ’åºçš„æ€æƒ³å¯¹å‰Kä¸ªå…ƒç´ æ’åº ï¼ˆ ä»¥å¯»æ‰¾å‰Kå¤§ä¸ªå…ƒç´ ä¸ºä¾‹ï¼‰<br>
æ‰«æä¸€éæ•°ç»„ï¼Œé€‰å‡ºæœ€å¤§çš„ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åå†æ‰«æä¸€éæ•°ç»„ï¼Œæ‰¾å‡ºç¬¬äºŒå¤§çš„å…ƒç´ ï¼Œå†æ‰«æä¸€éæ•°ç»„ï¼Œæ‰¾å‡ºç¬¬ä¸‰å¤§çš„å…ƒç´ ã€‚ã€‚ã€‚ã€‚ã€‚ä»¥æ­¤ç±»æ¨ï¼Œæ‰¾Kä¸ªå…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºO(N*K)

####  8Gçš„intå‹æ•°æ®ï¼Œè®¡ç®—æœºçš„å†…å­˜åªæœ‰2Gï¼Œæ€ä¹ˆå¯¹å®ƒè¿›è¡Œæ’åºï¼Ÿï¼ˆå¤–éƒ¨æ’åºï¼‰ï¼ˆç™¾åº¦ä¸€é¢ï¼‰

å¯ä»¥ä½¿ç”¨å¤–éƒ¨æ’åºæ¥å¯¹å®ƒè¿›è¡Œå¤„ç†ã€‚é¦–å…ˆå°†æ•´ä¸ªæ–‡ä»¶åˆ†æˆè®¸å¤šä»½ï¼Œæ¯”å¦‚è¯´mä»½ï¼Œåˆ’åˆ†çš„ä¾æ®å°±æ˜¯ä½¿å¾—æ¯ä¸€ä»½çš„å¤§å°éƒ½èƒ½æ”¾åˆ°å†…å­˜é‡Œã€‚ç„¶åæˆ‘ä»¬ç”¨å¿«é€Ÿæ’åºæˆ–è€…å †æ’åºç­‰æ–¹æ³•å¯¹æ¯ä¸€ä»½æ•°æ®è¿›è¡Œä¸€ä¸ªå†…éƒ¨æ’åºï¼Œå˜æˆæœ‰åºå­ä¸²ã€‚æ¥ç€å¯¹è¿™mä»½æœ‰åºå­ä¸²è¿›è¡Œmè·¯å½’å¹¶æ’åºã€‚å–è¿™mä»½æ•°æ®çš„æœ€å°å…ƒç´ ï¼Œè¿›è¡Œæ’åºï¼Œè¾“å‡ºæ’åºåæœ€å°çš„å…ƒç´ åˆ°ç»“æœä¸­ï¼ŒåŒæ—¶ä»è¯¥å…ƒç´ æ‰€åœ¨å­ä¸²ä¸­è¯»å…¥ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ‰€æœ‰æ•°æ®éƒ½è¢«è¾“å‡ºåˆ°ç»“æœä¸­ä¸ºæ­¢ã€‚

### å¸ƒéš†è¿‡æ»¤å™¨åŸç†ä¸ä¼˜ç‚¹

å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ä¸ªæ¯”ç‰¹å‘é‡æˆ–è€…æ¯”ç‰¹æ•°ç»„ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ç§æ¦‚ç‡å‹æ•°æ®ç»“æ„ï¼Œç”¨æ¥æŸ¥æ‰¾ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ï¼Œæ”¯æŒé«˜æ•ˆæ’å…¥å’ŒæŸ¥è¯¢æŸæ¡è®°å½•ã€‚å¸¸ä½œä¸ºé’ˆå¯¹è¶…å¤§æ•°æ®é‡ä¸‹é«˜æ•ˆæŸ¥æ‰¾æ•°æ®çš„ä¸€ç§æ–¹æ³•ã€‚

**å®ƒçš„å…·ä½“å·¥ä½œè¿‡ç¨‹æ˜¯è¿™æ ·å­çš„ï¼š**
å‡è®¾å¸ƒéš†è¿‡æ»¤å™¨çš„å¤§å°ä¸ºmï¼ˆæ¯”ç‰¹å‘é‡çš„é•¿åº¦ä¸ºmï¼‰ï¼Œæœ‰kä¸ªå“ˆå¸Œå‡½æ•°ï¼Œå®ƒå¯¹æ¯ä¸ªæ•°æ®ç”¨è¿™kä¸ªå“ˆå¸Œå‡½æ•°è®¡ç®—å“ˆå¸Œï¼Œå¾—åˆ°kä¸ªå“ˆå¸Œå€¼ï¼Œç„¶åå°†å‘é‡ä¸­ç›¸åº”çš„ä½è®¾ä¸º1ã€‚åœ¨æŸ¥è¯¢æŸä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨çš„æ—¶å€™ï¼Œå¯¹è¿™ä¸ªæ•°æ®ç”¨kä¸ªå“ˆå¸Œå‡½æ•°å¾—åˆ°kä¸ªå“ˆå¸Œå€¼ï¼Œå†åœ¨æ¯”ç‰¹å‘é‡ä¸­ç›¸åº”çš„ä½æŸ¥æ‰¾æ˜¯å¦ä¸º1ï¼Œå¦‚æœæŸä¸€ä¸ªç›¸åº”çš„ä½ä¸ä¸º1ï¼Œé‚£è¿™ä¸ªæ•°æ®å°±è‚¯å®šä¸å­˜åœ¨ã€‚ä½†æ˜¯å¦‚æœå…¨æ‰¾åˆ°äº†ï¼Œåˆ™è¿™ä¸ªæ•°æ®æœ‰å¯èƒ½å­˜åœ¨ã€‚

**ä¸ºä»€ä¹ˆè¯´æœ‰å¯èƒ½å­˜åœ¨å‘¢ï¼Ÿ**
å› ä¸ºä¸åŒçš„æ•°æ®ç»è¿‡å“ˆå¸Œåå¯èƒ½æœ‰ç›¸åŒçš„å“ˆå¸Œå€¼ï¼Œåœ¨æ¯”ç‰¹å‘é‡ä¸ŠæŸä¸ªä½ç½®æŸ¥æ‰¾åˆ°1ä¹Ÿå¯èƒ½æ˜¯ç”±äºæŸä¸ªå¦å¤–çš„æ•°æ®æ˜ å°„å¾—åˆ°çš„ã€‚

**æ”¯æŒåˆ é™¤æ“ä½œå—**
ç›®å‰å¸ƒéš†è¿‡æ»¤å™¨åªæ”¯æŒæ’å…¥å’ŒæŸ¥æ‰¾æ“ä½œï¼Œä¸æ”¯æŒåˆ é™¤æ“ä½œï¼Œå¦‚æœè¦æ”¯æŒåˆ é™¤ï¼Œå°±è¦å¦å¤–ä½¿ç”¨ä¸€ä¸ªè®¡æ•°å˜é‡ï¼Œæ¯æ¬¡å°†ç›¸åº”çš„ä½ç½®ä¸º1åˆ™è®¡æ•°åŠ ä¸€ï¼Œåˆ é™¤åˆ™å‡ä¸€ã€‚

å¸ƒéš†è¿‡æ»¤å™¨ä¸­å“ˆå¸Œå‡½æ•°çš„ä¸ªæ•°éœ€è¦é€‰æ‹©ã€‚å¦‚æœå¤ªå¤šåˆ™å¾ˆå¿«æ‰€æœ‰ä½éƒ½ç½®ä¸º1ï¼Œå¦‚æœå¤ªå°‘ä¼šå®¹æ˜“è¯¯æŠ¥ã€‚

**å¸ƒéš†è¿‡æ»¤å™¨çš„å¤§å°ä»¥åŠå“ˆå¸Œå‡½æ•°çš„ä¸ªæ•°æ€ä¹ˆé€‰æ‹©ï¼Ÿ**
k ä¸ºå“ˆå¸Œå‡½æ•°ä¸ªæ•°ï¼Œm ä¸ºå¸ƒéš†è¿‡æ»¤å™¨é•¿åº¦ï¼Œn ä¸ºæ’å…¥çš„å…ƒç´ ä¸ªæ•°ï¼Œp ä¸ºè¯¯æŠ¥ç‡

### æ™ºåŠ›é¢˜

#### ï¼ˆ1ï¼‰ 100å±‚æ¥¼ï¼Œåªæœ‰2ä¸ªé¸¡è›‹ï¼Œæƒ³è¦åˆ¤æ–­å‡ºé‚£ä¸€å±‚åˆšå¥½è®©é¸¡è›‹ç¢æ‰ï¼Œç»™å‡ºç­–ç•¥ï¼ˆæ»´æ»´ç¬”è¯•ä¸­ä¸¤ä¸ªé“çƒè·Ÿè¿™ä¸ªæ˜¯ä¸€ç±»é¢˜ï¼‰
* ï¼ˆç»™å®šäº†æ¥¼å±‚æ•°å’Œé¸¡è›‹æ•°çš„æƒ…å†µï¼‰äºŒåˆ†æ³•+çº¿æ€§æŸ¥æ‰¾  ä»100/2=50æ¥¼æ‰”èµ·ï¼Œå¦‚æœç ´äº†å°±ç”¨å¦ä¸€ä¸ªä»0æ‰”èµ·ç›´åˆ°ç ´ã€‚å¦‚æœæ²¡ç ´å°±ä»50/2=25æ¥¼æ‰”èµ·ï¼Œé‡å¤ã€‚
* åŠ¨æ€è§„åˆ’
#### ï¼ˆ2ï¼‰ æ¯’è¯é—®é¢˜ï¼Œ1000ç“¶æ°´ï¼Œå…¶ä¸­æœ‰ä¸€ç“¶å¯ä»¥æ— é™ç¨€é‡Šçš„æ¯’è¯ï¼Œè¦å¿«é€Ÿæ‰¾å‡ºå“ªä¸€ç“¶æœ‰æ¯’ï¼Œéœ€è¦å‡ åªå°ç™½é¼ 
ç”¨äºŒè¿›åˆ¶çš„æ€è·¯è§£å†³é—®é¢˜ã€‚2çš„åæ¬¡æ–¹æ˜¯1024ï¼Œä½¿ç”¨ååªå°é¼ å–ä¸€æ¬¡å³å¯ã€‚æ–¹æ³•æ˜¯å…ˆå°†æ¯ç“¶æ°´ç¼–å·ï¼ŒåŒæ—¶10ä¸ªå°é¼ åˆ†åˆ«è¡¨ç¤ºäºŒè¿›åˆ¶ä¸­çš„ä¸€ä¸ªä½ã€‚å°†æ¯ç“¶æ°´æ··åˆåˆ°æ°´ç“¶ç¼–å·ä¸­äºŒè¿›åˆ¶ä¸º1çš„å°é¼ å¯¹åº”çš„æ°´ä¸­ã€‚å–å®Œåç»Ÿè®¡ï¼Œå°†æ­»äº¡å°é¼ å¯¹åº”çš„ä½ç½®ä¸º1ï¼Œæ²¡æ­»çš„ç½®ä¸º0ï¼Œæ ¹æ®æ­»äº¡å°é¼ çš„ç¼–å·ç¡®å®šæœ‰æ¯’çš„æ˜¯å“ªç“¶æ°´ï¼Œå¦‚0000001010è¡¨ç¤º10å·æ°´æœ‰æ¯’ã€‚
#### ï¼ˆ4ï¼‰ å…ˆæ‰‹å¿…èƒœç­–ç•¥é—®é¢˜ï¼š100æœ¬ä¹¦ï¼Œæ¯æ¬¡èƒ½å¤Ÿæ‹¿1-5æœ¬ï¼Œæ€ä¹ˆæ‹¿èƒ½ä¿è¯æœ€åä¸€æ¬¡æ˜¯ä½ æ‹¿
å¯»æ‰¾æ¯ä¸ªå›åˆå›ºå®šçš„æ‹¿å–æ¨¡å¼ã€‚æœ€åä¸€æ¬¡æ˜¯æˆ‘æ‹¿ï¼Œé‚£ä¹ˆä¸Šä¸ªå›åˆæœ€å°‘å‰©ä¸‹6æœ¬ã€‚é‚£ä¹ˆåªè¦ä¿æŒæ¯ä¸ªå›åˆç»“æŸåéƒ½å‰©ä¸‹6çš„å€æ•°ï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªå›åˆä¸­æˆ‘æ‹¿çš„å’Œå¯¹æ–¹æ‹¿çš„åŠ èµ·æ¥ä¸º6ï¼ˆè¿™æ ·è¿™ä¸ªå›åˆç»“æŸåå‰©ä¸‹çš„è¿˜æ˜¯6çš„å€æ•°ï¼‰ï¼Œå°±å¿…èƒœã€‚å…³é”®æ˜¯ç¬¬ä¸€æ¬¡æˆ‘å¿…é¡»å…ˆæ‰‹æ‹¿ï¼ˆ100%6=4ï¼‰æœ¬ï¼ˆè¿™ä¸ç®—åœ¨ç¬¬ä¸€å›åˆé‡Œé¢ï¼‰ã€‚
#### ï¼ˆ5ï¼‰ æ”¾nåªèš‚èšåœ¨ä¸€æ¡æ ‘æä¸Šï¼Œèš‚èšä¸èš‚èšä¹‹é—´ç¢°åˆ°å°±å„è‡ªå¾€åæ–¹å‘èµ°ï¼Œé—®æ€»è·ç¦»æˆ–è€…æ—¶é—´ã€‚
ç¢°åˆ°å°±å½“æ²¡å‘ç”Ÿï¼Œç»§ç»­èµ°ï¼Œç›¸å½“äºç¢°åˆ°çš„ä¸¤ä¸ªèš‚èšäº¤æ¢äº†ä¸€ä¸‹èº«ä½“ã€‚å…¶å®å°±æ˜¯æ¯ä¸ªèš‚èšä»å½“å‰ä½ç½®ä¸€ç›´èµ°ç›´åˆ°åœæ­¢çš„æ€»è·ç¦»æˆ–è€…æ—¶é—´ã€‚
#### ï¼ˆ6ï¼‰ ç“¶å­æ¢é¥®æ–™é—®é¢˜ï¼š1000ç“¶é¥®æ–™ï¼Œ3ä¸ªç©ºç“¶å­èƒ½å¤Ÿæ¢1ç“¶é¥®æ–™ï¼Œé—®æœ€å¤šèƒ½å–å‡ ç“¶
æ‹¿èµ°3ç“¶ï¼Œæ¢å›1ç“¶ï¼Œç›¸å½“äºå‡å°‘2ç“¶ã€‚ä½†æ˜¯æœ€åå‰©ä¸‹4ç“¶çš„æ—¶å€™ä¾‹å¤–ï¼Œè¿™æ—¶åªèƒ½æ¢1ç“¶ã€‚æ‰€ä»¥æˆ‘ä»¬è®¡ç®—1000å‡2èƒ½å‡å¤šå°‘æ¬¡ï¼Œç›´åˆ°å‰©ä¸‹4.ï¼ˆ1000-4=996ï¼Œ996/2=498ï¼‰æ‰€ä»¥1000å‡2èƒ½å‡498æ¬¡ç›´åˆ°å‰©ä¸‹4ç“¶ï¼Œæœ€åå‰©ä¸‹çš„4ç“¶è¿˜å¯ä»¥æ¢ä¸€ç“¶ï¼Œæ‰€ä»¥æ€»å…±æ˜¯1000+498+1=1499ç“¶ã€‚
#### ï¼ˆ7ï¼‰åœ¨24å°æ—¶é‡Œé¢æ—¶é’ˆåˆ†é’ˆç§’é’ˆå¯ä»¥é‡åˆå‡ æ¬¡
24å°æ—¶ä¸­æ—¶é’ˆèµ°2åœˆï¼Œè€Œåˆ†é’ˆèµ°24åœˆï¼Œæ—¶é’ˆå’Œåˆ†é’ˆé‡åˆ24-2=22æ¬¡ï¼Œè€Œåªè¦æ—¶é’ˆå’Œåˆ†é’ˆé‡åˆï¼Œç§’é’ˆä¸€å®šæœ‰æœºä¼šé‡åˆï¼Œæ‰€ä»¥æ€»å…±é‡åˆ22æ¬¡
#### ï¼ˆ8ï¼‰ æœ‰ä¸€ä¸ªå¤©å¹³ï¼Œä¹ä¸ªç ç ï¼Œä¸€ä¸ªè½»ä¸€äº›ï¼Œç”¨å¤©å¹³è‡³å°‘å‡ æ¬¡èƒ½æ‰¾åˆ°è½»çš„ï¼Ÿ
è‡³å°‘2æ¬¡ï¼šç¬¬ä¸€æ¬¡ï¼Œä¸€è¾¹3ä¸ªï¼Œå“ªè¾¹è½»å°±åœ¨å“ªè¾¹ï¼Œä¸€æ ·é‡å°±æ˜¯å‰©ä½™çš„3ä¸ªï¼›
ç¬¬äºŒæ¬¡ï¼Œä¸€è¾¹1ä¸ªï¼Œå“ªè¾¹è½»å°±æ˜¯å“ªä¸ªï¼Œä¸€æ ·é‡å°±æ˜¯å‰©ä½™çš„é‚£ä¸ªï¼›
#### ï¼ˆ9ï¼‰ æœ‰åç»„ç ç æ¯ç»„åä¸ªï¼Œæ¯ä¸ªç ç é‡10gï¼Œå…¶ä¸­ä¸€ç»„æ¯ä¸ªåªæœ‰9gï¼Œæœ‰èƒ½æ˜¾ç¤ºå…‹æ•°çš„ç§¤æœ€å°‘å‡ æ¬¡èƒ½æ‰¾åˆ°è½»çš„é‚£ä¸€ç»„ç ç ï¼Ÿ
ç ç åˆ†ç»„1~10ï¼Œç¬¬ä¸€ç»„æ‹¿ä¸€ä¸ªï¼Œç¬¬äºŒç»„æ‹¿ä¸¤ä¸ªä»¥æ­¤ç±»æ¨ã€‚ã€‚ç¬¬åç»„æ‹¿åä¸ªæ”¾åˆ°ç§¤ä¸Šç§°å‡ºå…‹æ•°xï¼Œåˆ™y = 550 - xï¼Œç¬¬yç»„å°±æ˜¯è½»çš„é‚£ç»„
#### ï¼ˆ10ï¼‰ç”Ÿæˆéšæœºæ•°é—®é¢˜ï¼šç»™å®šç”Ÿæˆ1åˆ°5çš„éšæœºæ•°Rand5()ï¼Œå¦‚ä½•å¾—åˆ°ç”Ÿæˆ1åˆ°7çš„éšæœºæ•°å‡½æ•°Rand7()ï¼Ÿ
æ€è·¯ï¼šç”±å¤§çš„ç”Ÿæˆå°çš„å®¹æ˜“ï¼Œæ¯”å¦‚ç”±Rand7()ç”ŸæˆRand5()ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ„é€ ä¸€ä¸ªå¤§äº7çš„éšæœºæ•°ç”Ÿæˆå‡½æ•°ã€‚
è®°ä½ä¸‹é¢è¿™ä¸ªå¼å­ï¼š
- RandNN= N( RandN()-1 ) + RandN() ;// ç”Ÿæˆ1åˆ°N^2ä¹‹é—´çš„éšæœºæ•°
å¯ä»¥çœ‹ä½œæ˜¯åœ¨æ•°è½´ä¸Šæ’’è±†å­ã€‚Næ˜¯è·¨åº¦/æ­¥é•¿ï¼Œæ˜¯RandN()ç”Ÿæˆçš„æ•°çš„èŒƒå›´é•¿åº¦ï¼ŒRandN()-1çš„ç›®çš„æ˜¯ç”Ÿæˆ0åˆ°N-1çš„æ•°ï¼Œæ˜¯è·³æ•°ã€‚åé¢+RandN()çš„ç›®çš„æ˜¯å¡«æ»¡ä¸­é—´çš„ç©ºéš™

æ¯”å¦‚` Rand25= 5( Rand5()-1 ) + Rand5()`å¯ä»¥ç”Ÿæˆ1åˆ°25ä¹‹é—´çš„éšæœºæ•°ã€‚æˆ‘ä»¬å¯ä»¥åªè¦1åˆ°21ï¼ˆ3*7ï¼‰ä¹‹é—´çš„æ•°å­—ï¼Œæ‰€ä»¥å¯ä»¥è¿™ä¹ˆå†™
```c++
int rand7(){
  int x=INT_MAX;
  while(x>21){
    x=5*(rand5()-1)+rand5();
  }
  return x%7+1;
}
```
#### èµ›é©¬ï¼šæœ‰25åŒ¹é©¬ï¼Œæ¯åœºæ¯”èµ›åªèƒ½èµ›5åŒ¹ï¼Œè‡³å°‘è¦èµ›å¤šå°‘åœºæ‰èƒ½æ‰¾åˆ°æœ€å¿«çš„3åŒ¹é©¬ï¼Ÿ
* ç¬¬ä¸€æ¬¡ï¼Œåˆ†æˆ5ä¸ªèµ›é“ABCDEï¼Œæ¯ä¸ªèµ›é“5åŒ¹é©¬ï¼Œæ¯ä¸ªèµ›é“æ¯”èµ›ä¸€åœºï¼Œæ¯ä¸ªèµ›é“çš„ç¬¬12345åè®°ä¸º A1,A2,A3,A4,A5  B1,B2,B3,B4,B5ç­‰ç­‰ï¼Œè¿™ä¸€æ­¥è¦èµ›5åœºã€‚ 
* ç¬¬äºŒæ¬¡ï¼Œæˆ‘ä»¬å°†æ¯ä¸ªèµ›é“çš„å‰ä¸‰åï¼Œå…±15åŒ¹ã€‚åˆ†æˆä¸‰ç»„ï¼Œç„¶åæ¯ç»„è¿›è¡Œæ¯”èµ›ã€‚è¿™ä¸€æ­¥è¦èµ›3åœºã€‚
* ç¬¬ä¸‰æ¬¡ï¼Œæˆ‘ä»¬å–æ¯ç»„çš„å‰ä¸‰åã€‚å…±9åŒ¹ï¼Œç¬¬ä¸€åèµ›é“çš„é©¬ç¼–å·ä¸º1a,1b,1cï¼Œç¬¬äºŒåèµ›é“çš„é©¬ç¼–å·ä¸º2a,2b,2cï¼Œç¬¬ä¸‰åèµ›é“çš„é©¬ç¼–å·ä¸º3a,3b,3cã€‚è¿™æ—¶è¿›è¡Œåˆ†æï¼Œ1aè¡¨ç¤ºç¬¬ä¸€åé‡Œé¢çš„ç¬¬ä¸€åï¼Œç»å¯¹æ˜¯æ‰€æœ‰é©¬ä¸­çš„ç¬¬ä¸€ï¼Œæ‰€ä»¥ä¸ç”¨å†æ¯”äº†ã€‚2cè¡¨ç¤ºç¬¬äºŒåçš„ä¸‰åŒ¹é‡Œå¤´çš„æœ€åä¸€åŒ¹ï¼Œ3bå’Œ3cè¡¨ç¤ºç¬¬ä¸‰åé‡Œé¢çš„å€’æ•°ä¸¤åŒ¹ï¼Œä¸å¯èƒ½æ˜¯æ‰€æœ‰é©¬é‡Œé¢çš„å‰ä¸‰åï¼Œæ‰€ä»¥ä¹Ÿç›´æ¥æ’é™¤ï¼Œå‰©ä¸‹1b,1c,2a,2b,,3aï¼Œå…±5åŒ¹ï¼Œå†èµ›è·‘ä¸€æ¬¡å–ç¬¬ä¸€ç¬¬äºŒåï¼ŒåŠ ä¸Šåˆšç­›é€‰å‡ºæ¥çš„1aå°±æ˜¯æ‰€æœ‰é©¬é‡Œé¢çš„æœ€å¿«3åŒ¹äº†ã€‚è¿™ä¸€æ­¥è¦èµ›1åœºã€‚
* æ‰€ä»¥ä¸€å…±æ˜¯5+3+1=9åœºã€‚
#### çƒ§ é¦™/ç»³å­/å…¶ä»– ç¡®å®šæ—¶é—´é—®é¢˜ï¼šæœ‰ä¸¤æ ¹ä¸å‡åŒ€çš„é¦™ï¼Œç‡ƒçƒ§å®Œéƒ½éœ€è¦ä¸€ä¸ªå°æ—¶ï¼Œé—®æ€ä¹ˆç¡®å®š15åˆ†é’Ÿçš„æ—¶é•¿ï¼Ÿ
ï¼ˆè¯´äº†æ±‚15åˆ†é’Ÿï¼Œæ²¡è¯´å¼€å§‹çš„15åˆ†é’Ÿè¿˜æ˜¯ç»“æŸçš„15åˆ†é’Ÿï¼Œè¿™é‡Œæ˜¯å¯ä»¥æ±‚æœ€åçš„15åˆ†é’Ÿï¼‰ç‚¹ç‡ƒä¸€æ ¹Aï¼ŒåŒæ—¶ç‚¹ç‡ƒå¦ä¸€æ ¹Bçš„ä¸¤ç«¯ï¼Œå½“å¦ä¸€æ ¹Bçƒ§å®Œçš„æ—¶å€™å°±æ˜¯åŠå°æ—¶ï¼Œè¿™æ˜¯å†å°†Açš„å¦ä¸€ç«¯ä¹Ÿç‚¹ç‡ƒï¼Œä»è¿™æ—¶åˆ°Aç‡ƒçƒ§å®Œå°±æ­£å¥½15åˆ†é’Ÿã€‚

#### æ°å·§å…‹åŠ›é—®é¢˜ N*Må—å·§å…‹åŠ›ï¼Œæ¯æ¬¡æ°ä¸€å—çš„ä¸€è¡Œæˆ–ä¸€åˆ—ï¼Œæ°æˆ1*1çš„å·§å…‹åŠ›éœ€è¦å¤šå°‘æ¬¡ï¼Ÿï¼ˆ1000ä¸ªäººå‚åŠ è¾©è®ºèµ›ï¼Œ1V1ï¼Œè¾“äº†å°±é€€å‡ºï¼Œéœ€è¦å®‰æ’å¤šå°‘åœºæ¯”èµ›ï¼‰
æ¯æ¬¡æ‹¿èµ·ä¸€å—å·§å…‹åŠ›ï¼Œæ°ä¸€ä¸‹ï¼ˆæ— è®ºæ¨ªç€è¿˜æ˜¯ç«–ç€ï¼‰éƒ½ä¼šå˜æˆä¸¤å—ï¼Œå› ä¸ºæ‰€æœ‰çš„å·§å…‹åŠ›å…±æœ‰N\*Må—ï¼Œæ‰€ä»¥è¦æ°N\*M-1æ¬¡ï¼Œ-1æ˜¯å› ä¸ºæœ€å¼€å§‹çš„ä¸€å—æ˜¯ä¸ç”¨ç®—è¿›å»çš„ã€‚

æ¯ä¸€åœºè¾©è®ºèµ›å‚åŠ ä¸¤ä¸ªäººï¼Œæ¶ˆå¤±ä¸€ä¸ªäººï¼Œæ‰€ä»¥å¯ä»¥çœ‹ä½œæ˜¯æ¯ä¸€åœºè¾©è®ºèµ›å‡å°‘ä¸€ä¸ªäººï¼Œç›´åˆ°æœ€åå‰©ä¸‹1ä¸ªäººï¼Œæ‰€ä»¥æ˜¯1000-1=999åœºã€‚


## å¤§å‚é«˜é¢‘é¢˜

### å­—èŠ‚é«˜é¢‘é¢˜ç›®

ã€2022-10-27ã€‘[å­—èŠ‚é«˜é¢‘ç®—æ³•é¢˜](https://zhuanlan.zhihu.com/p/546395751)ï¼Œæ•´ä½“åˆ†å¸ƒ
- ![](https://pic2.zhimg.com/80/v2-2a746c23031dfa09880eb7129e14be25_1440w.webp)

#### æœ€é•¿å­ä¸²

[3\. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)
 
æ€è·¯ï¼šæ»‘åŠ¨çª—å£
 
```python
class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        i,j = 0,0
        maxlen = 0
 
        while j<len(s):
            
            while True:
                if s\[j\] not in s\[i:j\]:
                    break
                i+=1
            
            maxlen = max(maxlen,j-i+1)
            j+=1
            
        return maxlen
```
 
#### æœ€å°æ ˆ
 
[155\. æœ€å°æ ˆ](https://leetcode.cn/problems/min-stack/)
 
æ€è·¯ï¼šè¾…åŠ©æ ˆ
 
```python
class MinStack:
    def \_\_init\_\_(self):
        self.stack = \[\]
        self.min_stack = \[math.inf\]
 
    def push(self, x: int) -> None:
        self.stack.append(x)
        self.min\_stack.append(min(x, self.min\_stack\[-1\]))
 
    def pop(self) -> None:
        self.stack.pop()
        self.min_stack.pop()
 
    def top(self) -> int:
        return self.stack\[-1\]
 
    def getMin(self) -> int:
        return self.min_stack\[-1\]
```

#### æ¥é›¨æ°´

[42\. æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/)
 
æ€è·¯ï¼šå•è°ƒæ ˆ
 
```python
class Solution:
    def trap(self, height: List\[int\]) -> int:
        ans = 0
        current = 0
        stack = \[\]
        while current<len(height):
            while len(stack)>0 and height\[current\]>height\[stack\[-1\]\] :
                top = stack.pop()
                if len(stack)==0:
                    break
                distance = current-stack\[-1\]-1
                bounded_height = min(height\[stack\[-1\]\],height\[current\])-height\[top\]
                ans+=distance*bounded_height
            
            stack.append(current)
            current+=1
        return ans
```
 
#### ä¹°å–è‚¡ç¥¨æ—¶æœº
 
[121\. ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº](https://leetcode.cn/problems/best-time-to-buy-and-sell-stock/)
 
æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
 
```python
class Solution:
    def maxProfit(self, prices: List\[int\]) -> int:
 
        dp = \[0\]*len(prices)
        min_prices = prices\[0\]
 
        for i in range(1,len(prices)):
            dp\[i\] = max(dp\[i-1\],prices\[i\]-min_prices)
            min\_prices = min(min\_prices,prices\[i\])
 
        return dp\[-1\]
```
 
#### äºŒå‰æ ‘å³è§†å›¾
 
[199\. äºŒå‰æ ‘çš„å³è§†å›¾](https://leetcode.cn/problems/binary-tree-right-side-view/)
 
æ€è·¯ï¼šå±‚åºéå†
 
```python
# class TreeNode:
#     def \_\_init\_\_(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def rightSideView(self, root: Optional\[TreeNode\]) -> List\[int\]:
     # dequeæ¥è‡ªcollectionsæ¨¡å—ï¼Œä¸åœ¨åŠ›æ‰£å¹³å°æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨å†™å…¥
     # 'from collections import deque' å¯¼å…¥
     # dequeç›¸æ¯”listçš„å¥½å¤„æ˜¯ï¼Œlistçš„pop(0)æ˜¯O(n)å¤æ‚åº¦ï¼Œdequeçš„popleft()æ˜¯O(1)å¤æ‚åº¦
     
        if not root:
            return \[\]
        
        queue = deque(\[root\])
        right_list = \[\]
 
        while queue:
            node = queue\[-1\]
            right_list.append(node.val)
 
            for _ in range(len(queue)):
                node = queue.popleft()
                if node.left:
                    queue.append(node.left)
                if node.right:
                    queue.append(node.right)
        
        return right_list
```
 
#### æ ˆå®ç°é˜Ÿåˆ—
 
[232\. ç”¨æ ˆå®ç°é˜Ÿåˆ—](https://leetcode.cn/problems/implement-queue-using-stacks/)
 
æ€è·¯ï¼šä¸¤ä¸ªæ ˆäº’ç›¸å€’é…’
 
```python
class MyQueue:
 
    def \_\_init\_\_(self):
        self.stack_in = \[\]
        self.stack_out = \[\]
 
    def empty(self) -> bool:
        return not (self.stack\_in or self.stack\_out)
 
    def push(self, x: int) -> None:
        self.stack_in.append(x)
 
    def pop(self) -> int:
        if self.empty():
            return None
        if self.stack_out:
            return self.stack_out.pop()
        else:
            for i in range(len(self.stack_in)):
                self.stack\_out.append(self.stack\_in.pop())
            return self.stack_out.pop()
 
 
    def peek(self) -> int:
        """
        Get the front element.
        """
        ans = self.pop()
        self.stack_out.append(ans) #å–å‡ºæ¥ è¿˜è¦æ”¾å›å»
        return ans
 
 
 
# Your MyQueue object will be instantiated and called as such:
# obj = MyQueue()
# obj.push(x)
# param_2 = obj.pop()
# param_3 = obj.peek()
# param_4 = obj.empty()
```
 
#### å‰åºã€ä¸­åºæ„å»ºäºŒå‰æ ‘
 
[105\. ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘](https://leetcode.cn/problems/construct-binary-tree-from-preorder-and-inorder-traversal/)
 
æ€è·¯ï¼šé€’å½’
 
```python
# class TreeNode:
#     def \_\_init\_\_(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution:
    def buildTree(self, preorder: List\[int\], inorder: List\[int\]) -> TreeNode:
        # å®é™…ä¸Šinorder å’Œ postorderä¸€å®šæ˜¯åŒæ—¶ä¸ºç©ºçš„ï¼Œå› æ­¤ä½ æ— è®ºåˆ¤æ–­å“ªä¸ªéƒ½è¡Œ
        if not preorder:
            return None
        root = TreeNode(preorder\[0\])
 
        i = inorder.index(root.val)
        root.left = self.buildTree(preorder\[1:i + 1\], inorder\[:i\])
        root.right = self.buildTree(preorder\[i + 1:\], inorder\[i+1:\])
 
        return root
```
 
#### æœ€é•¿å›æ–‡å­ä¸²
 
[5\. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.cn/problems/longest-palindromic-substring/)
 
æ€è·¯ï¼šé€’å½’
 
```python
class Solution:
    def expandAroundCenter(self, s, left, right):
        while left >= 0 and right < len(s) and s\[left\] == s\[right\]:
            left -= 1
            right += 1
        return left + 1, right - 1
        # æ³¨æ„è¿™é‡Œæ˜¯left+1 å’Œ right-1
 
    def longestPalindrome(self, s: str) -> str:
        start, end = 0, 0
        for i in range(len(s)):
            left1, right1 = self.expandAroundCenter(s, i, i)
            left2, right2 = self.expandAroundCenter(s, i, i + 1)
            if right1 - left1 > end - start:
                start, end = left1, right1
            if right2 - left2 > end - start:
                start, end = left2, right2
        return s\[start: end + 1\]
```
 
#### å¯¹ç§°äºŒå‰æ ‘
 
[101\. å¯¹ç§°äºŒå‰æ ‘](https://leetcode.cn/problems/symmetric-tree/)
 
æ€è·¯ï¼šé€’å½’ å‡ºå£å†™å¥½æ¥
 
```python
class Solution:
    def isSymmetric(self, root: Optional\[TreeNode\]) -> bool:
 
        def compare(p, q):
            if p==None and q!=None:
                return False
            if p!=None and q==None:
                return False
            if p==None and q==None:
                return True
 
            if p!=None and q!=None:
 
                if p.val != q.val:
                    return False
                else:
                    return compare(p.left, q.right) and compare(p.right, q.left)
        
        if not root:
            return True
        
        return compare(root.left, root.right)
```
 
#### æ‰“å®¶åŠ«èˆ
 
[198\. æ‰“å®¶åŠ«èˆ](https://leetcode.cn/problems/house-robber/)
 
æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
 
```python
class Solution:
    def rob(self, nums: List\[int\]) -> int:
        dp = \[0\]*len(nums)
        dp\[0\] = nums\[0\]
        for i in range(1,len(nums)):
            if(i<2):
                dp\[i\]= max(dp\[i-1\],nums\[i\])
            else:
                dp\[i\] = max(dp\[i-1\],dp\[i-2\]+nums\[i\])
 
        return dp\[-1\]
```
 
#### xå¹³æ–¹æ ¹
 
[69\. x çš„å¹³æ–¹æ ¹](https://leetcode.cn/problems/sqrtx/)
 
æ€è·¯ï¼šäºŒåˆ†æ³•
 
```python
class Solution(object):
    def mySqrt(self, x):
        if x == 0 or x == 1:
            return x
 
        low, high, res = 1, x, -1
 
        while low <= high:
            mid = (low + high) // 2
            if mid * mid <= x:
                res = mid
                low = mid + 1
            else:
                high = mid - 1
 
        return res
```
 
#### é“¾è¡¨å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹
 
[å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹](https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
# class ListNode:
#     def \_\_init\_\_(self, x):
#         self.val = x
#         self.next = None
 
class Solution:
    def getKthFromEnd(self, head: ListNode, k: int) -> ListNode:
 
        fast, slow = head, head
        for i in range(k):
            fast = fast.next
        
        while fast:
            slow = slow.next
            fast = fast.next
        return slow
```
 
#### ç¯å½¢é“¾è¡¨
 
[142\. ç¯å½¢é“¾è¡¨ II](https://leetcode.cn/problems/linked-list-cycle-ii/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def detectCycle(self, head: ListNode) -> ListNode:
        slow, fast = head, head
 
        while fast!=None and fast.next!=None:
            slow = slow.next
            fast = fast.next.next
 
            if slow==fast:
                p = head
                q = slow
                while p!=q:
                    p = p.next
                    q = q.next
 
                return p
 
        return None
```
 
#### å¯»æ‰¾é‡å¤æ•°
 
[287\. å¯»æ‰¾é‡å¤æ•°](https://leetcode.cn/problems/find-the-duplicate-number/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def findDuplicate(self, nums: List\[int\]) -> int:
 
        slow, fast = 0, 0
        while True:
            slow = nums\[slow\]           # ç±»æ¯”é“¾è¡¨slow=slow.next
            fast = nums\[nums\[fast\]\]     # ç±»æ¯”é“¾è¡¨fast=fast.next.next
            if fast == slow:    # é¦–æ¬¡ç›¸é‡ç‚¹
                break
        
        fast = 0                # fastå›åˆ°èµ·ç‚¹
        while slow != fast:     # å†æ¬¡ç›¸é‡ç‚¹å³ä¸ºé‡å¤æ•°å­—
            slow = nums\[slow\]
            fast = nums\[fast\]
        
        return fast
```
 
#### æ»‘åŠ¨çª—å£æœ€å¤§å€¼
 
[239\. æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.cn/problems/sliding-window-maximum/)
 
æ€è·¯ï¼šåŒå‘é˜Ÿåˆ—
 
```python
class Solution:
    def maxSlidingWindow(self, nums: List\[int\], k: int) -> List\[int\]:
 
        # å¦‚æœæ•°ç»„ä¸ºç©ºæˆ– k = 0ï¼Œç›´æ¥è¿”å›ç©º
        if not nums or not k:
            return \[\]
        # å¦‚æœæ•°ç»„åªæœ‰1ä¸ªå…ƒç´ ï¼Œç›´æ¥è¿”å›è¯¥å…ƒç´ 
        if len(nums) == 1:
            return \[nums\[0\]\]
 
        # åˆå§‹åŒ–é˜Ÿåˆ—å’Œç»“æœï¼Œé˜Ÿåˆ—å­˜å‚¨æ•°ç»„çš„ä¸‹æ ‡
        queue = \[\]
        res = \[\]
 
        for i in range(len(nums)):
            # å¦‚æœå½“å‰é˜Ÿåˆ—æœ€å·¦ä¾§å­˜å‚¨çš„ä¸‹æ ‡ç­‰äº i-k çš„å€¼ï¼Œä»£è¡¨ç›®å‰é˜Ÿåˆ—å·²æ»¡ã€‚
            # ä½†æ˜¯æ–°å…ƒç´ éœ€è¦è¿›æ¥ï¼Œæ‰€ä»¥åˆ—è¡¨æœ€å·¦ä¾§çš„ä¸‹æ ‡å‡ºé˜Ÿåˆ—
            if queue and queue\[0\] == i - k:
                queue.pop(0)
 
            # å¯¹äºæ–°è¿›å…¥çš„å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—å‰é¢çš„æ•°æ¯”å®ƒå°ï¼Œé‚£ä¹ˆå‰é¢çš„éƒ½å‡ºé˜Ÿåˆ—
            while queue and nums\[queue\[-1\]\] < nums\[i\]:
                queue.pop()
            # æ–°å…ƒç´ å…¥é˜Ÿåˆ—
            queue.append(i)
 
            # å½“å‰çš„å¤§å€¼åŠ å…¥åˆ°ç»“æœæ•°ç»„ä¸­
            if i >= k-1:
                res.append(nums\[queue\[0\]\])
 
        return res
```
 
#### åè½¬é“¾è¡¨
 
[å‰‘æŒ‡ Offer II 024. åè½¬é“¾è¡¨](https://leetcode.cn/problems/UHnkqh/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆè¿­ä»£
 
```python
class Solution:
    def reverseList(self, head: ListNode) -> ListNode:
        cur, pre = head, None
        while cur:
            tmp = cur.next # æš‚å­˜åç»§èŠ‚ç‚¹ cur.next
            cur.next = pre # ä¿®æ”¹ next å¼•ç”¨æŒ‡å‘
            pre = cur      # pre æš‚å­˜ cur
            cur = tmp      # cur è®¿é—®ä¸‹ä¸€èŠ‚ç‚¹
        return pre
```
 
#### kä¸ªæ•°ç»„ç¿»è½¬é“¾è¡¨
 
[25\. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-nodes-in-k-group/)
 
æ€è·¯ï¼šå¤šæŒ‡é’ˆ
 
[åŠ›æ‰£](https://leetcode.cn/problems/reverse-nodes-in-k-group/solution/k-ge-yi-zu-fan-zhuan-lian-biao-by-leetcode-solutio/)
 
```python
class Solution:
    # ç¿»è½¬ä¸€ä¸ªå­é“¾è¡¨ï¼Œå¹¶ä¸”è¿”å›æ–°çš„å¤´ä¸å°¾
    def reverse(self, head: ListNode, tail: ListNode):
        prev = tail.next
        p = head
        while prev != tail:
            nex = p.next
            p.next = prev
            prev = p
            p = nex
        return tail, head
 
    def reverseKGroup(self, head: ListNode, k: int) -> ListNode:
        hair = ListNode(0)
        hair.next = head
        pre = hair
 
        while head:
            tail = pre
            # æŸ¥çœ‹å‰©ä½™éƒ¨åˆ†é•¿åº¦æ˜¯å¦å¤§äºç­‰äº k
            for i in range(k):
                tail = tail.next
                if not tail:
                    return hair.next
            nex = tail.next
            head, tail = self.reverse(head, tail)
            # æŠŠå­é“¾è¡¨é‡æ–°æ¥å›åŸé“¾è¡¨
            pre.next = head
            tail.next = nex
            pre = tail
            head = tail.next
        
        return hair.next
```
 
#### å­—ç¬¦ä¸²ç›¸åŠ 
 
[415\. å­—ç¬¦ä¸²ç›¸åŠ ](https://leetcode.cn/problems/add-strings/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def addStrings(self, num1: str, num2: str) -> str:
        res = ""
        i, j, carry = len(num1) - 1, len(num2) - 1, 0
        while i >= 0 or j >= 0:
            n1 = int(num1\[i\]) if i >= 0 else 0
            n2 = int(num2\[j\]) if j >= 0 else 0
            tmp = n1 + n2 + carry
            carry = tmp // 10
            res = str(tmp % 10) + res
            i, j = i - 1, j - 1
        return "1" + res if carry else res
```
 
#### ç›¸äº¤é“¾è¡¨
 
[160\. ç›¸äº¤é“¾è¡¨](https://leetcode.cn/problems/intersection-of-two-linked-lists/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def getIntersectionNode(self, headA: ListNode, headB: ListNode) -> ListNode:
        A, B = headA, headB
        while A != B:
            A = A.next if A else headB
            B = B.next if B else headA
        return A
```
 
#### æœ‰æ•ˆçš„æ‹¬å·
 
[20\. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/valid-parentheses/)
 
æ€è·¯ï¼šç”¨æ ˆåŒ¹é…
 
```python
class Solution:
    def isValid(self, s: str) -> bool:
        stack = \[\]
        
        for item in s:
            if item == '(':
                stack.append(')')
            elif item == '\[':
                stack.append('\]')
            elif item == '{':
                stack.append('}')
            elif not stack or stack\[-1\] != item:
                return False
            else:
                stack.pop()
        
        return True if not stack else False
```
 
#### æœ€é•¿é€’å¢å­åºåˆ—
 
[300\. æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode.cn/problems/longest-increasing-subsequence/)
 
æ€è·¯ï¼šåŠ¨æ€è§„åˆ’
 
```python
class Solution:
    def lengthOfLIS(self, nums: List\[int\]) -> int:
        if not nums: return 0
        dp = \[1\] * len(nums)
        for i in range(len(nums)):
            for j in range(i):
                if nums\[j\] < nums\[i\]: # å¦‚æœè¦æ±‚éä¸¥æ ¼é€’å¢ï¼Œå°†æ­¤è¡Œ '<' æ”¹ä¸º '<=' å³å¯ã€‚
                    dp\[i\] = max(dp\[i\], dp\[j\] + 1)
        return max(dp)
```
 
äºŒåˆ†æ³•ï¼š
 
```python
class Solution:
    def lengthOfLIS(self, nums: \[int\]) -> int:
        tails, res = \[0\] * len(nums), 0
        for num in nums:
            i, j = 0, res
            while i < j:
                m = (i + j) // 2
                if tails\[m\] < num: i = m + 1 # å¦‚æœè¦æ±‚éä¸¥æ ¼é€’å¢ï¼Œå°†æ­¤è¡Œ '<' æ”¹ä¸º '<=' å³å¯ã€‚
                else: j = m
            tails\[i\] = num
            if j == res: res += 1
        return res
```
 
#### äºŒå‰æ ‘æœ€è¿‘å…¬å…±ç¥–å…ˆ
 
[236\. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ](https://leetcode.cn/problems/lowest-common-ancestor-of-a-binary-tree/)
 
æ€è·¯ï¼šé€’å½’
 
```python
class Solution:
    def lowestCommonAncestor(self, root: 'TreeNode', p: 'TreeNode', q: 'TreeNode') -> 'TreeNode':
        # å½“å‰èŠ‚ç‚¹ä¸ºç©ºï¼Œç›´æ¥è¿”å›ç©º
        if root == None:
            return None
        # å¦‚æœ root ç­‰äº p æˆ–è€… qï¼Œé‚£æœ€è¿‘å…¬å…±ç¥–å…ˆä¸€å®šæ˜¯ p æˆ–è€… q
        if root == p or root == q:
            return root
        # é€’å½’å·¦å³å­æ ‘ï¼Œä¿å­˜é€’å½’ç»“æœ
        left = self.lowestCommonAncestor(root.left, p, q)
        right = self.lowestCommonAncestor(root.right, p, q)
        # å¦‚æœ left å’Œ right éƒ½éç©ºï¼Œé‚£è¯æ˜ p å’Œ q ä¸€è¾¹ä¸€ä¸ªï¼Œé‚£ä¹ˆæœ€è¿‘å…¬å…±ç¥–å…ˆå°±æ˜¯ root
        if left and right:
            return root
        # å¦‚æœ right ä¸ºç©ºï¼Œåªéœ€è¦çœ‹ left
        if left and right == None:
            return left
        # å¦‚æœ left ä¸ºç©ºï¼Œåªéœ€è¦çœ‹ right 
        if left == None and right:
            return right
        # å¦‚æœéƒ½ä¸ºç©ºï¼Œè¿”å›ç©º
        if left == None and right == None:
            return None
```
 
#### å²›å±¿æ•°é‡
 
[200\. å²›å±¿æ•°é‡](https://leetcode.cn/problems/number-of-islands/)
 
æ€è·¯ï¼šdfs æˆ– bfs
 
```python
class Solution:
    def numIslands(self, grid: \[\[str\]\]) -> int:
        def dfs(grid, i, j):
            if not 0 <= i < len(grid) or not 0 <= j < len(grid\[0\]) or grid\[i\]\[j\] == '0': return
            grid\[i\]\[j\] = '0'
            dfs(grid, i + 1, j)
            dfs(grid, i, j + 1)
            dfs(grid, i - 1, j)
            dfs(grid, i, j - 1)
        count = 0
        for i in range(len(grid)):
            for j in range(len(grid\[0\])):
                if grid\[i\]\[j\] == '1':
                    dfs(grid, i, j)
                    count += 1
        return count
```
 
  
 
```python
class Solution:
    def numIslands(self, grid: \[\[str\]\]) -> int:
        def bfs(grid, i, j):
            queue = \[\[i, j\]\]
            while queue:
                \[i, j\] = queue.pop(0)
                if 0 <= i < len(grid) and 0 <= j < len(grid\[0\]) and grid\[i\]\[j\] == '1':
                    grid\[i\]\[j\] = '0'
                    queue += \[\[i + 1, j\], \[i - 1, j\], \[i, j - 1\], \[i, j + 1\]\]
        count = 0
        for i in range(len(grid)):
            for j in range(len(grid\[0\])):
                if grid\[i\]\[j\] == '0': continue
                bfs(grid, i, j)
                count += 1
        return count
```
 
#### èºæ—‹çŸ©é˜µ
 
[54\. èºæ—‹çŸ©é˜µ](https://leetcode.cn/problems/spiral-matrix/)
 
æ€è·¯ï¼šæ‰¾è§„å¾‹ æŒ‰è§„å¾‹æ¥
 
```python
class Solution:
    def spiralOrder(self, matrix: List\[List\[int\]\]) -> List\[int\]:
        m = len(matrix)
        n = len(matrix\[0\])
        res = \[\]
        l, r, t, b = 0, n - 1, 0, m - 1
        num, tar = 1, m * n
        while num <= tar:
            if t<=b:
                for i in range(l, r + 1): # left to right
                    res.append(matrix\[t\]\[i\])
                    num+=1
            t += 1
            if l<=r:
                for i in range(t, b + 1): # top to bottom
                    res.append(matrix\[i\]\[r\])
                    num+=1
            r -= 1
            if t<=b:
                for i in range(r, l - 1, -1): # right to left
                    res.append(matrix\[b\]\[i\])
                    num+=1
            b -= 1
            if l<=r:
                for i in range(b, t - 1, -1): # bottom to top
                    res.append(matrix\[i\]\[l\])
                    num+=1
            l += 1
        return res
 
function= Solution()
matrix = \[\[1,2,3,4\],\[5,6,7,8\],\[9,10,11,12\]\]
print(function.spiralOrder(matrix))
```
 
#### åˆå¹¶æœ‰åºæ•°ç»„
 
[88\. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„](https://leetcode.cn/problems/merge-sorted-array/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def merge(self, nums1: List\[int\], m: int, nums2: List\[int\], n: int) -> None:
        """
        Do not return anything, modify nums1 in-place instead.
        """
        sorted = \[\]
        p1, p2 = 0, 0
        while p1 < m or p2 < n:
            if p1 == m:
                sorted.append(nums2\[p2\])
                p2 += 1
            elif p2 == n:
                sorted.append(nums1\[p1\])
                p1 += 1
            elif nums1\[p1\] < nums2\[p2\]:
                sorted.append(nums1\[p1\])
                p1 += 1
            else:
                sorted.append(nums2\[p2\])
                p2 += 1
        nums1\[:\] = sorted
```
 
  
 
ä¹Ÿå¯ä»¥æŠŠlist2åŠ åˆ°list1å å¿«æ’ æˆ–è€… å½’å¹¶æ’åº
 
#### å¤šæ•°å…ƒç´ 
 
[169\. å¤šæ•°å…ƒç´ ](https://leetcode.cn/problems/majority-element/)
 
æ€è·¯ï¼šåŠ¨è„‘ç­‹
 
```python
class Solution:
    def majorityElement(self, nums: List\[int\]) -> int:
        nums.sort()
        return nums\[len(nums) // 2\]
```
 
#### è·¯å¾„æ€»å’Œ
 
[113\. è·¯å¾„æ€»å’Œ II](https://leetcode.cn/problems/path-sum-ii/)
 
æ€è·¯ï¼šdfs+å›æº¯
 
```python
class Solution:
    def pathSum(self, root: Optional\[TreeNode\], targetSum: int) -> List\[List\[int\]\]:
 
        def addpath(root, presum):
            
            if not root.left and not root.right:
                if presum == 0:
                    result.append(path\[:\])
                    return 
 
            if root.left:
                path.append(root.left.val)
                addpath(root.left, presum-root.left.val)
                path.pop()
            if root.right:
                path.append(root.right.val)
                addpath(root.right, presum-root.right.val)
                path.pop()
 
 
        result = \[\]
        
        if not root:
            return \[\]
        path = \[root.val\]
        addpath(root,targetSum-root.val)
        return result
```
 
#### åè½¬é“¾è¡¨
 
[92\. åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
![](https://pic2.zhimg.com/80/v2-5b6ff0d69c9a5538e57a058571000469_1440w.webp)
 
```python
class Solution:
    def reverseBetween(self, head: ListNode, left: int, right: int) -> ListNode:
        def reverse\_linked\_list(head: ListNode):
            # ä¹Ÿå¯ä»¥ä½¿ç”¨é€’å½’åè½¬ä¸€ä¸ªé“¾è¡¨
            pre = None
            cur = head
            while cur:
                next = cur.next
                cur.next = pre
                pre = cur
                cur = next
 
        # å› ä¸ºå¤´èŠ‚ç‚¹æœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹å¯ä»¥é¿å…å¤æ‚çš„åˆ†ç±»è®¨è®º
        dummy_node = ListNode(-1)
        dummy_node.next = head
        pre = dummy_node
        # ç¬¬ 1 æ­¥ï¼šä»è™šæ‹Ÿå¤´èŠ‚ç‚¹èµ° left - 1 æ­¥ï¼Œæ¥åˆ° left èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹
        # å»ºè®®å†™åœ¨ for å¾ªç¯é‡Œï¼Œè¯­ä¹‰æ¸…æ™°
        for _ in range(left - 1):
            pre = pre.next
 
        # ç¬¬ 2 æ­¥ï¼šä» pre å†èµ° right - left + 1 æ­¥ï¼Œæ¥åˆ° right èŠ‚ç‚¹
        right_node = pre
        for _ in range(right - left + 1):
            right\_node = right\_node.next
        # ç¬¬ 3 æ­¥ï¼šåˆ‡æ–­å‡ºä¸€ä¸ªå­é“¾è¡¨ï¼ˆæˆªå–é“¾è¡¨ï¼‰
        left_node = pre.next
        curr = right_node.next
 
        # æ³¨æ„ï¼šåˆ‡æ–­é“¾æ¥
        pre.next = None
        right_node.next = None
 
        # ç¬¬ 4 æ­¥ï¼šåŒç¬¬ 206 é¢˜ï¼Œåè½¬é“¾è¡¨çš„å­åŒºé—´
        reverse\_linked\_list(left_node)
        # ç¬¬ 5 æ­¥ï¼šæ¥å›åˆ°åŸæ¥çš„é“¾è¡¨ä¸­
        pre.next = right_node
        left_node.next = curr
        return dummy_node.next
```
 
#### rand7å®ç°rand10
 
[470\. ç”¨ Rand7() å®ç° Rand10()](https://leetcode.cn/problems/implement-rand10-using-rand7/)
 
æ€è·¯ï¼šç©è„‘è¢‹
 
```python
class Solution:
    def rand10(self) -> int:
        while True:
            row = rand7()
            col = rand7()
            idx = (row - 1) * 7 + col
            if idx <= 40:
                return 1 + (idx - 1) % 10
```
 
#### æœç´¢äºŒç»´çŸ©é˜µ
 
[74\. æœç´¢äºŒç»´çŸ©é˜µ](https://leetcode.cn/problems/search-a-2d-matrix/)
 
æ€è·¯ï¼šäºŒåˆ†æ³•
 
```python
class Solution:
    def searchMatrix(self, matrix: List\[List\[int\]\], target: int) -> bool:
        '''ä¸¤æ¬¡äºŒåˆ†æ³•'''
        """
        æ€è·¯ï¼š
            ç¬¬ä¸€æ¬¡äºŒåˆ†æ³•ç¡®å®šç›®æ ‡ä½äºå“ªä¸€è¡Œ
            ç¬¬äºŒæ¬¡äºŒåˆ†æ³•ï¼Œåˆ¤æ–­æ˜¯å¦åœ¨è¿™ä¸€è¡Œ
        """
        # ç¬¬ä¸€æ¬¡äºŒåˆ†æ³•ç¡®å®šç›®æ ‡ä½äºå“ªä¸€è¡Œ
        m = len(matrix)
        n = len(matrix\[0\])
        l = 0
        r = m - 1
        while l < r:
            mid = (l + r + 1) // 2
            if matrix\[mid\]\[0\] < target:
                l = mid 
            elif matrix\[mid\]\[0\] > target:
                r = mid - 1
            else:
                return True
        row = l  # è®°å½•åœ¨å“ªä¸€è¡Œ
 
        # ç¬¬äºŒæ¬¡äºŒåˆ†æ³•ï¼Œåˆ¤æ–­æ˜¯å¦åœ¨è¿™ä¸€è¡Œ
        l = 0
        r = n - 1
        while l <= r:
            mid = (l + r) // 2
            if matrix\[row\]\[mid\] < target:
                l = mid + 1
            elif matrix\[row\]\[mid\] > target:
                r = mid - 1
            else:
                return True
        return False
```
 
#### å•è¯æœç´¢
 
[79\. å•è¯æœç´¢](https://leetcode.cn/problems/word-search/)
 
æ€è·¯ï¼šdfs+å›æº¯
 
```python
class Solution:
    def exist(self, board: List\[List\[str\]\], word: str) -> bool:
 
        m = len(board)
        n = len(board\[0\])
        if(len(word)>m*n):
            return False
        track = \[\]
        res = \[\]
 
 
        def dfs(board, i,j, step):
 
            if(len(track)==len(word)):
                res.append(track)
 
            if (not 0<=i<=m-1 or not 0<=j<=n-1 or len(track)>len(word) or step>len(word)-1 or board\[i\]\[j\]!=word\[step\] or board\[i\]\[j\] == '#'):
                return
            
            track.append(board\[i\]\[j\])
            
            tmp = board\[i\]\[j\]
            board\[i\]\[j\] = '#'
 
            dfs(board, i-1, j, step+1)
            dfs(board,i,j-1,step+1) 
            dfs(board,i+1,j,step+1) 
            dfs(board, i,j+1,step+1)
 
            board\[i\]\[j\] = tmp
            track.pop()
 
 
        for i in range(m):
            for j in range(n):
                step = 0
 
                if(board\[i\]\[j\]==word\[0\]):
                    dfs(board,i,j,step)
                    
        if(len(res)!=0):
            return True
 
        else:
            return False
```
 
#### æœ‰åºæ•°ç»„ä¸­æ‰¾å¤´å°¾ä½ç½®
 
[34\. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)
 
æ€è·¯ï¼šäºŒåˆ†æ³• æ³¨æ„èŒƒå›´
 
```python
class Solution:
    def searchRange(self, nums: List\[int\], target: int) -> List\[int\]:
        result = \[\]
        left, right = 0, len(nums)-1
        while left<right:
            mid = (left+right)//2
            if(target>nums\[mid\]):
                left = mid+1
            elif(target<nums\[mid\]):
                right = mid-1
            else:
                right = mid
        if(len(nums)>left>-1 and nums\[left\]==target):
            result.append(left)
        else:
            result.append(-1)
        #print(result)
        left, right = 0, len(nums)-1
        while left<right:
            mid = ceil((left+right)/2)
            if(target>nums\[mid\]):
                left = mid+1
            elif(target<nums\[mid\]):
                right = mid-1
            else:
                left = mid
        if(len(nums)>right>-1 and nums\[right\]==target):
            result.append(right)
        else:
            result.append(-1)
        
        return result
```
 
#### ä¸‰æ•°ä¹‹å’Œ

[15\. ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def threeSum(self, nums):
        ans = \[\]
        n = len(nums)
        nums.sort()
        for i in range(n):
            left = i + 1
            right = n - 1
            if nums\[i\] > 0:
                break
            if i >= 1 and nums\[i\] == nums\[i - 1\]:
                continue
            while left < right:
                total = nums\[i\] + nums\[left\] + nums\[right\]
                if total > 0:
                    right -= 1
                elif total < 0:
                    left += 1
                else:
                    ans.append(\[nums\[i\], nums\[left\], nums\[right\]\])
                    while left != right and nums\[left\] == nums\[left + 1\]: left += 1
                    while left != right and nums\[right\] == nums\[right - 1\]: right -= 1
                    left += 1
                    right -= 1
        return ans
```
 
#### ä¸¤æ•°ä¹‹å’Œ
 
[1\. ä¸¤æ•°ä¹‹å’Œ](https://leetcode.cn/problems/two-sum/)
 
æ€è·¯ï¼šå“ˆå¸Œè¡¨åŒ¹é…
 
```python
class Solution:
    def twoSum(self, nums: List\[int\], target: int) -> List\[int\]:
        hashtable = dict()
        for i, num in enumerate(nums):
            if target - num in hashtable:
                return \[hashtable\[target - num\], i\]
            hashtable\[nums\[i\]\] = i
        return \[\]
```
 
#### äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†
 
[103\. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†](https://leetcode.cn/problems/binary-tree-zigzag-level-order-traversal/)
 
æ€è·¯ï¼šå±‚åºéå†
 
```python
class Solution:
    def maxSubArray(self, nums: List\[int\]) -> int:
        sum_ = float('-inf')
        result = float('-inf')
        for i in range(len(nums)):
            if sum_>0:
                sum_ = sum_ + nums\[i\]
            else:
                sum_ = nums\[i\]
            
            result = max(sum_, result)
        return result
```
 
#### ç¯å½¢é“¾è¡¨
 
[141\. ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/linked-list-cycle/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def hasCycle(self, head: Optional\[ListNode\]) -> bool:
        slow, fast = head, head
 
        while fast!=None and fast.next!=None:
            slow = slow.next
            fast = fast.next.next
 
            if slow==fast:
                return True
 
        return False
```
 
#### åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨
 
[21\. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    def mergeTwoLists(self, list1: Optional\[ListNode\], list2: Optional\[ListNode\]) -> Optional\[ListNode\]:
        result = ListNode(0)
        real = result
        p1 = list1
        p2 = list2
        while p1!=None and p2!=None:
            if(p1.val<=p2.val):
                tmp = ListNode(p1.val)
                result.next = tmp
                result = tmp
                p1 = p1.next
            else:
                tmp = ListNode(p2.val)
                result.next = tmp
                result = tmp
                p2 = p2.next
        
        if(p1!=None):
            result.next = p1
        if(p2!=None):
            result.next = p2
        
        return real.next
```
 
#### é¢ å€’å­—ç¬¦ä¸²å•è¯

[151\. é¢ å€’å­—ç¬¦ä¸²ä¸­çš„å•è¯](https://leetcode.cn/problems/reverse-words-in-a-string/)
 
æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
```python
class Solution:
    #1.å»é™¤å¤šä½™çš„ç©ºæ ¼
        def trim_spaces(self,s):     
            n=len(s)
            left=0
            right=n-1
        
            while left<=right and s\[left\]==' ':       #å»é™¤å¼€å¤´çš„ç©ºæ ¼
                left+=1
            while left<=right and s\[right\]==' ':        #å»é™¤ç»“å°¾çš„ç©ºæ ¼
                right-=1
            tmp=\[\]
            while left<=right:                                    #å»é™¤å•è¯ä¸­é—´å¤šä½™çš„ç©ºæ ¼
                if s\[left\]!=' ':
                    tmp.append(s\[left\])
                elif tmp\[-1\]!=' ':                                  
                    #å½“å‰ä½ç½®æ˜¯ç©ºæ ¼ï¼Œä½†æ˜¯ç›¸é‚»çš„ä¸Šä¸€ä¸ªä½ç½®ä¸æ˜¯ç©ºæ ¼ï¼Œåˆ™è¯¥ç©ºæ ¼æ˜¯åˆç†çš„
                    tmp.append(s\[left\])
                left+=1
            return tmp
    #2.ç¿»è½¬å­—ç¬¦æ•°ç»„
        def reverse_string(self,nums,left,right):
            while left<right:
                nums\[left\], nums\[right\]=nums\[right\],nums\[left\]
                left+=1
                right-=1
            return None
    #3.ç¿»è½¬æ¯ä¸ªå•è¯
        def reverse\_each\_word(self, nums):
            start=0
            end=0
            n=len(nums)
            while start<n:
                while end<n and nums\[end\]!=' ':
                    end+=1
                self.reverse_string(nums,start,end-1)
                start=end+1
                end+=1
            return None
 
    #4.ç¿»è½¬å­—ç¬¦ä¸²é‡Œçš„å•è¯
        def reverseWords(self, s): #æµ‹è¯•ç”¨ä¾‹ï¼š"the sky is blue"
            l = self.trim_spaces(s)                     
            #è¾“å‡ºï¼š\['t', 'h', 'e', ' ', 's', 'k', 'y', ' ', 'i', 's', ' ', 'b', 'l', 'u', 'e'
            self.reverse_string( l,  0, len(l) - 1)   
            #è¾“å‡ºï¼š\['e', 'u', 'l', 'b', ' ', 's', 'i', ' ', 'y', 'k', 's', ' ', 'e', 'h', 't'\]
            self.reverse\_each\_word(l)               
            #è¾“å‡ºï¼š\['b', 'l', 'u', 'e', ' ', 'i', 's', ' ', 's', 'k', 'y', ' ', 't', 'h', 'e'\]
            return ''.join(l)
```
 
#### å…¨æ’åˆ—
 
[46\. å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)
 
æ€è·¯ï¼šdfs å›æº¯
 
```python
class Solution:
    def permute(self, nums: List\[int\]) -> List\[List\[int\]\]:
 
        track = \[\]
        tracklist = \[\]
 
        def dfs(nums,track,tracklist):
            
             
            if(len(track)==len(nums)):
                tracklist.append(track.copy())
                return 
            
            
            for i in range(len(nums)):
                if(nums\[i\] in track):
                    continue
                track.append(nums\[i\])
                dfs(nums,track,tracklist)
                track.pop()
 
        dfs(nums,track,tracklist)
        return tracklist
```
 
#### éªŒè¯äºŒå‰æœç´¢æ ‘
 
[98\. éªŒè¯äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/validate-binary-search-tree/)
 
æ€è·¯ï¼šä¸­åºéå† çœ‹æ˜¯å¦å‡åº
 
```python
class Solution:
    def isValidBST(self, root: Optional\[TreeNode\]) -> bool:
        candidate_list = \[\]
        # ä¸­åºéå†
 
        def traverse(root):
 
            if not root:
                return 
            traverse(root.left)
            candidate_list.append(root.val)
            traverse(root.right)
 
        def issorted(nums):
            for i in range(1, len(nums)):
                if nums\[i\]<=nums\[i-1\]:
                    return False
 
            return True
 
        traverse(root)
        return issorted(candidate_list)
```
 
#### å›æ–‡é“¾è¡¨
 
[234. å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/palindrome-linked-list/)  

æ€è·¯ï¼šåŒæŒ‡é’ˆ
 
> å¿«æŒ‡é’ˆèµ°åˆ°æœ«å°¾ï¼Œæ…¢æŒ‡é’ˆåˆšå¥½åˆ°ä¸­é—´ã€‚å…¶ä¸­æ…¢æŒ‡é’ˆå°†å‰åŠéƒ¨åˆ†åè½¬ã€‚ç„¶åæ¯”è¾ƒã€‚
 
```
class Solution:
    def isPalindrome(self, head: ListNode) -> bool:
        slow = head
        fast = head
        pre = head
        prepre = None
        while fast and fast.next:
            #preè®°å½•åè½¬çš„å‰åŠä¸ªåˆ—è¡¨ï¼Œslowä¸€ç›´æ˜¯åŸè¡¨ä¸€æ­¥æ­¥èµ°
            pre = slow
            slow = slow.next
            fast = fast.next.next
 
            pre.next = prepre
            prepre = pre
 
        if fast:#é•¿åº¦æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°å¯¹åº”ä¸åŒæƒ…å†µ è¿›å…¥åæ˜¯å¥‡æ•°
            slow = slow.next  
        
        while slow and pre:
            if slow.val != pre.val:
                return False
            slow = slow.next
            pre = pre.next
        return True
```
 
  
 
[739\. æ¯æ—¥æ¸©åº¦](https://leetcode.cn/problems/daily-temperatures/)
 
æ€è·¯ï¼šå•è°ƒæ ˆ å­˜ä¸‹æ ‡ï¼ˆå¥½å¤„ï¼šèƒ½è®°ä½ä½ç½® ä¹Ÿèƒ½å¯¹åº”åˆ°å€¼ï¼‰
 
```
class Solution:
    def dailyTemperatures(self, temperatures: List\[int\]) -> List\[int\]:
 
        res = \[0\]*len(temperatures)
        stack = \[\]
 
        for i in range(len(temperatures)):
            while stack and temperatures\[i\]>temperatures\[stack\[-1\]\]:
                small = stack.pop()
                res\[small\] = i-small
 
            stack.append(i)
 
        return res
```
 
#### äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨
 
[114\. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode.cn/problems/flatten-binary-tree-to-linked-list/)
 
æ€è·¯ï¼šå¤šæŒ‡é’ˆç§»åŠ¨
 
```python
class Solution:
    def flatten(self, root: TreeNode) -> None:
        curr = root
        while curr:
            if curr.left:
                predecessor = nxt = curr.left
                while predecessor.right:
                    predecessor = predecessor.right
                predecessor.right = curr.right
                curr.left = None
                curr.right = nxt
            curr = curr.right
```
 
  
 
```python
class Solution:
    def mergeKLists(self, lists: List\[ListNode\]) -> ListNode:
        if not lists:
            return None
        n = len(lists)
        return self.merge_sort(lists, 0, n - 1)
    
 
    def merge_sort(self, lists: List\[ListNode\], l: int, r: int) -> ListNode:
        if l == r:
            return lists\[l\]
        mid = (l + r) // 2
        L = self.merge_sort(lists, l, mid)
        R = self.merge_sort(lists, mid + 1, r)
        return self.merge(L, R)
    
    def merge(self, a: ListNode, b: ListNode) -> ListNode:
        dummy = ListNode(-1)
        x = dummy
        while a and b:
            if a.val < b.val:
                x.next = a
                a = a.next
            else:
                x.next = b
                b = b.next
            x = x.next
        if a:
            x.next = a
        if b:
            x.next = b
        return dummy.next
```


# Done
