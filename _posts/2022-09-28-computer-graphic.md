---
layout: post
title:  "è®¡ç®—æœºå›¾å½¢å­¦ - Computer Graphic"
date:   2022-09-28 09:03:00
categories: è®¡ç®—æœºåŸºç¡€ è®¡ç®—æœºè§†è§‰
tags: å›¾å½¢å­¦ opengl webgl three.js æ¸¸æˆ
excerpt: è®¡ç®—æœºå›¾å½¢å­¦åŠç›¸å…³åº”ç”¨
mathjax: true
permalink: /graphic
---

* content
{:toc}


# æ€»ç»“

- å›¾å½¢ + æ•°å­¦ + ä½“ç³»ç»“æ„ + æ“ä½œç³»ç»Ÿ + è½¯ä»¶å·¥ç¨‹ + è®¾è®¡æ¨¡å¼ + ç¼–è¯‘åŸç† + (C++åŠŸåŠ›) â‰ˆ æ›´å¥½çš„3D è½¯ä»¶å·¥ç¨‹å¸ˆ

## WebGLï¼ŒOpenGLå’ŒOpenGL ES

OpenGLä½œä¸ºä¸€ä¸ªè§„èŒƒ/æ¥å£å‘Šè¯‰é©±åŠ¨å¦‚ä½•å’Œ GPU é€šä¿¡ï¼Œå‘å±•è‡³ä»ŠåµŒå…¥å¼è®¾å¤‡å´›èµ·ï¼ŒOpenGL ES ä¹Ÿåº”è¿è€Œç”Ÿï¼ŒWebGL æ˜¯åŸºäº OpenGL ES å¯ä»¥è®©å…¶åœ¨æµè§ˆå™¨ä¸Šé€šè¿‡ Javascript è°ƒç”¨çš„è§„èŒƒ/æ¥å£ï¼Œä½† WebGL é—¨æ§›ä¸ä½ï¼Œè¦å’ŒGPUé€šä¿¡ï¼Œå°±éœ€è¦äº†è§£è®¡ç®—æœºå›¾å½¢å­¦çŸ¥è¯†ï¼Œé‚£è‚¯å®šä¹Ÿéœ€è¦ç”¨åˆ°ç€è‰²å™¨ï¼Œæ‰€ä»¥ Three.js å°è£…å¥½æˆä¸ºä¸‰ç»´å¼•æ“ï¼Œä¹Ÿä¸ç”¨çŸ¥é“é‚£ä¹ˆå¤šåº•å±‚çŸ¥è¯†ï¼Œå°±å¯ä»¥åˆ›å»º Web 3Dã€‚

OpenGL ESå¯ä»¥è¯´æ˜¯OpenGLä¸ºäº†æ»¡è¶³åµŒå…¥å¼è®¾å¤‡éœ€æ±‚è€Œå¼€å‘ä¸€ä¸ªç‰¹æ®Šç‰ˆæœ¬ï¼Œæ˜¯å…¶ä¸€ä¸ªå­é›†ï¼›è€ŒWebGLï¼Œæ˜¯ä¸ºäº†ç½‘é¡µæ¸²æŸ“æ•ˆæœï¼Œå°†JavaScriptå’ŒOpenGL ES 2.0ç»“åˆåœ¨ä¸€èµ·ï¼Œé€šè¿‡å¢åŠ OpenGL ES 2.0çš„ä¸€ä¸ªJavaScriptç»‘å®šå¾—åˆ°ã€‚åŸºæœ¬å…³ç³»å¦‚[å›¾](https://img-blog.csdnimg.cn/20200828172505903.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzIzMDM0NTE1,size_16,color_FFFFFF,t_70)
- å®é™…åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œå‰ç«¯çš„WebGLæ˜¯é€šè¿‡JSè¯­å¥ï¼Œæ“ä½œæœ¬åœ°çš„OpenGLçš„éƒ¨åˆ†æ¥å£ï¼Œå¯¹äºç§»åŠ¨è®¾å¤‡è¿™æ˜¯æ“ä½œOpenGL ESçš„æ¥å£ï¼Œæ¥å®ç°é¡µé¢çš„å›¾å½¢çš„æ¸²æŸ“ï¼ŒWebGLåªæ˜¯ç»‘å®šå¤–é¢æ¥å£çš„ä¸€å±‚ï¼Œå†…éƒ¨çš„ä¸€äº›æ ¸å¿ƒå†…å®¹ï¼Œå¦‚ç€è‰²å™¨ï¼Œæè´¨ï¼Œç¯å…‰ç­‰éƒ½æ˜¯éœ€è¦å€ŸåŠ©GLSL ESè¯­æ³•æ¥æ“ä½œçš„ã€‚

[WebGLï¼ŒOpenGLå’ŒOpenGL ESä¸‰è€…çš„å…³ç³»](https://blog.csdn.net/qq_23034515/article/details/108283747)
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrlHx4QVO7yC~noop.image)

# è®¡ç®—æœºå›¾å½¢å­¦


## å¦‚ä½•è®©3Dç©ºé—´ç‚¹åæ ‡è½¬ä¸ºå±å¹•2DäºŒç»´ç‚¹åæ ‡ï¼Ÿ

æµ…çœ‹ 3Dç©ºé—´ç‚¹ to å±å¹• 2DäºŒç»´ç‚¹
- å½“å¯¹æ¯ä¸ªç‰©ä½“ğŸ¦– å»ºæ¨¡çš„æ—¶å€™ï¼Œç‰©ä½“æœ¬èº«æ˜¯æœ‰è‡ªå·±çš„ç‹¬ç«‹åæ ‡ç³»`å±€éƒ¨åæ ‡ç³»` Local Spaceï¼Œä½† ğŸ¦– ğŸŒ¸ğŸŒ¸ğŸŒ±ğŸŒ¿ æ”¾åˆ°åœºæ™¯ä¸­å°±æœ‰ä¸åŒæ”¾ç½®ä½ç½®ï¼Œæ‰€æœ‰ç‰©ä½“å…±äº«åŒä¸€ä¸ªåæ ‡ç³»ï¼Œå«`ä¸–ç•Œåæ ‡ç³»` World Space
- åœ¨`ä¸–ç•Œåæ ‡ç³»`åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬æ˜¯ä»æ­£é¢æŸä¸ªä½ç½®å»è§‚å¯Ÿ ğŸ¦–ï¼Œå¦‚æœè§†è§’å˜åŒ–è‡³æ²¿ç€Zè½´è´Ÿæ–¹å‘çœ‹å‘¢ï¼Ÿåˆæ˜¯å¦å¤–ä¸€ä¸ªç”»é¢ï¼Œå«åš`è§†è§‰åæ ‡ç³»` View Spaceã€‚
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrn35GD6Sakr~noop.image?_iz=58558&from=article.pc_detail&x-expires=1665021396&x-signature=ccdph1LNEKoVPdzXxsuUoZa1KDY%3D)

è¿˜æœ‰ä¸¤ä¸ªåæ ‡ç³»è¯´æ˜ï¼š
- `è£å‰ªåæ ‡ç³»` Clip Space /DNC: å½’ä¸€åŒ–å¤„ç†ï¼Œå’Œ éœ€è¦åˆ¤æ–­å“ªä¸ªç‰‡æ®µéœ€è¦å±•ç¤ºåœ¨å±å¹•å†…ã€‚(è¿™é‡Œä¸åšå±•å¼€è·Ÿæœºå™¨å­¦ä¹ å½’ä¸€åŒ–ç›®æ ‡ä¸€è‡´ï¼Œç»Ÿè®¡å­¦ä¸­æ•°æ®æ”¶æ•›ä½œç”¨)
- `å±å¹•åæ ‡ç³»` Screen Spaceï¼šæ ¹æ®è£å‰ªåæ ‡ç³»è®¡ç®—ï¼Œå†è½¬æ¢ä¸ºå±å¹•åæ ‡ã€‚æœ€åå°†æ•°æ®ä¼ åˆ°å…‰æ …å™¨ã€‚

é€šä¿—ç†è§£
- æˆ‘ä»¬æ¯ä¸ªäººéƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹ä¸ªä½“éƒ½ä»¥"è‡ªæˆ‘ä¸ºä¸­å¿ƒ" (`å±€éƒ¨`åæ ‡ç³»)
- éšç€æˆ‘ä»¬é•¿å¤§è¦è¿›å…¥ç¤¾ä¼š (`ä¸–ç•Œ`åæ ‡ç³»)ï¼Œå­¦ä¹ ã€å·¥ä½œ ....
- åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰äººä»°è§†ä½ ï¼Œæœ‰äººä¿¯è§†ä½ ï¼Œä½ å¯ä»¥é€‰æ‹©å¹³è§†ä»–ä»¬ æˆ–è€… åè„‘å‹ºå¯¹ç€ä»–ä»¬ï¼Œæ€»ä¹‹å…¶ä»–äººä¼šç«™åœ¨è‡ªå·±çš„è§’åº¦çœ‹é—®é¢˜ æˆ–è€… çœ‹ä½  (`è§†è§‰`åæ ‡ç³») ....
- AnyWayï¼Œè¿‡ç¨‹ä¸­ä½ å¯èƒ½ä¼šç”Ÿæ´»ç£¨å¹³æ£±è§’ (`è£å‰ª`åæ ‡ç³»)ï¼Œå˜æˆäº†ä½ å°æ—¶å€™æœ€è®¨åŒçš„äººï¼Œ
- Butï¼Œä½ å°±æ˜¯ä½ ï¼Œæ˜¯ä¸ä¸€æ ·çš„çƒŸç«ï¼Œ.... è®©è”·è–‡å¼€å‡ºä¸€ç§ç»“æœ (`å±å¹•`åæ ‡ç³»)

## å›¾å½¢å­¦ä¸çº¿æ€§ä»£æ•°

åæ ‡ç³»è½¬æ¢è¿‡ç¨‹ç¦»ä¸å¼€çº¿æ€§ä»£æ•°åŸºç¡€çŸ¥è¯†
- ï¼ˆ1ï¼‰`å±€éƒ¨`ç©ºé—´->`ä¸–ç•Œ`ç©ºé—´ï¼Œæ¶‰åŠçŸ©é˜µçš„å¹³ç§»ã€ç¼©æ”¾ã€æ—‹è½¬
  - ç¼©æ”¾ï¼šä»£è¡¨å¤šå°‘å€ï¼Œç¼©æ”¾S1ã€S2ã€S3 å€æ•°
    - ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrn3XA5q9ZqO~noop.image?_iz=58558&from=article.pc_detail&x-expires=1665021396&x-signature=qQsLXYyqsl2pyBWLN7U0oDzol34%3D)
  - å¹³ç§»ï¼š
    - ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrn428e5mWnm~noop.image?_iz=58558&from=article.pc_detail&x-expires=1665021396&x-signature=skMIw87L75j58a2uY4iFlzPenNo%3D)
  - æ—‹è½¬ï¼šç”± P(x, y, z) å˜ä¸º P' (x', y', z')ï¼Œæ—‹è½¬ Î¸ è§’åº¦ï¼Œç•¥è¿‡ ... å˜æ¢ - LearnOpenGL CN
- ï¼ˆ2ï¼‰`ä¸–ç•Œ`ç©ºé—´ -> `è§†è§‰`ç©ºé—´ï¼Œæ„å»ºçº¿æ€§å˜æ¢çŸ©é˜µ
  - ä»»ä½•æ–¹ä½è§‚å¯Ÿåˆ°çš„ç‰©ä½“éƒ½æ˜¯ä¸åŒçš„ï¼Œä»A ä½ç½® å˜æ¢è‡³ B ä½ç½®ï¼Œåªè¦çŸ¥é“ å˜æ¢å‰åçš„åŸºå‘é‡ï¼Œå°±èƒ½çŸ¥é“ è¿åŠ¨è‡³å“ªé‡Œï¼Œæ–¹æ³•é€šè¿‡çŸ©é˜µç›¸ä¹˜(å¯¹å‡ ä½•ç©ºé—´çš„çº¿æ€§å˜åŒ–) ....
  - çŸ©é˜µå‘é‡ä¹˜ç§¯: å˜æ¢åçš„åŸºå‘é‡* æœªå˜åŒ–å‰çš„ä½ç½® (x, y) = åŸºå‘é‡å˜æ¢åæ–°(x', y')
- ï¼ˆ3ï¼‰`è§†è§‰`ç©ºé—´ -> `è£å‰ª`ç©ºé—´ -> `å±å¹•`ç©ºé—´
  - å°† 3D ç‚¹ è¡¨ç¤ºåˆ° 2D ç‚¹ï¼Œ æŠ•å½±->ç‚¹ç§¯(å®é™…ä¸Šä¼šæ›´å¤æ‚äº›) ....
  - å†å°†èƒ½è§†è§‰å±•ç¤ºçš„ç©ºé—´å±•ç¤ºï¼Œä¸èƒ½å±•ç¤ºçš„è¢«å‰ªè£æ‰
  - å‰ªè£åç‚¹ä½ï¼Œä¼šå½’ä¸€åŒ–å¤„ç†ï¼Œä¿è¯äº¤ä»˜ç»™å‘å…‰äºŒæç®¡ã€‚

## å›¾å½¢æ¸²æŸ“ç®¡çº¿

åˆä¸­æ•°å­¦è®¡ç®—ç«‹æ–¹ä½“é¢ç§¯ï¼Œè€å¸ˆåœ¨ 2D é»‘æ¿ä¸Šç”»äº†XYZ è½´ï¼Œå¹¶éª—ä½ è¿™æ˜¯ä¸ª 3Dç«‹æ–¹ä½“(è§†è§‰ä¸Š)ã€‚
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrmCXAHtzkk1~noop.image)

ä»»ä½•ç”¨3Dç©ºé—´ä¸­è¡¨ç¤ºçš„äº‹ç‰©ï¼Œåœ¨ ğŸ–¥ ä¸­éƒ½æ˜¯2Dåƒç´ æ•°ç»„ï¼Œè€Œ WebGL/OpenGL å¤§éƒ¨åˆ†å·¥ä½œä¹Ÿæ˜¯æŠŠ3Dåæ ‡è½¬æ¢ä¸º2Dåƒç´ ã€‚è¿™ä¸ªè¿‡ç¨‹å«åš å›¾`å½¢æ¸²æŸ“ç®¡çº¿` RenderPipelineã€‚

ç»“åˆä¸Šé¢é‚£äº›ä¸ªGPU æ¨¡å‹é‡Œçš„ç ´ç®¡å­ï¼Œæœ‰ä¸€å †åŸå§‹å›¾å½¢æ•°æ® ç»è¿‡ ä¸€ä¸ªç ´ç®¡å­åï¼Œæœ€ç»ˆè¾“å‡ºè‡³å±å¹•ä¸­çš„è¿‡ç¨‹å°±æ˜¯ `å›¾å½¢æ¸²æŸ“ç®¡çº¿`ã€‚

å›¾å½¢æ¸²æŸ“ç®¡çº¿ Render Pipeline è¢«åˆ’åˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼Œè·Ÿå’±ä»¬çš„ByteCycle æµæ°´çº¿ä¸€æ ·ï¼Œæ¯ä¸ªé˜¶æ®µä¼šæŠŠä¸Šä¸ªé˜¶æ®µçš„è¾“å‡ºä½œä¸ºè¾“å…¥ï¼Œä¹Ÿå¯ä»¥ç†è§£æ˜¯å‡½æ•°å¼ç¼–ç¨‹ pipeline æ¨¡å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ä¸“é—¨çš„å‡½æ•° / å°ç¨‹åºå»å¤„ç†ï¼Œå‡½æ•° / å°ç¨‹åº â‰ˆ ç€è‰²å™¨ (Shader)ã€‚
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrmD8anxR5T~noop.image)

CPU å’Œ GPU æ˜¯é€šåŠ›åˆä½œçš„å…³ç³»æ¥æ¸²æŸ“å›¾åƒ
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrmEUEPcy8Vh~noop.image?_iz=58558&from=article.pc_detail&x-expires=1665021396&x-signature=ZNfLxj6lWpJMg0cjTPnQGDJ6WZM%3D)

æ¸²æŸ“ç®¡çº¿æŠ½è±¡æµç¨‹
- 3Dåæ ‡ è½¬ä¸º å¦ä¸€ç§3Dåæ ‡(åé¢ä¼šè§£é‡Š ä»å±€éƒ¨åˆ°ä¸–ç•Œåæ ‡ç³»)ï¼Œå¹¶å¯¹é¡¶ç‚¹å±æ€§è¿›è¡Œå¤„ç†ã€‚
- è®¡ç®—ä¸€ä¸ªåƒç´ çš„æœ€ç»ˆé¢œè‰²ã€‚ä¾‹å¦‚ä¸€ä¸ªç«‹æ–¹ä½“åœ¨ç¯å…‰ç…§å°„ä¸‹ä¼šæœ‰é˜´å½±ï¼Œè¿™é‡Œä¹Ÿä¼šå°†å…¶å¤„ç†ã€‚

é¡¶ç‚¹ç€è‰²å™¨
- å›¾å…ƒçš„è£…é…ï¼šå°† é¡¶ç‚¹ç€è‰²å™¨ è¾“å‡ºçš„ç‚¹ä½œä¸ºè¾“å…¥ï¼Œå¹¶ç»˜åˆ¶æˆå›¾å…ƒå½¢çŠ¶ã€‚
- å‡ ä½•ç€è‰²å™¨ï¼šå°† å›¾å…ƒå½¢çŠ¶ æ„é€ æˆæ–°çš„å›¾å…ƒ æˆ– å…¶ä»–å½¢çŠ¶ã€‚
- å…‰æ …åŒ–è¿‡ç¨‹ï¼šæŠŠ å›¾å…ƒ æ˜ å°„ä¸º æœ€ç»ˆå±å¹•ä¸Šç›¸åº”çš„ åƒç´ ã€‚
- ç‰‡æ®µç€è‰²å™¨
- æµ‹è¯•ä¸æ··åˆï¼šä¾‹å¦‚ æœ‰3Dé®æŒ¡åœºæ™¯ æˆ– ç‰©ä½“æ˜¯é€æ˜ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å°±éœ€è¦åˆ¤æ–­æ˜¯å¦åœ¨è¯¥å¸§è¢«ä¸¢å¼ƒã€‚
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrmF6JDTEgkK~noop.image?_iz=58558&from=article.pc_detail&x-expires=1665021396&x-signature=dzyTooVljPV7DrOLIcg4sl7o%2B7E%3D)

GLSL è¯­è¨€ï¼Œç±»ä¼¼Cè¯­è¨€ï¼Œä»¥ä¸‹æ˜¯é¡¶ç‚¹ç€è‰²å™¨çš„ä¾‹å­

```shell
 #version 300 es #å£°æ˜äº†ç€è‰²å™¨ç‰ˆæœ¬å· 300 ä»£è¡¨æ˜¯ 3.0 ä¹‹åç‰ˆæœ¬
in vec4 aPos ;
# in = è¾“å…¥å˜é‡ æµ®ç‚¹å‹å‘é‡vec4 å˜é‡åç§° aPos
# eg: aPos = {1.0, 1.0, 1.0, 1.0}
voidmain
{
  gl_Position = aPos ;
  # é¡¶ç‚¹ç€è‰²å™¨çš„å†…ç½®è¾“å‡ºå˜é‡
}
```

# OpenGL


## OpenGlç®€ä»‹

OpenGL(Open Graphics Library)
>- OpenGL is a cross-language, cross-platform application programming interface (API) for rendering 2D and 3D vector graphics. The API is typically used to interact with a graphics processing unit (GPU), to achieve hardware-accelerated rendering.
>- OpenGL æ˜¯API ã€æ˜¯è§„èŒƒã€‚GPU ç¡¬ä»¶å‚å•†éœ€è¦æ»¡è¶³ç»Ÿä¸€OpenGLè§„èŒƒã€‚è€Œ OpenGL ES (Open Graphics Library for Embedded Systems) æ˜¯ OpenGL å­é›†ï¼Œä¸“é—¨é’ˆå¯¹æ‰‹æœºç­‰åµŒå…¥å¼è®¾å¤‡è€Œè®¾è®¡çš„ã€‚

äººè¯ç‰ˆï¼šå‘åŠ¨æœº(GPU) é©±åŠ¨æ˜¯æ–¹å‘ç›˜ã€ç¦»åˆå™¨ç­‰ç­‰ï¼ŒOpenGL å®šä¹‰æ“çºµ å‘åŠ¨æœº(GPU) å‘åŠ¨è§„èŒƒï¼ŒOpenGL ä¸å…³å¿ƒæ–¹å‘ç›˜æ˜¯åœ†çš„è¿˜æ˜¯æ–¹çš„ï¼Œé©±åŠ¨ å‘åŠ¨æœº(GPU) å¹²æ´»å•¦ã€‚

ç”¨æ–¹å‘ç›˜ (é©±åŠ¨å™¨) -> ä¾ç…§è°ƒç”¨æ ‡å‡†ä½¿ç”¨ (OpenGL) -> æŒ‡æŒ¥å‘åŠ¨æœº (GPU) å¹²æ´»

# GLSL

GLSL(OpenGL Shading Language)

åé¢è®²åˆ°å›¾å½¢æ¸²æŸ“ç®¡çº¿ä¼šè¯´åˆ°ï¼Œè¿™é‡Œæµ…æµ…å…ˆé€šè¿‡ä¾‹å­æ„Ÿå—ä¸‹ ç«‹æ–¹ä½“ demoã€‚

ä»£ç é˜‰å‰²ç‰ˆï¼šæœ‰ç±»Cè¯­è¨€çš„ç€è‰²å™¨è¯­è¨€ã€æœ‰æˆ‘ä»¬ç†Ÿæ‚‰JSè¯­è¨€ã€æœ‰çŸ©é˜µç›¸ä¹˜ ...


# WebGL

ã€2022-9-29ã€‘[Web 3D ä»å…¥é—¨åˆ°è·‘è·¯](https://www.toutiao.com/article/7148436169880142369)

## WebGLç®€ä»‹

WebGL(Web Graphics Library)
>- WebGL is a cross-platform, royalty-free open web standard for a low-level 3D graphics API based on OpenGL ES, exposed to ECMAScript via the HTML5 Canvas element.
>- WebGL æ˜¯åœ¨ OpenGL ES åŸºç¡€ä¸Šå»ºç«‹çš„åœ¨ æµè§ˆå™¨è·‘èµ·æ¥çš„å›¾å½¢å­¦æ ‡å‡†ï¼ŒåŒç†æ˜¯æµè§ˆå™¨å‚å•†è§„èŒƒ â‰ˆ è®©JS æ“ä½œæ¥å£ã€‚å…‰æœ‰è§„èŒƒæ˜¯ä¸å¤Ÿçš„ï¼Œè¿˜è¦ç¨‹åºå‘Šè¯‰ GPU å¦‚ä½•è¿›è¡Œæ¸²æŸ“ã€‚

WebGLï¼Œæ˜¯ä¸€é¡¹ç”¨æ¥åœ¨ç½‘é¡µä¸Šç»˜åˆ¶å’Œæ¸²æŸ“å¤æ‚ä¸‰ç»´å›¾å½¢ï¼ˆ3Då›¾å½¢ï¼‰ï¼Œå¹¶å…è®¸ç”¨æˆ·ä¸ä¹‹äº¤äº’çš„æŠ€æœ¯ã€‚éšç€ä¸ªäººè®¡ç®—æœºå’Œæµè§ˆå™¨çš„æ€§èƒ½è¶Šæ¥è¶Šå¼ºï¼Œæˆ‘ä»¬èƒ½å¤Ÿåœ¨Webä¸Šåˆ›å»ºè¶Šæ¥è¶Šç²¾ç¾ã€è¶Šæ¥è¶Šå¤æ‚çš„3Då›¾å½¢ã€‚

ä»ä¼ ç»Ÿæ„ä¹‰ä¸Šæ¥è¯´ï¼Œä¸ºäº†æ˜¾ç¤ºä¸‰ç»´å›¾å½¢ï¼Œå¼€å‘è€…éœ€è¦ä½¿ç”¨Cæˆ–C++è¯­è¨€ï¼Œè¾…ä»¥ä¸“é—¨çš„è®¡ç®—æœºå›¾å½¢åº“ï¼Œå¦‚OpenGLæˆ–Direct3Dï¼Œæ¥å¼€å‘ä¸€ä¸ªç‹¬ç«‹çš„åº”ç”¨ç¨‹åºã€‚ç°åœ¨æœ‰äº†WebGLï¼Œæˆ‘ä»¬åªéœ€è¦å‘å·²ç»ç†Ÿæ‚‰çš„HTMLå’ŒJSä¸­æ·»åŠ ä¸€äº›é¢å¤–çš„ä¸‰ç»´å›¾å½¢å­¦çš„ä»£ç ï¼Œå°±å¯ä»¥åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºä¸‰ç»´å›¾å½¢äº†ã€‚

WebGLæ˜¯å†…åµŒåœ¨æµè§ˆå™¨ä¸­çš„ï¼Œä¸å¿…å®‰è£…æ’ä»¶å’Œåº“å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒã€‚

## 3Då»ºæ¨¡

3D å»ºæ¨¡æ¦‚å¿µå¿…å¤‡
- å¦‚æœä½ æ˜¯ä¸ªå¤§å¯¼æ¼”ï¼Œæœ‰ä¸€å¤©ä½ æƒ³è¯· å®‰çªæ‹‰å¤§å®è´å„¿ æ¥åŒ—äº¬ çŒ®æ­Œä¸€æ›²ï¼Œ
- è¦æœ‰åœ°ç‚¹ Scene åœºæ™¯ï¼Œé€‰æ‹© äººæ°‘å¤§ä¼šå ‚ä½œä¸º èˆå°å§ï¼›
- è¦æœ‰ç¯å…‰ Light ç¯å…‰, æ‰èƒ½è®©è§‚ä¼—çœ‹åˆ° å®‰çªæ‹‰å¤§å®è´å„¿ å”±æ­Œï¼›
- å…³äº å®‰çªæ‹‰å¤§å®è´ ä½œä¸º æ¨¡å‹ï¼Œæ¥ä¹‹å‰è¦ä¿å…»ä¸€ä¸‹ï¼Œçš®è‚¤çœ‹èµ·æ¥å¹å¼¹å¯ç ´æè´¨ Materialï¼›
- XXX å¤§å“ç‰Œç–¯ç‹‚èµåŠ©ï¼Œå¹¶è¦æ±‚å¥¹ç©¿ä¸Šæ–°ä¸€å­£ æœé¥° å’Œ é…ä¸Šå¦†å‘ è´´å›¾ä¸çº¹ç† Texture;
- ä¸€åˆ‡å‡†å¤‡å°±ç»ªåï¼ŒNä¸ªæœºå™¨ Camera ç›¸æœº360 åº¦æ— æ­»è§’çš„æ‹æ‘„ï¼Œå¥¹å”± XXXæ­Œæ›²ã€‚

è„‘æµ·é‡Œæ„å»ºå‡ºæ¥çš„ç”»é¢ â‰ˆ æ¸²æŸ“å™¨ Render
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjro986FYHQIz~noop.image?_iz=58558&from=article.pc_detail&x-expires=1665021396&x-signature=DqOTlUFAjtE%2B02pUnmIXHCl7jGY%3D)

Three.js demo è‡ªå·±å»å¯¹ç…§ç€æƒ³è±¡è¿™ä¸ªğŸ‘»ï¼Œå°±æ˜¯ å®‰çªæ‹‰å¤§å®è´å„¿ å§

ä»¥ä¸Šå‡ ä¸ªå…³é”®è¯æ˜¯ï¼šScene åœºæ™¯ã€Light ç¯å…‰ã€æ¨¡å‹ã€æè´¨ Materialã€Textureã€Camera ç›¸æœºã€æ¸²æŸ“å™¨ Renderã€‚

ç†è§£äº†ä»¥ä¸Šçš„å‡ ä¸ªæ¦‚å¿µåï¼Œå¯¹æˆ‘ä»¬å®è·µä¸Šæ‰‹åº”ç”¨ Three.js éå¸¸çš„å…³é”®ã€‚

### 3Då»ºæ¨¡å·¥å…·: three.js ä¸ Unity

ä½œè€…ï¼š[ThingJS](https://www.zhihu.com/question/273431132/answer/1531831742)

- Three.jsæ˜¯å¤§å¤šæ•°å¼€å‘è€…é¦–æ¬¡æ¥è§¦çš„WebGL 3Dåº“
- Unityä¸ºæ¸¸æˆå¼€å‘ã€ç¾æœ¯ã€å»ºç­‘ã€æ±½è½¦è®¾è®¡ã€å½±è§†åˆ¶ä½œåœ¨å†…çš„åˆ›ä½œè€…æä¾›ä¸€æ•´å¥—è½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚
- ThingJSæ˜¯æ›´ä¸ºä¸Šå±‚çš„æŠ½è±¡ï¼Œä¸ç”¨å…³å¿ƒæ¸²æŸ“ã€meshã€å…‰çº¿ç­‰å¤æ‚æ¦‚å¿µ

æ€»ç»“
- unity3dæ‰“åŒ…å‡ºæ¥çš„webé¡¹ç›®å ç”¨ç³»ç»Ÿèµ„æºæ¯”è¾ƒå¤§(éå¸¸å¤§)ï¼Œä½†æ˜¯å¼€å‘å¤æ‚äº¤äº’çš„é¡¹ç›®æ¯”threejså¿«å¾ˆå¤šå€
- threejsåªé€‚åˆäºåšå±•ç¤ºçš„é¡¹ç›®ï¼Œå¼€å‘é€Ÿåº¦ç›¸å¯¹æ…¢ä¸€äº›ï¼Œå› ä¸ºè¿™ä¸ªåº“çš„å°è£…å±‚é¢ç›¸å¯¹unity3dæ›´åº•å±‚ä¸€äº›ã€‚

three.jsä¼˜åŠ¿
- Three.jsæ˜¯å¤§å¤šæ•°å¼€å‘è€…é¦–æ¬¡æ¥è§¦çš„WebGL 3Dåº“ï¼ŒThreejsåº“çš„å‡ºç°è§£å†³äº†åº•å±‚çš„æ¸²æŸ“ç»†èŠ‚å’Œå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æ”¯æŒå¦‚ä¸€ä¸ªæˆ¿é—´çº§åˆ«,æˆ–ä¸€ä¸ªæ¥¼å±‚çº§åˆ«çš„æ¸²æŸ“,æˆ–ç¬¦åˆç‰¹æ®Šè¦æ±‚çš„å¤§é‡åŒç±»æ¨¡å‹çš„æ¸²æŸ“ã€‚

three.jså’ŒUnityå¼€å‘æ€§èƒ½æ¯”è¾ƒ
- three.jså¯¹WebGLè¿›è¡Œäº†å°è£…,æä¾›äº†æ›´é«˜å±‚çš„æ¸²æŸ“æ¥å£,æä¾›æ‘„å½±æœºã€è§†å£çš„æ§åˆ¶,æä¾›åœºæ™¯ç»„ç»‡æ–¹å¼,èƒ½å¤ŸåŠ è½½å¤šç§æ–‡ä»¶æ ¼å¼,é€šè¿‡åˆ›å»ºæè´¨ã€è´´å›¾å¹¶ç¼–å†™shaderæ¥å®ç°ç‰©ä½“æ•ˆæœ,åˆ›å»ºç«‹æ–¹ä½“ã€çƒç­‰åŸºæœ¬å…ƒç´ ,æä¾›ç¯å…‰ã€é˜´å½±ã€ç‚¹äº‘ç­‰ç­‰åº•å±‚åŠŸèƒ½ã€‚
- ç›¸æ¯”è€Œè¨€ï¼ŒUnity 3Déœ€è¦ä¸‹è½½å’Œå®‰è£…**Unityç¼–è¾‘å™¨**ä»¥ä¾¿åˆ›å»º3Dé¡¹ç›®ï¼ŒC#è¯­è¨€é¢å‘å¯¹è±¡çš„ç‰¹æ€§å®Œæ•´ï¼Œæœ‰åˆ©äºç¨‹åºè®¾è®¡ã€‚ 
- Unityç¼–è¾‘å™¨æä¾›äº†ä¸°å¯Œçš„æ¸¸æˆå¼€å‘åŠŸèƒ½ï¼ŒåŒ…æ‹¬åœºæ™¯çš„æ¸²æŸ“ã€ç‰©ä½“åˆ›å»ºã€å„ç§æ•ˆæœåœ¨ç¼–è¾‘ä¸­è°ƒæ•´ï¼Œåº”ç”¨å•†åº—æä¾›äº†ä¸°å¯Œçš„æ‰©å±•èƒ½åŠ›ï¼Œæ›´é€‚åˆå½±è§†åŠ¨ç”»å¼€å‘ç”Ÿæ€ã€‚è¿™ä¸€ç‚¹å’ŒUnityçš„å¼€å‘ä¼˜åŠ¿è¶‹åŒï¼ŒåŸºäºUnityå¼ºå¤§çš„ç¼–è¾‘å™¨,æä¾›äº†ä¸°å¯Œçš„æ¸¸æˆå¼€å‘åŠŸèƒ½ã€‚åŒ…æ‹¬åœºæ™¯çš„æ¸²æŸ“ã€ç‰©ä½“åˆ›å»ºã€å„ç§æ•ˆæœåœ¨ç¼–è¾‘ä¸­è°ƒæ•´ã€ç‰©ç†ç³»ç»Ÿã€åœ°å½¢ç³»ç»Ÿã€æ¤ç‰©ç³»ç»Ÿã€ç²’å­ç³»ç»Ÿã€è¿‡åœºåŠ¨ç”»ç¼–è¾‘ã€äººç‰©è§’è‰²åŠ¨ç”»ç¼–è¾‘ç­‰ç­‰ã€‚å¹¶ä¸”é€šè¿‡åº”ç”¨å•†åº—æä¾›äº†ä¸°å¯Œçš„æ‰©å±•èƒ½åŠ›

three.jsä¸è¶³ä¹‹å¤„
- è™½ç„¶Three.jsåº•å±‚å¼•æ“çº§åˆ«çš„ä¸‰ç»´å›¾å½¢åº“ï¼Œæœ‰å¾ˆå¤šå¼€æºåº“å¯¹å®ƒè¿›è¡Œæ‰©å±•ï¼Œä½†è¾ƒä¸ºæ¾æ•£ï¼Œé€‚åˆåšè½»é‡çº§å¯è§†åŒ–åº”ç”¨ï¼Œå¤æ‚åº”ç”¨åˆ™éœ€è¦åŸºäºæ­¤åº“è¿›è¡Œå¤§é‡å°è£…æ‰è¡Œã€‚å°¤å…¶åœºæ™¯è¾“å‡ºå±‚é¢ï¼Œéœ€è¦3 3DSMaxã€Mayaã€CADç­‰ä¸“ä¸šç¾æœ¯äººå‘˜,é€šè¿‡å»ºæ¨¡å†åšä¸€å®šçš„å¯¼å‡ºå·¥ä½œæ‰èƒ½å¾—åˆ°éœ€è¦çš„æ¨¡å‹ï¼Œå›¢é˜Ÿåä½œæˆæœ¬é«˜ã€‚

é—®é¢˜åŠ é¤ï¼šthree.jsï¼Œthingjs 3Dæ¡†æ¶å¯¹æ¯”
- ThingJSæ˜¯æ–°å…´çš„3Dæ¡†æ¶ï¼Œ2018å¹´è¯ç”Ÿï¼Œç”±åŒ—äº¬ä¼˜é”˜ç§‘æŠ€å…¬å¸ç ”å‘ï¼Œæ—¨åœ¨ç®€åŒ–3Dåº”ç”¨å¼€å‘ã€‚
- è½»é‡åŒ–çš„è¡¨ç°åœ¨ï¼š
  - 1ã€ThingJSå°è£…äº†å¯¹æ¨¡å‹äº¤äº’äº‹ä»¶çš„APIã€å¯¹æ¨¡å‹çš„æ“ä½œåŠå±‚æ¬¡å…³ç³»ï¼Œä¸€ä¸ªä¸ªå…·ä½“çš„æ¨¡å‹æŠ½è±¡æŠŠåˆå­¦è€…ä»å¤æ‚çš„3Dæ¦‚å¿µä¸­è§£æ”¾å‡ºæ¥ï¼Œ
  - 2ã€åŠ è½½ç®€å•åœºæ™¯ä»…éœ€1è¡Œä»£ç ï¼Œå‘å¸ƒæ–¹å¼æ”¯æŒiframe, å¾®ä¿¡å’ŒPCå‘å¸ƒï¼Œåœ¨çº¿åŒ–æ›´æ–¹ä¾¿
  - 3ã€ThingJSæ˜¯ä¸€ä¸ªå®Œæˆçš„ç‰©è”ç½‘å¯è§†åŒ–åº”ç”¨å¼€å‘ç”Ÿæ€ï¼Œæä¾›CampusBuilder, CityBuilderç­‰åœºæ™¯æ­å»ºSAASã€åœºæ™¯å­˜å‚¨äº‘ç©ºé—´ï¼ˆæ— éœ€ä»˜è´¹ï¼‰å’Œ10ä¸‡ä¸ªåœºæ™¯èµ„æºâ€¦â€¦
- å¦‚æœæ˜¯ä½ æ˜¯åˆå­¦è€…ï¼Œthree.jsç”¨èµ·æ¥æ›´èŠ±è´¹æ—¶é—´ï¼Œå°±ä¸€ä¸ªåŠ è½½æ¨¡å‹ã€è°ƒå…‰ã€é€‰æ‹©æ¨¡å‹å¼¹æ¡†çš„åŠŸèƒ½ï¼Œå°±èƒ½å†™å‡ºThreejsä¸Šç™¾è¡Œä»£ç ï¼ŒThingJSæ˜¯æ›´ä¸ºä¸Šå±‚çš„æŠ½è±¡ï¼Œä¸ç”¨å…³å¿ƒæ¸²æŸ“ã€meshã€å…‰çº¿ç­‰å¤æ‚æ¦‚å¿µï¼Œæ›´é€‚åˆé¡¹ç›®å›¢é˜Ÿæé«˜å¼€å‘æ•ˆç‡ã€‚


## Three.js

### Three.jsç®€ä»‹

WebGLå­¦ä¹ æœ‰é—¨æ§›ï¼Œ[Three.js](https://threejs.org/) ä½œä¸ºæ–¹å‘å…¥é—¨ï¼Œå°±åƒ jQuery ä¸€æ ·çš„å­˜åœ¨ï¼Œå¯ä»¥å¿«é€Ÿçš„åˆ›å»ºå‡ºä¸‰ç»´åœºæ™¯ã€‚
- ![](https://p3-sign.toutiaoimg.com/tos-cn-i-tjoges91tu/TIjrlIT9pDUcGs~noop.image)

åŸºäºæµè§ˆå™¨ï¼Œé€šè¿‡Javascript æ¥å®ç°ç¼–ç¨‹æŠ€æœ¯ï¼Œèƒ½åœ¨ 2Då±å¹• ä¸Šçœ‹åˆ° 3Dæ•ˆæœã€‚
- åŸºç¡€èƒ½åŠ›ï¼šæ•°å­¦ã€ç‰©ç† ....
- èƒ½åŠ›æ”¯æŒï¼šåŸºäº GPU å›¾å½¢æ¸²æŸ“ç®¡çº¿æ¶æ„è®¾è®¡ï¼Œåœ¨ Webç«¯ é€šè¿‡ WebGL (-> OpenGL ES -> OpenGL) å’Œ ç€è‰²å™¨ (ç€è‰²å™¨GLSL è¯­è¨€å®ç°)ï¼Œå®ç°é©±åŠ¨èƒ½åŠ›ã€‚(ä»»ä½•è¯­è¨€å®ç°éƒ½æ˜¯ä»¥ç¡¬ä»¶ä¸ºåŸºç¡€)

### Three.js æ•ˆæœ

[å®˜æ–¹ç¤ºä¾‹](https://threejs.org/examples/#webgl_animation_keyframes)

<iframe src="https://threejs.org/examples/#webgl_animation_keyframes" width='100%' height='600' frameborder='0' scrolling='no' allowfullscreen="true"></iframe>

è‡ªå®šä¹‰å¼€å‘Demo

<iframe src="{{ site.url }}/wqw/demo/three.js.html" frameborder='0' scrolling='no' allowfullscreen="true"></iframe>

- [é‹å­](https://threejs.org/examples/webgl_loader_gltf_variants.html)
  - <iframe src="https://threejs.org/examples/webgl_loader_gltf_variants.html" width='100%' height='600' frameborder='0' scrolling='no' allowfullscreen="true"></iframe>
- å®¤å†…åœºæ™¯ï¼š[æœç›˜](https://threejs.org/examples/webgl_loader_gltf_transmission.html)
  - <iframe src="https://threejs.org/examples/webgl_loader_gltf_transmission.html" width='100%' height='600' frameborder='0' scrolling='no' allowfullscreen="true"></iframe>
- [åˆéŸ³æœªæ¥](https://threejs.org/examples/webgl_loader_mmd.html)
  - <iframe src="https://threejs.org/examples/webgl_loader_mmd.html" width='100%' height='600' frameborder='0' scrolling='no' allowfullscreen="true"></iframe>
- [äººç‰©æ¨¡å‹](https://threejs.org/examples/webgl_loader_obj_mtl.html)
  - <iframe src="https://threejs.org/examples/webgl_loader_obj_mtl.html" width='100%' height='600' frameborder='0' scrolling='no' allowfullscreen="true"></iframe>
- [æ²™æ»©è±ªè½¦](https://threejs.org/examples/webgl_materials_envmaps_groundprojected.html)
  - <iframe src="https://threejs.org/examples/webgl_materials_envmaps_groundprojected.html" width='100%' height='600' frameborder='0' scrolling='no' allowfullscreen="true"></iframe>

## æ¸¸æˆ

### Three.js

3Dæ¸¸æˆï¼š[First Three.js Game](https://discourse.threejs.org/t/smelly-cat-first-three-js-game/12894), [smelly cat](https://defnetuncer98.github.io/smellycat/#)

### Godot

ã€2022-10-13ã€‘[Godot å¼•æ“](https://godotengine.org/)æ˜¯ä¸€æ¬¾å…è´¹ã€ç”±å¼€æºç¤¾åŒºé©±åŠ¨çš„ 2D å’Œ 3D æ¸¸æˆå¼•æ“
- [ä¸­æ–‡æ–‡æ¡£](https://docs.godotengine.org/zh_CN/latest/getting_started/first_2d_game/index.html)

[ç¨‹åºå‘˜ç”¨12å°æ—¶å¤åˆ»ã€Šç¾Šäº†ä¸ªç¾Šã€‹ï¼Œä»£ç å·²å¼€æº](https://www.toutiao.com/article/7153542634227876383)
- [Godotç‰ˆç¾Šäº†ä¸ªç¾Š](https://gitcode.net/hello_tute/SheepASheep)


### å¾®ä¿¡è·³ä¸€è·³

2018å¹´é£é¡ä¸€æ—¶çš„å°æ¸¸æˆï¼šè·³ä¸€è·³ï¼ŒèƒŒååŸç†åˆ†æï¼Œ[å¾®ä¿¡è·³ä¸€è·³è§£é¢˜æŠ¥å‘Š](https://charlesliuyx.github.io/2018/01/19/%E5%BE%AE%E4%BF%A1%E8%B7%B3%E4%B8%80%E8%B7%B3%E8%A7%A3%E9%A2%98%E6%8A%A5%E5%91%8A/#%E6%B8%B8%E6%88%8F%E6%9C%BA%E5%88%B6)
1. é—®é¢˜æè¿°
2. æ¸¸æˆæœºåˆ¶
3. è§£å†³æ–¹æ¡ˆ



# ç»“æŸ


