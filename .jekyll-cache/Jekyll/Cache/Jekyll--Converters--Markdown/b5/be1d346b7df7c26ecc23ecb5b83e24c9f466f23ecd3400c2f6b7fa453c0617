I"‚M<ul id="markdown-toc">
  <li><a href="#é¡µé¢è½½å…¥-input-è·å–ç„¦ç‚¹ç¤ºä¾‹" id="markdown-toc-é¡µé¢è½½å…¥-input-è·å–ç„¦ç‚¹ç¤ºä¾‹">é¡µé¢è½½å…¥ input è·å–ç„¦ç‚¹ç¤ºä¾‹</a>    <ul>
      <li><a href="#ä¸‹é¢æ˜¯å‡ ä¸ªé€‚åˆä½¿ç”¨-refs-çš„æƒ…å†µ" id="markdown-toc-ä¸‹é¢æ˜¯å‡ ä¸ªé€‚åˆä½¿ç”¨-refs-çš„æƒ…å†µ">ä¸‹é¢æ˜¯å‡ ä¸ªé€‚åˆä½¿ç”¨ refs çš„æƒ…å†µ</a></li>
      <li><a href="#å‹¿è¿‡åº¦ä½¿ç”¨-refs" id="markdown-toc-å‹¿è¿‡åº¦ä½¿ç”¨-refs">å‹¿è¿‡åº¦ä½¿ç”¨ Refs</a></li>
    </ul>
  </li>
  <li><a href="#å¯ä»¥åœæ­¢çš„è®¡æ—¶å™¨ç¤ºä¾‹" id="markdown-toc-å¯ä»¥åœæ­¢çš„è®¡æ—¶å™¨ç¤ºä¾‹">å¯ä»¥åœæ­¢çš„è®¡æ—¶å™¨ç¤ºä¾‹</a>    <ul>
      <li><a href="#class-ç»„ä»¶ç¤ºä¾‹" id="markdown-toc-class-ç»„ä»¶ç¤ºä¾‹">Class ç»„ä»¶ç¤ºä¾‹</a></li>
      <li><a href="#function-ç»„ä»¶ç¤ºä¾‹" id="markdown-toc-function-ç»„ä»¶ç¤ºä¾‹">Function ç»„ä»¶ç¤ºä¾‹</a></li>
    </ul>
  </li>
  <li><a href="#å°ç»“" id="markdown-toc-å°ç»“">å°ç»“</a></li>
</ul>

<p>æŒæ¡ React Hooks api å°†æ›´å¥½çš„å¸®åŠ©ä½ åœ¨å·¥ä½œä¸­ä½¿ç”¨ï¼Œå¯¹ React çš„æŒæ¡æ›´ä¸Šä¸€å±‚æ¥¼ã€‚æœ¬ç³»åˆ—å°†ä½¿ç”¨å¤§é‡å®ä¾‹ä»£ç å’Œæ•ˆæœå±•ç¤ºï¼Œéå¸¸æ˜“äºåˆå­¦è€…å’Œå¤ä¹ ä½¿ç”¨ã€‚</p>

<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦ä¸€èµ·å­¦ä¹  useRef hookï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬ç›´æ¥è®¿é—®åˆ°ç»„ä»¶ä¸­çš„çš„ Dom èŠ‚ç‚¹ã€‚æˆ‘ä»¬ä»Šå¤©é€šè¿‡ä¸€ä¸ª input è¾“å…¥æ¡†è·å–ç„¦ç‚¹çš„éœ€æ±‚ä¸ºä¾‹ï¼Œæ¥å­¦ä¹ ä¸€ä¸‹ useRefã€‚</p>

<h2 id="é¡µé¢è½½å…¥-input-è·å–ç„¦ç‚¹ç¤ºä¾‹">é¡µé¢è½½å…¥ input è·å–ç„¦ç‚¹ç¤ºä¾‹</h2>

<p>FocusInput.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useRef</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nx">FocusInput</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">inputRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLInputElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">inputRef</span><span class="p">.</span><span class="nx">current</span> <span class="o">&amp;&amp;</span> <span class="nx">inputRef</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
  <span class="p">},</span> <span class="p">[])</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">input</span> <span class="na">ref</span><span class="p">=</span><span class="si">{</span><span class="nx">inputRef</span><span class="si">}</span> <span class="na">type</span><span class="p">=</span><span class="s">"text"</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">FocusInput</span>
</code></pre></div></div>

<p>App.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./App.css</span><span class="dl">'</span>

<span class="k">import</span> <span class="nx">FocusInput</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./components/28FocusInput</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">FocusInput</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>
</code></pre></div></div>

<p>é¡µé¢å±•ç¤ºæ•ˆæœ</p>

<p><img src="https://user-gold-cdn.xitu.io/2020/5/26/1724cb32ada4ffc2?w=363&amp;h=125&amp;f=gif&amp;s=3929" alt="" /></p>

<p>æ³¨æ„ä¸ TypeScript ç»“åˆä½¿ç”¨æ—¶çš„æ–¹å¼ï¼Œéœ€è¦å…ˆå£°æ˜å¥½æ³›å‹</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">inputRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">HTMLInputElement</span><span class="o">&gt;</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
</code></pre></div></div>

<p>åŒæ—¶ä½¿ç”¨æ—¶éœ€è¦åˆ¤ç©º</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">inputRef</span><span class="p">.</span><span class="nx">current</span> <span class="o">&amp;&amp;</span> <span class="nx">inputRef</span><span class="p">.</span><span class="nx">current</span><span class="p">.</span><span class="nx">focus</span><span class="p">()</span>
</code></pre></div></div>

<p>å…³äº ts å’Œ hooks ç»“åˆçš„æ–¹å¼å¯ä»¥å‚è€ƒæ–‡ç«  <a href="https://fettblog.eu/typescript-react/hooks/#useref">TypeScript and React: Hooks</a>ã€‚</p>

<blockquote>
  <p><code class="language-plaintext highlighter-rouge">useRef</code> è¿”å›ä¸€ä¸ªå¯å˜çš„ ref å¯¹è±¡ï¼Œå…¶ <code class="language-plaintext highlighter-rouge">.current</code> å±æ€§è¢«åˆå§‹åŒ–ä¸ºä¼ å…¥çš„å‚æ•°ï¼ˆinitialValueï¼‰ã€‚è¿”å›çš„ ref å¯¹è±¡åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚</p>
</blockquote>

<p>Refs æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œå…è®¸æˆ‘ä»¬è®¿é—® DOM èŠ‚ç‚¹æˆ–åœ¨ render æ–¹æ³•ä¸­åˆ›å»ºçš„ React å…ƒç´ ã€‚</p>

<p>åœ¨å…¸å‹çš„ React æ•°æ®æµä¸­ï¼Œprops æ˜¯çˆ¶ç»„ä»¶ä¸å­ç»„ä»¶äº¤äº’çš„å”¯ä¸€æ–¹å¼ã€‚è¦ä¿®æ”¹ä¸€ä¸ªå­ç»„ä»¶ï¼Œä½ éœ€è¦ä½¿ç”¨æ–°çš„ props æ¥é‡æ–°æ¸²æŸ“å®ƒã€‚ä½†æ˜¯ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½ éœ€è¦åœ¨å…¸å‹æ•°æ®æµä¹‹å¤–å¼ºåˆ¶ä¿®æ”¹å­ç»„ä»¶ã€‚è¢«ä¿®æ”¹çš„å­ç»„ä»¶å¯èƒ½æ˜¯ä¸€ä¸ª React ç»„ä»¶çš„å®ä¾‹ï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ª DOM å…ƒç´ ã€‚å¯¹äºè¿™ä¸¤ç§æƒ…å†µï¼ŒReact éƒ½æä¾›äº†è§£å†³åŠæ³•ã€‚</p>

<h3 id="ä¸‹é¢æ˜¯å‡ ä¸ªé€‚åˆä½¿ç”¨-refs-çš„æƒ…å†µ">ä¸‹é¢æ˜¯å‡ ä¸ªé€‚åˆä½¿ç”¨ refs çš„æƒ…å†µ</h3>

<ul>
  <li>ç®¡ç†ç„¦ç‚¹ï¼Œæ–‡æœ¬é€‰æ‹©æˆ–åª’ä½“æ’­æ”¾ã€‚</li>
  <li>è§¦å‘å¼ºåˆ¶åŠ¨ç”»ã€‚</li>
  <li>é›†æˆç¬¬ä¸‰æ–¹ DOM åº“ã€‚</li>
</ul>

<p>é¿å…ä½¿ç”¨ refs æ¥åšä»»ä½•å¯ä»¥é€šè¿‡å£°æ˜å¼å®ç°æ¥å®Œæˆçš„äº‹æƒ…ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œé¿å…åœ¨ Dialog ç»„ä»¶é‡Œæš´éœ² open() å’Œ close() æ–¹æ³•ï¼Œæœ€å¥½ä¼ é€’ isOpen å±æ€§ã€‚</p>

<h3 id="å‹¿è¿‡åº¦ä½¿ç”¨-refs">å‹¿è¿‡åº¦ä½¿ç”¨ Refs</h3>

<p>ä½ å¯èƒ½é¦–å…ˆä¼šæƒ³åˆ°ä½¿ç”¨ refs åœ¨ä½ çš„ app ä¸­â€œè®©äº‹æƒ…å‘ç”Ÿâ€ã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œè¯·èŠ±ä¸€ç‚¹æ—¶é—´ï¼Œè®¤çœŸå†è€ƒè™‘ä¸€ä¸‹ state å±æ€§åº”è¯¥è¢«å®‰æ’åœ¨å“ªä¸ªç»„ä»¶å±‚ä¸­ã€‚é€šå¸¸ä½ ä¼šæƒ³æ˜ç™½ï¼Œè®©æ›´é«˜çš„ç»„ä»¶å±‚çº§æ‹¥æœ‰è¿™ä¸ª stateï¼Œæ˜¯æ›´æ°å½“çš„ã€‚æŸ¥çœ‹ çŠ¶æ€æå‡ ä»¥è·å–æ›´å¤šæœ‰å…³ç¤ºä¾‹ã€‚</p>

<p>æ›´å¤šå…³äº refs å’Œ Dom çš„ç›¸å…³ä¿¡æ¯å¯ä»¥è®¿é—® React å®˜ç½‘ <a href="https://zh-hans.reactjs.org/docs/refs-and-the-dom.html">Refs and the DOM</a></p>

<p>ä¸‹é¢æˆ‘ä»¬å†æ¥å­¦ä¹ ä¸€ä¸‹ useRef åœ¨å¦ä¸€ä¸ªåœºæ™¯çš„ä½¿ç”¨ã€‚</p>

<h2 id="å¯ä»¥åœæ­¢çš„è®¡æ—¶å™¨ç¤ºä¾‹">å¯ä»¥åœæ­¢çš„è®¡æ—¶å™¨ç¤ºä¾‹</h2>

<p>éœ€æ±‚æ˜¯é¡µé¢ä¸Šæœ‰ä¸€ä¸ªæ¯éš”1ç§’è‡ªåŠ¨åŠ ä¸€çš„è®¡æ—¶å™¨ï¼Œå¹¶ä¸”æœ‰ä¸ªæŒ‰é’®ï¼Œç‚¹å‡»åè®¡æ—¶å™¨åœæ­¢ï¼Œå…ˆä½¿ç”¨ Class ç»„ä»¶å®Œæˆè¿™æ ·çš„éœ€æ±‚</p>

<h3 id="class-ç»„ä»¶ç¤ºä¾‹">Class ç»„ä»¶ç¤ºä¾‹</h3>

<p>ClassTimer.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">class</span> <span class="nx">ClassTimer</span> <span class="kd">extends</span> <span class="nx">Component</span><span class="o">&lt;</span><span class="p">{},</span> <span class="p">{</span> <span class="na">timer</span><span class="p">:</span> <span class="nx">number</span> <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nx">interval</span><span class="o">!</span><span class="p">:</span> <span class="nx">number</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="na">props</span><span class="p">:</span> <span class="nx">Readonly</span><span class="o">&lt;</span><span class="p">{}</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">timer</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">interval</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">(</span><span class="nx">prevState</span> <span class="o">=&gt;</span> <span class="p">({</span>
        <span class="na">timer</span><span class="p">:</span> <span class="nx">prevState</span><span class="p">.</span><span class="nx">timer</span> <span class="o">+</span> <span class="mi">1</span>
      <span class="p">}))</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">componentWillUnmount</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">clearInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">interval</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
        Timer - <span class="si">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">timer</span><span class="si">}</span>
        <span class="p">&lt;</span><span class="nt">br</span><span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span>
          <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="nx">clearInterval</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">interval</span><span class="p">)</span>
          <span class="p">}</span><span class="si">}</span>
        <span class="p">&gt;</span>Clear Timer<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>App.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./App.css</span><span class="dl">'</span>

<span class="k">import</span> <span class="nx">ClassTimer</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./components/29ClassTimer</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">ClassTimer</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>
</code></pre></div></div>

<p>é¡µé¢å±•ç¤ºå¦‚ä¸‹</p>

<p><img src="https://user-gold-cdn.xitu.io/2020/5/26/1724cb32af5a1f01?w=437&amp;h=179&amp;f=gif&amp;s=11421" alt="" /></p>

<h3 id="function-ç»„ä»¶ç¤ºä¾‹">Function ç»„ä»¶ç¤ºä¾‹</h3>

<p>HookTimer.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useRef</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nx">HookTimer</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">timer</span><span class="p">,</span> <span class="nx">setTimer</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

  <span class="c1">//  @ts-ignore</span>
  <span class="kd">const</span> <span class="nx">intervalRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span> <span class="k">as</span> <span class="p">{</span> <span class="na">current</span><span class="p">:</span> <span class="nx">number</span> <span class="p">}</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">intervalRef</span><span class="p">.</span><span class="nx">current</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setTimer</span><span class="p">(</span><span class="nx">pre</span> <span class="o">=&gt;</span> <span class="nx">pre</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="p">},</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">intervalRef</span><span class="p">.</span><span class="nx">current</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[])</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      HookTimer - <span class="si">{</span><span class="nx">timer</span><span class="si">}</span>
      <span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">clearInterval</span><span class="p">(</span><span class="nx">intervalRef</span><span class="p">.</span><span class="nx">current</span><span class="p">)</span>
        <span class="p">}</span><span class="si">}</span>
      <span class="p">&gt;</span>Clear Hook Timer<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">HookTimer</span>
</code></pre></div></div>

<p>App.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./App.css</span><span class="dl">'</span>

<span class="k">import</span> <span class="nx">ClassTimer</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./components/29ClassTimer</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">HookTimer</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./components/29HookTimer</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">ClassTimer</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nt">hr</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nc">HookTimer</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>
</code></pre></div></div>

<p>é¡µé¢å±•ç¤ºå¦‚ä¸‹</p>

<p><img src="https://user-gold-cdn.xitu.io/2020/5/26/1724cb32af74dd3b?w=437&amp;h=227&amp;f=gif&amp;s=20015" alt="" /></p>

<p>è¿™å°±æ˜¯ useRef çš„ç¬¬äºŒç§ç”¨æ³•ï¼Œå¯ä»¥ç”¨å®ƒåˆ›å»ºä¸€ä¸ªé€šç”¨çš„å®¹å™¨ï¼Œç”¨æ¥ä¿å­˜å˜é‡ã€‚</p>

<h2 id="å°ç»“">å°ç»“</h2>

<p>æœ¬ç« æˆ‘ä»¬å­¦ä¹ äº† useRef çš„ä¸¤ç§ç”¨æ³•ï¼šä¸€æ˜¯è®©æˆ‘ä»¬å…è®¸è®¿é—® Dom èŠ‚ç‚¹ï¼›äºŒæ˜¯æˆä¸ºä¸€ä¸ªå®¹å™¨ï¼Œç”¨æ¥ç¼“å­˜å˜é‡ã€‚ç¬¬äºŒç§ç”¨æ³•è¾ƒä¸ºå°‘è§ï¼Œéœ€è¦å¤šåŠ æ³¨æ„ï¼Œé‡åˆ°ç±»ä¼¼çš„åœºæ™¯å¯ä»¥å°è¯•ä½¿ç”¨ã€‚</p>
:ET