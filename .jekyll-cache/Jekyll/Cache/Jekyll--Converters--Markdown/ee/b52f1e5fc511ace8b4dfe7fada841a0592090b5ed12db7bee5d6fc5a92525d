I"ûF<ul id="markdown-toc">
  <li><a href="#è®¡æ•°å™¨ç¤ºä¾‹" id="markdown-toc-è®¡æ•°å™¨ç¤ºä¾‹">è®¡æ•°å™¨ç¤ºä¾‹</a></li>
  <li><a href="#usememo" id="markdown-toc-usememo">useMemo</a>    <ul>
      <li><a href="#ä¼˜åŒ–ç¤ºä¾‹" id="markdown-toc-ä¼˜åŒ–ç¤ºä¾‹">ä¼˜åŒ–ç¤ºä¾‹</a></li>
      <li><a href="#usememo-ä¸-usecallback-çš„åŒºåˆ«" id="markdown-toc-usememo-ä¸-usecallback-çš„åŒºåˆ«">useMemo ä¸ useCallback çš„åŒºåˆ«</a></li>
    </ul>
  </li>
  <li><a href="#å°ç»“" id="markdown-toc-å°ç»“">å°ç»“</a></li>
</ul>

<p>æœ¬ç³»åˆ—å°†è®²è¿° React Hooks çš„ä½¿ç”¨æ–¹æ³•ï¼Œä» useState å¼€å§‹ï¼Œå°†åŒ…å«å¦‚ä¸‹å†…å®¹ï¼š</p>

<ul>
  <li><a href="https://juejin.im/post/6844904111024930824">useState</a></li>
  <li><a href="https://juejin.im/post/6844904153580306446">useEffect</a></li>
  <li><a href="https://juejin.im/post/6844904153584500749">useContext</a></li>
  <li><a href="https://juejin.im/post/6844904157892050957">useReducer</a></li>
  <li><a href="https://juejin.im/post/6844904162040233997">useCallback</a></li>
  <li><a href="https://juejin.im/post/6844904162304458760">useMemo</a></li>
  <li><a href="https://juejin.im/post/6844904168562360328">useRef</a></li>
  <li><a href="https://juejin.im/post/6844904169539633166">custom hooks</a></li>
</ul>

<p>æŒæ¡ React Hooks api å°†æ›´å¥½çš„å¸®åŠ©ä½ åœ¨å·¥ä½œä¸­ä½¿ç”¨ï¼Œå¯¹ React çš„æŒæ¡æ›´ä¸Šä¸€å±‚æ¥¼ã€‚æœ¬ç³»åˆ—å°†ä½¿ç”¨å¤§é‡å®ä¾‹ä»£ç å’Œæ•ˆæœå±•ç¤ºï¼Œéå¸¸æ˜“äºåˆå­¦è€…å’Œå¤ä¹ ä½¿ç”¨ã€‚</p>

<p>ä¸Šä¸€ç« ï¼Œæˆ‘ä»¬å­¦ä¹ äº† useCallback æ¥è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œå…³äºæ€§èƒ½ä¼˜åŒ–è¿˜æœ‰å¦ä¸€ä¸ª hook apiï¼Œé‚£å°±æ˜¯ useMemoï¼Œä¸‹é¢æˆ‘ä»¬ä¸€èµ·é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹ã€‚</p>

<h2 id="è®¡æ•°å™¨ç¤ºä¾‹">è®¡æ•°å™¨ç¤ºä¾‹</h2>

<p>ä¾ç„¶æ˜¯è®¡æ•°å™¨ç¤ºä¾‹ï¼Œåˆ›å»º2ä¸ªè®¡æ•°å™¨ï¼Œå¹¶èƒ½åŒºåˆ†å½“å‰æ˜¯å¥‡æ•°æˆ–è€…å¶æ•°ï¼Œä¸ºäº†æ¨¡æ‹Ÿç‚¹å‡»æŒ‰é’®æ—¶åŒ…å«å¤§é‡çš„è®¡ç®—é€»è¾‘å½±å“æ€§èƒ½ï¼Œåœ¨åˆ¤æ–­å¶æ•°çš„æ–¹æ³•ä¸­æ·»åŠ äº†æ²¡æœ‰ç”¨çš„è®¡ç®—é€»è¾‘ï¼Œä¸ºäº†è®©æ€§èƒ½å·®çš„æ˜æ˜¾ã€‚ä»£ç å¦‚ä¸‹</p>

<p>Counter.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nx">Counter</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">counterOne</span><span class="p">,</span> <span class="nx">setCounterOne</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">counterTwo</span><span class="p">,</span> <span class="nx">setCounterTwo</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

  <span class="kd">const</span> <span class="nx">incrementOne</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCounterOne</span><span class="p">(</span><span class="nx">counterOne</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="kd">const</span> <span class="nx">incrementTwo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCounterTwo</span><span class="p">(</span><span class="nx">counterTwo</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="kd">const</span> <span class="nx">isEven</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">1000000000</span><span class="p">)</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="nx">counterOne</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">incrementOne</span><span class="si">}</span>
      <span class="p">&gt;</span>Count One = <span class="si">{</span><span class="nx">counterOne</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
        <span class="si">{</span>
          <span class="nx">isEven</span><span class="p">()</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">even</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">odd</span><span class="dl">'</span>
        <span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">incrementTwo</span><span class="si">}</span>
      <span class="p">&gt;</span>Count Two = <span class="si">{</span><span class="nx">counterTwo</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Counter</span>
</code></pre></div></div>

<p>App.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">./App.css</span><span class="dl">'</span>

<span class="k">import</span> <span class="nx">Counter</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./components/27.Counter</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"App"</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">Counter</span> <span class="p">/&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">App</span>
</code></pre></div></div>

<p>é¡µé¢å±•ç¤ºå¦‚ä¸‹</p>

<p><img src="https://user-gold-cdn.xitu.io/2020/5/18/1722810b8f2b8042?w=702&amp;h=286&amp;f=gif&amp;s=41101" alt="" /></p>

<p>æˆ‘ä»¬å‘ç°ç‚¹å‡»ç¬¬ä¸€ä¸ªæŒ‰é’®æœ‰è¾ƒé•¿çš„å»¶è¿Ÿï¼Œå› ä¸ºæˆ‘ä»¬çš„åˆ¤æ–­å¶æ•°çš„é€»è¾‘ä¸­åŒ…å«äº†å¤§é‡çš„è®¡ç®—é€»è¾‘ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®ï¼Œä¹Ÿæœ‰è¾ƒé•¿çš„å»¶è¿Ÿï¼è¿™å¾ˆå¥‡æ€ªã€‚</p>

<p>è¿™æ˜¯å› ä¸ºï¼Œæ¯æ¬¡ state æ›´æ–°æ—¶ï¼Œç»„ä»¶ä¼š rerenderï¼ŒisEven ä¼šè¢«æ‰§è¡Œï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®æ—¶ï¼Œä¹Ÿä¼šå¡çš„åŸå› ã€‚æˆ‘ä»¬éœ€è¦ä¼˜åŒ–ï¼Œå‘Šè¯‰ React ä¸è¦æœ‰ä¸å¿…è¦çš„è®¡ç®—ï¼Œç‰¹åˆ«æ˜¯è¿™ç§è®¡ç®—é‡å¤æ‚çš„ã€‚</p>

<p>åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬è¦å‘Šè¯‰ Reactï¼Œåœ¨ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®æ—¶ï¼Œä¸è¦æ‰§è¡Œ isEven æ–¹æ³•ã€‚è¿™æ—¶å°±éœ€è¦ useMemo hook ç™»åœºäº†ã€‚</p>

<h2 id="usememo">useMemo</h2>

<h3 id="ä¼˜åŒ–ç¤ºä¾‹">ä¼˜åŒ–ç¤ºä¾‹</h3>

<p>ä¸ useCallback çš„ç”¨æ³•ç±»ä¼¼ã€‚</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">memoizedValue</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">computeExpensiveValue</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">),</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">]);</span>
</code></pre></div></div>
<blockquote>
  <p>è¿”å›ä¸€ä¸ª memoized å€¼ã€‚
æŠŠâ€œåˆ›å»ºâ€å‡½æ•°å’Œä¾èµ–é¡¹æ•°ç»„ä½œä¸ºå‚æ•°ä¼ å…¥ <code class="language-plaintext highlighter-rouge">useMemo</code>ï¼Œå®ƒä»…ä¼šåœ¨æŸä¸ªä¾èµ–é¡¹æ”¹å˜æ—¶æ‰é‡æ–°è®¡ç®— memoized å€¼ã€‚è¿™ç§ä¼˜åŒ–æœ‰åŠ©äºé¿å…åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½è¿›è¡Œé«˜å¼€é”€çš„è®¡ç®—ã€‚</p>

  <p>è®°ä½ï¼Œä¼ å…¥ <code class="language-plaintext highlighter-rouge">useMemo</code> çš„å‡½æ•°ä¼šåœ¨æ¸²æŸ“æœŸé—´æ‰§è¡Œã€‚è¯·ä¸è¦åœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨æ‰§è¡Œä¸æ¸²æŸ“æ— å…³çš„æ“ä½œï¼Œè¯¸å¦‚å‰¯ä½œç”¨è¿™ç±»çš„æ“ä½œå±äº <code class="language-plaintext highlighter-rouge">useEffect</code> çš„é€‚ç”¨èŒƒç•´ï¼Œè€Œä¸æ˜¯ <code class="language-plaintext highlighter-rouge">useMemo</code>ã€‚</p>

  <p>å¦‚æœæ²¡æœ‰æä¾›ä¾èµ–é¡¹æ•°ç»„ï¼Œ<code class="language-plaintext highlighter-rouge">useMemo</code> åœ¨æ¯æ¬¡æ¸²æŸ“æ—¶éƒ½ä¼šè®¡ç®—æ–°çš„å€¼ã€‚</p>

  <p><strong>ä½ å¯ä»¥æŠŠ useMemo ä½œä¸ºæ€§èƒ½ä¼˜åŒ–çš„æ‰‹æ®µï¼Œä½†ä¸è¦æŠŠå®ƒå½“æˆè¯­ä¹‰ä¸Šçš„ä¿è¯ã€‚</strong> å°†æ¥ï¼ŒReact å¯èƒ½ä¼šé€‰æ‹©â€œé—å¿˜â€ä»¥å‰çš„ä¸€äº› memoized å€¼ï¼Œå¹¶åœ¨ä¸‹æ¬¡æ¸²æŸ“æ—¶é‡æ–°è®¡ç®—å®ƒä»¬ï¼Œæ¯”å¦‚ä¸ºç¦»å±ç»„ä»¶é‡Šæ”¾å†…å­˜ã€‚å…ˆç¼–å†™åœ¨æ²¡æœ‰ useMemo çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥æ‰§è¡Œçš„ä»£ç  â€”â€” ä¹‹åå†åœ¨ä½ çš„ä»£ç ä¸­æ·»åŠ  useMemoï¼Œä»¥è¾¾åˆ°ä¼˜åŒ–æ€§èƒ½çš„ç›®çš„ã€‚</p>
</blockquote>

<p>é¦–å…ˆå¼•å…¥ useMemo</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useMemo</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>
</code></pre></div></div>

<p>ç„¶åå°† isEven æ–¹æ³•ä½¿ç”¨ useMemo æ”¹å†™ï¼Œè¿”å›å€¼èµ‹ç»™ isEven</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">isEven</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">1000000000</span><span class="p">)</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="nx">counterOne</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span>
<span class="p">},</span> <span class="p">[</span><span class="nx">counterOne</span><span class="p">])</span>
</code></pre></div></div>

<p>æœ€åè®°å¾—ä¿®æ”¹ isEven ä½¿ç”¨çš„åœ°æ–¹ï¼Œå·²ç»ä»ä¸€ä¸ªæ–¹æ³•å˜ä¸ºäº†ä¸€ä¸ªå˜é‡</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nx">isEven</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">even</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">odd</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<p>å®Œæ•´ä»£ç å¦‚ä¸‹</p>

<p>Counter.tsx</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useMemo</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span>

<span class="kd">function</span> <span class="nx">Counter</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">counterOne</span><span class="p">,</span> <span class="nx">setCounterOne</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">counterTwo</span><span class="p">,</span> <span class="nx">setCounterTwo</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

  <span class="kd">const</span> <span class="nx">incrementOne</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCounterOne</span><span class="p">(</span><span class="nx">counterOne</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="kd">const</span> <span class="nx">incrementTwo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setCounterTwo</span><span class="p">(</span><span class="nx">counterTwo</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="kd">const</span> <span class="nx">isEven</span> <span class="o">=</span> <span class="nx">useMemo</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">1000000000</span><span class="p">)</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="nx">counterOne</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">counterOne</span><span class="p">])</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">incrementOne</span><span class="si">}</span>
      <span class="p">&gt;</span>Count One = <span class="si">{</span><span class="nx">counterOne</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>
        <span class="si">{</span>
          <span class="nx">isEven</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">even</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">odd</span><span class="dl">'</span>
        <span class="si">}</span>
      <span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">br</span> <span class="p">/&gt;</span>
      <span class="p">&lt;</span><span class="nt">button</span>
        <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="nx">incrementTwo</span><span class="si">}</span>
      <span class="p">&gt;</span>Count Two = <span class="si">{</span><span class="nx">counterTwo</span><span class="si">}</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">)</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Counter</span>
</code></pre></div></div>

<p>æ•ˆæœå¦‚ä¸‹</p>

<p><img src="https://user-gold-cdn.xitu.io/2020/5/18/1722810b9c48ecc9?w=702&amp;h=286&amp;f=gif&amp;s=40558" alt="" /></p>

<p>æˆ‘ä»¬çœ‹åˆ°ç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®æ—¶ï¼Œä¸ä¼šæœ‰ä»»ä½•å¡é¡¿ï¼Œè¿™æ˜¯å› ä¸ºä½¿ç”¨äº† useMemo åªä¾èµ–äº† counterOne å˜é‡ï¼Œç‚¹å‡»ç¬¬äºŒä¸ªæŒ‰é’®æ—¶ï¼ŒisEven è¯»å–çš„æ˜¯ç¼“å­˜å€¼ï¼Œä¸éœ€è¦å†é‡æ–°è®¡ç®—æ˜¯å¦ä¸ºå¶æ•°ã€‚</p>

<h3 id="usememo-ä¸-usecallback-çš„åŒºåˆ«">useMemo ä¸ useCallback çš„åŒºåˆ«</h3>

<p>useCallback æ˜¯ç¼“å­˜äº†å‡½æ•°è‡ªèº«ï¼Œè€Œ useMemo æ˜¯ç¼“å­˜äº†å‡½æ•°çš„è¿”å›å€¼ã€‚</p>

<h2 id="å°ç»“">å°ç»“</h2>

<p>æœ¬ç« é€šè¿‡ç¤ºä¾‹å±•ç¤ºäº† useMemo åœ¨æ€§èƒ½ä¼˜åŒ–ä¸­çš„ä½œç”¨ã€‚é€šè¿‡ç¼“å­˜å‡½æ•°çš„è¿”å›å€¼ï¼Œé¿å…ä¸å¿…è¦çš„è°ƒç”¨ï¼Œä»è€Œé¿å…äº†ç»„ä»¶ rerenderã€‚</p>

<p>æœ€åæœ‰åˆ†æäº† useMemo ä¸ useCallback çš„åŒºåˆ«ï¼Œå³ useMemo æ˜¯ç¼“å­˜äº†å‡½æ•°çš„è¿”å›å€¼ï¼ŒuseCallback æ˜¯ç¼“å­˜äº†å‡½æ•°è‡ªèº«ã€‚è¿™ä¸¤ä¸ª api éƒ½æ˜¯æ€§èƒ½ä¼˜åŒ–çš„æ–¹æ³•ã€‚</p>
:ET