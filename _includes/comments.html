
{% if site.utterance_open %}
<!-- 【2023-1-4】github新插件utteranc.es -->
<script src="https://utteranc.es/client.js"
        repo="{{site.github_username}}/{{site.github_reponame}}"
        issue-term="title"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
{% endif %}

{% if site.giscus_open %}
<!-- 【2023-1-4】github新插件giscus, 暂未启用 -->
<script src="https://giscus.app/client.js"
        data-repo="{{site.github_username}}/{{site.github_reponame}}"
        data-repo-id="MDEwOlJlcG9zaXRvcnkxNDE3ODEwMzg="
        data-category="Announcements"
        data-category-id="DIC_kwDOCHNoLs4CRJjU"
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang="en"
        // data-lang="zh-CN" 
        crossorigin="anonymous"
        async>
</script>
{% endif %}

{% if site.gitment_open %}
<!-- Gitment评论插件: https://frankjkl.github.io/2019/01/08/blogbuild-%E5%9C%A8Jekyll%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0gitment%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F/ -->
<div id="gitmentContainer"></div>
<!-- <link rel="stylesheet" href="https://jjeejj.github.io/css/gitment.css"> -->
<link rel="stylesheet" href="{{ site.baseurl }}/css/gitment.css">
<!-- <script src="https://jjeejj.github.io/js/gitment.js"></script> -->
<script src="{{ site.baseurl }}/js/gitment.js"></script>
<!-- 【2020-1-14】以上方法失效，下面两行代码是补丁 -->
<!-- <script src="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/gitment.browser.js"></script> -->
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/theme-next/theme-next-gitment@1/default.css"/> -->

<script>
var gitment = new Gitment({
    id : '{{ page.title }}',
    owner: '{{site.github_username}}',
    repo: '{{site.comment_gitalk_repo}}',
    oauth: {
        client_id: '{{site.comment_gitalk_clientId}}',
        client_secret: '{{site.comment_gitalk_clientSecret}}',
    },
});
gitment.render('gitmentContainer');
</script>
{% endif %}

{% if site.gitalk_open %}
<!-- gitalk评论插件: https://github.com/gitalk/gitalk/blob/master/readme-cn.md -->
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<!-- Gitalk start -->
<div id="gitalk-container"></div> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script> 
<script>
    var gitalk  = new Gitalk ({
        id: location.pathname,
        //id: window.location.pathname,   // Ensure uniqueness and length less than 50
        clientID: '{{site.comment_gitalk_clientId}}',
        clientSecret: '{{site.comment_gitalk_clientSecret}}',
        repo: '{{site.comment_gitalk_repo}}',
        owner: '{{site.github_username}}',
        admin: ['{{site.github_username}}'],
	    // distractionFreeMode: False  // Facebook-like distraction free mode
    })
    gitalk.render('gitalk-container')
</script> 
<!-- Gitalk end -->
{% endif %}

{% if site.duoshuo_shortname %}
<p> --多说-- </p>
<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="{{ site.url }}{{ page.url }}" data-title="{{page.title}}" data-url="{{ site.url }}{{ page.url }}"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    var duoshuoQuery = {
        short_name: "{{site.duoshuo_shortname}}"
    };
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';
        ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->
{% endif %}

<!-- disqus插件 -->
{% if site.disqus_shortname %}
<p> --disqus-- </p>
<div id="disqus_thread"></div>
<script>
    /**
     * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    var disqus_config = function() {
        this.page.url = '{{ site.url }}{{ page.url }}'; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = '{{ site.url }}{{ page.url }}'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };

    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement('script');

        s.src = '//{{site.disqus_shortname}}.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
{% endif %}

{% if site.livere_open %}
<p> --来必力-- </p>
<!-- 来必力评论插件 -->
    {% if not (site.duoshuo and site.duoshuo.shortname) and not site.duoshuo_shortname and not site.disqus_shortname and not site.hypercomments_id and not site.gentie_productKey %}
        {% if site.livere_uid %}
            <script type="text/javascript">
                (function(d, s) {
                    var j, e = d.getElementsByTagName(s)[0];
                    if (typeof LivereTower === 'function') { return; }
                    j = d.createElement(s);
                    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
                    j.async = true;
                    e.parentNode.insertBefore(j, e);
                })(document, 'script');
            </script>
        {% endif %}
    {% endif %}

<!-- 来必力City版安装代码 -->
<div id="lv-container" data-id="city" data-uid="MTAyMC80NTU2OC8yMjA3OQ==">
    <script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
    </script>
<noscript> 为正常使用来必力评论功能请激活JavaScript</noscript>
</div>
<!-- City版安装代码已完成 -->
{% endif %}

